/*Styles*/
function rectangle(a,b,c,d){var e,f,g,h,i;i=Math.min(d.width,d.height)*(Math.max(a,b)/20),a>b?(g=i,h=i*(b/a)):(g=i*(a/b),h=i),e=(d.width-g)*.5,f=(d.height-h)*.5;var j=new Path.Rectangle(new Point(e,f),new Size(g,h));j.style=edgeStyle;var k=new PointText(new Point(e+g*.5-10,f+h+15));k.content=""+a+" "+c;var l=new PointText(new Point(e+g+5,f+h*.5));l.content=""+b+" "+c,Interaction.printVertexLetters([new Point(e-10,f+h+10),new Point(e+g+10,f+h+10),new Point(e+g+10,f-10),new Point(e-10,f-10)])}function rhomboid(a,b,c,d,e){var f,g,h,i,j,k;k=Math.min(e.width,e.height)*(Math.max(a+b,c)/20),2*a+b>c?(h=k*((a+b)/(2*a+b)),i=k*a/(2*a+b),j=k*(c/(2*a+b))):(h=k*((a+b)/c),i=k*a/c,j=k),f=(e.width-(h+i))*.5,g=(e.height-j)*.5;var l=new Path.Rhomboid(new Point(f,g),new Size(h,j),i);l.style=edgeStyle;var m=new Path.Line(new Point(f+i,g),new Point(f+i,g+j));m.style=edgeStyle;var n=new PointText(new Point(f+h*.5-10,g+j+45));n.content=""+(a+b)+" "+d;var o=new PointText(new Point(f+i+5,g+j*.5));o.content=""+c+" "+d;var p=new Path.Rectangle(new Point(f+i-10,g+j-10),new Size(10,10));p.style=edgeStyle;var q=new Path.Circle(new Point(f+i-5,g+j-5),1);q.style=edgeStyle;var r=new Raster("curve");r.position=new Point(f+h*.5,g+j+20),r.size=new Size(h,r.height),Interaction.printVertexLetters([new Point(f-10,g+j+10),new Point(f+h+10,g+j+10),new Point(f+i+h+10,g-10),new Point(f+i-10,g-10),new Point(f+i,g+j+12)])}function triangle(a,b,c,d,e){var f,g,h,i,j,k;k=Math.min(e.width,e.height)*(Math.max(a+b,c)/20),a+b>c?(h=k,i=k*a/(a+b),j=k*(c/(a+b))):(h=k*((a+b)/c),i=k*a/c,j=k),f=(e.width-h)*.5,g=(e.height-j)*.5;var l=new Path.Triangle(new Point(f,g+j),new Point(f+h,g+j),new Point(f+i,g));l.style=edgeStyle;var m=new Path.Line(new Point(f+i,g),new Point(f+i,g+j));m.style=edgeStyle;var n=new PointText(new Point(f+h*.5-10,g+j+45));n.content=""+(a+b)+" "+d;var o=new PointText(new Point(f+i+5,g+j*.5));o.content=""+c+" "+d;var p=new Path.Rectangle(new Point(f+i-10,g+j-10),new Size(10,10));p.style=edgeStyle;var q=new Path.Circle(new Point(f+i-5,g+j-5),1);q.style=edgeStyle;var r=new Raster("curve");r.position=new Point(f+h*.5,g+j+20),r.size=new Size(h,r.height),Interaction.printVertexLetters([new Point(f-10,g+j+10),new Point(f+h+10,g+j+10),new Point(f+i-10,g-10),new Point(f+i,g+j+12)])}var solutionCSS={position:"absolute",bottom:"40px",right:"60px",color:"green",fontSize:"16px",fontWeight:"bold"},textStyle={"font-size":"16px"},edgeStyle={strokeColor:"#255b63",fillColor:"#bfe8ef",strokeWidth:2,cursor:"move"},angleStyle={fill:"#DDD"},gridLineStyle={strokeColor:"#ccc",strokeWidth:1},Animation={init:function(a){function b(a,b,c,d,e,g,h){this.staticPoints=a,this.relativePoints=b,this.style1=c,this.style2=d,this.duration=e,this.delay=g,this.textHTML=h,this.shape=null,this.draw=function(){this.shape&&this.shape.remove(),this.shape=new Path;for(var a=0;a<this.staticPoints.length;a++)this.shape.add(this.staticPoints[a]);this.shape.add(this.staticPoints[0]),this.shape.set_style(this.style1)},this.animate({style:{},duration:0,delay:g,init:this.draw});if(g==null||g==undefined)this.delay=0;this.startAnimation=function(){this.pointsLength=this.staticPoints.length;for(var a=0;a<this.staticPoints.length;a++)this["point"+a]=this.staticPoints[a];for(var b in this.style1)this[b]=this.style1[b];var c={};for(var a=0;a<this.relativePoints.length;a++)c["point"+a]=this.relativePoints[a];for(var b in this.style2)c[b]=this.style2[b];this.animate({style:c,duration:this.duration,delay:this.delay,animationType:"easeIn",update:function(){this.shape&&this.shape.remove(),this.shape=new Path;for(var a=0;a<this.pointsLength;a++)this.shape.add(this["point"+a]);this.shape.add(this.point0),this.shape.set_style(this.style1),this.opacity&&this.shape.set_style({opacity:this.opacity}),this.shape.fillColor=this.fillColor},callback:function(){function b(a,b,c,d){this.point=c,this.span=a,this.container=b,this.getPoint=function(a){return new Point(this.point.x+f*parseInt($(this.span,this.container).attr(a).split(",")[0],10),this.point.y+f*parseInt($(this.span,this.container).attr(a).split(",")[1],10))};var e=this.getPoint("lineFrom"),g=this.getPoint("lineTo"),h=new Path.Line(e,g);h.set_style({strokeWidth:3,strokeColor:"#f00"}),h.opacity=0,h._this_span=this.span,h._this_container=this.container,h.spanColor=new RgbColor(0,0,0),h.animate({style:{opacity:1,spanColor:new RgbColor(1,0,0)},duration:500,delay:0+d,callback:function(){this.animate({style:{opacity:0,spanColor:new RgbColor(0,0,0)},duration:500,delay:500,update:function(){$(this._this_span,this._this_container).css({color:this.spanColor.toCssString()})},callback:this.remove})},update:function(){$(this._this_span,this._this_container).css({color:this.spanColor.toCssString()})}})}this.shape.set_style(this.style2);var a=document.createElement("div");$(Animation.container).append(a),$(a).html(this.textHTML).css({position:"absolute",top:this.point0.y+Animation.gridSize*3,left:(this.point3.x+this.point2.x)*.5+10,backgroundColor:"#fff",marginLeft:"-55px",lineHeight:"20px",textAlign:"center",fontWeight:"bold"}),new b("span#1",a,this.point0,0),new b("span#2",a,this.point0,1500)}})}}b.prototype.animate=Item.prototype.animate,Animation.container=a;var c=$(a).width(),d=$(a).height(),e=new Point(c*.5-350+.5,d*.5-90),f=35;Animation.gridSize=f;for(var g=1;g<4;g++)(new Path.Line(new Point(e.x,e.y+f*g),new Point(e.x+700,e.y+f*g))).set_style(gridLineStyle);for(var g=1;g<20;g++)(new Path.Line(new Point(e.x+f*g,e.y),new Point(e.x+f*g,e.y+140))).set_style(gridLineStyle);var h=new b([new Point(e.x+f*1,e.y+f*1),new Point(e.x+f*1,e.y+f*1),new Point(e.x+f*1,e.y+f*1),new Point(e.x+f*1,e.y+f*1)],[new Point(e.x+f*1,e.y+f*1),new Point(e.x+f*3,e.y+f*1),new Point(e.x+f*3,e.y+f*3),new Point(e.x+f*1,e.y+f*3)],{strokeColor:"#000",strokeWidth:2,fillColor:new RgbColor(1,1,0,.5)},{},1e3,0,'Karesel Bölge<br/> A = <span id="1" lineFrom="0,0" lineTo="0,2" >2br</span> x <span id="2" lineFrom="0,2" lineTo="2,2" >2br</span> = 4br²');h.startAnimation();var i=new b([new Point(e.x+f*5,e.y+f*1),new Point(e.x+f*7,e.y+f*1),new Point(e.x+f*7,e.y+f*3),new Point(e.x+f*5,e.y+f*3)],[new Point(e.x+f*5,e.y+f*1),new Point(e.x+f*8,e.y+f*1),new Point(e.x+f*8,e.y+f*3),new Point(e.x+f*5,e.y+f*3)],{strokeColor:"#000",strokeWidth:2,fillColor:new RgbColor(1,1,0,.5)},{fillColor:new RgbColor(1,.7,.7,.5)},1e3,4e3,'Dikdörtgensel Bölge<br/> A = <span id="1" lineFrom="0,0" lineTo="0,2" >2br</span> x <span id="2" lineFrom="0,2" lineTo="3,2" >3br</span> = 6br²');i.startAnimation();var j=new b([new Point(e.x+f*10,e.y+f*1),new Point(e.x+f*13,e.y+f*1),new Point(e.x+f*13,e.y+f*3),new Point(e.x+f*10,e.y+f*3)],[new Point(e.x+f*11,e.y+f*1),new Point(e.x+f*14,e.y+f*1),new Point(e.x+f*13,e.y+f*3),new Point(e.x+f*10,e.y+f*3)],{strokeColor:"#000",strokeWidth:2,fillColor:new RgbColor(1,.7,.7,.5)},{fillColor:new RgbColor(.5,.7,1,.5)},1e3,8e3,'Paralelkenarsal Bölge<br/> A = <span id="1" lineFrom="0,0" lineTo="0,2" >2br</span> x <span id="2" lineFrom="-1,2" lineTo="2,2" >3br</span> = 6br²');j.startAnimation();var k=new b([new Point(e.x+f*17,e.y+f*1),new Point(e.x+f*20,e.y+f*1),new Point(e.x+f*19,e.y+f*3),new Point(e.x+f*16,e.y+f*3)],[new Point(e.x+f*17,e.y+f*1),new Point(e.x+f*20,e.y+f*1),new Point(e.x+f*19,e.y+f*3),new Point(e.x+f*16,e.y+f*3)],{strokeColor:"#000",strokeWidth:2,fillColor:new RgbColor(.5,.7,1,.5),opacity:1},{fillColor:new RgbColor(1,1,.7,.5),opacity:0},1500,12e3);k.startAnimation();var l=new b([new Point(e.x+f*17,e.y+f*1),new Point(e.x+f*17,e.y+f*1),new Point(e.x+f*19,e.y+f*3),new Point(e.x+f*16,e.y+f*3)],[new Point(e.x+f*17,e.y+f*1),new Point(e.x+f*17,e.y+f*1),new Point(e.x+f*19,e.y+f*3),new Point(e.x+f*16,e.y+f*3)],{strokeColor:"#000",strokeWidth:2,fillColor:new RgbColor(.5,.7,1,.5)},{fillColor:new RgbColor(1,1,.7,.5)},1500,13e3,'Üçgensel Bölge<br/><span style="position:relative;top:10px;"> A =</span><span id="1" lineFrom="0,0" lineTo="0,2" >2br</span> x <span id="2" lineFrom="-1,2" lineTo="2,2" >3br</span><span style="position:relative;top:10px;"> = 3br²</span><br/><div style="position:relative;height:20px;width:50px;border-top:1px solid #000;left:30px;text-align:center;">2</div>');l.startAnimation(),Main.animationFinished(17e3)}},Interaction={};Interaction.images=[{id:"curve",src:"/assets/animations/curve_thin.png"}],Interaction.getFramework=function(){return"paper"},Interaction.init=function(a){Main.setObjective("Yandaki geometrik şekillerin alanlarını bulunuz ve “Kontrol” düğmesine basarak  ya da “Enter” tuşuna basarak kontrol ediniz."),Interaction.container=a,$(Interaction.container).append('<div id="L"></div><div id="R"></div>'),Interaction.L=$("div#L",Interaction.container).get(0),Interaction.R=$("div#R",Interaction.container).get(0),$(Interaction.container).append("<style>div#L,div#R{float:left;}</style>"),$(Interaction.container).append("<style>div#L{position:absolute;top:0px;left:0px;width:60%;height:100%;text-align:center;}</style>"),$(Interaction.container).append("<style>div#R{position:absolute;top:0px;left:60%;width:40%;height:100%;}</style>"),$(Interaction.container).append("<style>div#R > div#T{box-sizing:border-box;padding-top:40%;}</style>"),$(Interaction.container).append("<style>div#R > div#B{box-sizing:border-box;text-align:right;padding-right:25%;padding-top:10%;}</style>"),$(Interaction.R).append('<div id="T"></div><div id="B"></div>'),Interaction.input=Interaction.appendInput({position:"static"},!0,!1),$("div#T",Interaction.R).append("A =&nbsp;"),$("div#T",Interaction.R).append(Interaction.input),$("div#T",Interaction.R).append('&nbsp;<span id="input_measure"></span>²'),Interaction.appendButton({position:"static"}),$("div#B",Interaction.R).append(Interaction.button),$("div#B",Interaction.R).append('<div id="status"></div>'),Interaction.appendStatus({bottom:"80px",right:"60px"}),Interaction.prepareNextQuestion()},Interaction.nextQuestion=function(){if(Interaction.isPaused())return;$(Interaction.solution).remove(),Interaction.shape=null,Interaction.trial=0,Interaction.values=null,Main.interactionProject.activeLayer.removeChildren(),Interaction.shape=Math.floor(Math.random()*4),Interaction.paper={width:300,height:300};var a=Math.floor(Math.random()*2);Interaction.setMeasure(a),Interaction.letters=Math.random()>.5?["A","B","C","D","E"]:["K","L","M","N","P"];switch(Interaction.shape){case 0:var b=Math.floor(Math.random()*10)+5,c=b*b;Interaction.values={a:b,area:c},new rectangle(b,b,Interaction.getMeasure(),Interaction.paper);break;case 1:var b,d;b=Math.floor(Math.random()*10)+5,d=b;while(b==d)d=Math.floor(Math.random()*10)+5;Interaction.values={a:b,b:d,area:b*d},rectangle(b,d,Interaction.getMeasure(),Interaction.paper);break;case 2:var b,d,e;b=Math.floor(Math.random()*5)+5,d=b;while(b==d)d=Math.floor(Math.random()*5)+5;e=Math.floor(Math.random()*5)+5,Interaction.values={a:b,b:d,H:e,area:(b+d)*e},rhomboid(b,d,e,Interaction.getMeasure(),Interaction.paper);break;case 3:var b,d,e;b=Math.floor(Math.random()*5)+5,d=b;while(b==d)d=Math.floor(Math.random()*5)+5;e=1;while(e%2==1)e=Math.floor(Math.random()*5)+5;Interaction.values={a:b,b:d,H:e,area:(b+d)*e*.5},triangle(b,d,e,Interaction.getMeasure(),Interaction.paper)}},Interaction.setMeasure=function(a){Interaction.measure=a,$("#input_measure").html(Interaction.getMeasure())},Interaction.getMeasure=function(){if(Interaction.measure==null||Interaction.measure=="undefined")throw"Interaction.measure is not defined";return Interaction.measure==0?"cm":"m"},Interaction.showSolution=function(){Interaction.pause();var a=Util.dom({tag:"div",parent:Interaction.container,css:solutionCSS,html:'<span id="0"></span><span id="1">&nbsp;x&nbsp;</span><span id="2"></span><span id="3">&nbsp;=&nbsp;</span><span id="4"></span>'});Interaction.solution=a;switch(Interaction.shape){case 0:$("#0",a).html(Interaction.values.a),$("#2",a).html(Interaction.values.a),$("#4",a).html(Interaction.values.area);break;case 1:$("#0",a).html(Interaction.values.a),$("#2",a).html(Interaction.values.b),$("#4",a).html(Interaction.values.area);break;case 2:$("#0",a).html(Interaction.values.a+Interaction.values.b),$("#2",a).html(Interaction.values.H),$("#4",a).html(Interaction.values.area);break;case 3:var b={position:"relative",top:"-8px"};$("#0",a).css(b).html(Interaction.values.a+Interaction.values.b),$("#1",a).css(b),$("#2",a).css(b).html(Interaction.values.H),$(a).append("<div></div>"),$("div",a).css({position:"absolute",width:$("#0",a).width()+$("#1",a).width()+$("#2",a).width(),borderTop:"1px solid green",textAlign:"center",height:"30px",top:"7px",left:"0px"}).html(2),$("#4",a).html(Interaction.values.area)}for(var c=0;c<5;c++)$("#"+c,a).css({opacity:0}).delay(1e3*c).animate({opacity:1},1e3,c==4?Interaction.resume:undefined)},Interaction.isAnswerCorrect=function(){var a=Interaction.input.value;return parseInt(a,10)===Interaction.values.area},Interaction.onWrongAnswer=function(){},Interaction.onCorrectAnswer=function(){},Interaction.onFail=function(){Interaction.input.value=Interaction.values.area,Interaction.setStatus("Yanlış. Doğru cevap: "+Interaction.values.area+" "+Interaction.getMeasure()+"²",!1),Interaction.showSolution()},Interaction.printVertexLetters=function(a){for(var b=0;b<a.length;b++){var c=new PointText(a[b]);c.content=""+Interaction.letters.shift(),c.style=textStyle,c=null}};