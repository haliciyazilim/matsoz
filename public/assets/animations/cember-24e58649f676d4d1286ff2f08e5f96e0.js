// JavaScript Document
/*Styles*/
function Compass(a,b){this.defaultX=a,this.defaultY=b,this.left=new Raster("compass_left_leg"),this.right=new Raster("compass_right_leg"),this.knuckle=new Raster("compass_knuckle"),this.R=this.left.size.height,this.group=new Group,this.group.addChild(this.left),this.group.addChild(this.right),this.group.addChild(this.knuckle),this.left.position=[a,b-this.left.size.height*.5],this.knuckle.position=[a+this.left.size.width*.5,b-this.left.size.height-this.knuckle.size.height*.5],this.right.position=[a+this.left.size.width,b-this.right.size.height*.5],this.d=this.right.position.x-this.left.position.x,this.remove=function(){this.left.remove(),this.right.remove(),this.knuckle.remove()},this.changeDelta=function(a){var b=Math.acos(this.d/(2*this.R)),c=Math.acos((this.d+a)/(2*this.R)),d=Util.radianToDegree(b)-Util.radianToDegree(c),e=this.R*(Math.sin(b)-Math.sin(c));this.left.rotate(d,[this.defaultX,this.defaultY]),this.right.rotate(-d,[this.defaultX+this.d,this.defaultY]),this.knuckle.position.y+=e,this.right.position.x+=a,this.knuckle.position.x+=a/2,this.d+=a},this.rotate=function(a,b){this.left.rotate(a,b),this.right.rotate(a,b),this.knuckle.rotate(a,b)}}var textStyle={"font-size":"16px","text-color":"#55f"},lineStyle={strokeColor:"#000",strokeWidth:1},circleStyle={strokeColor:"#000"},angleStyle={"stroke-width":"2px"},Animation=function(){};Animation();var Interaction=function(){};Interaction(),Interaction.getFramework=function(){return"paper"},Interaction.images=[{id:"ruler",src:"/assets/animations/ruler.png"},{id:"compass_left_leg",src:"/assets/animations/compass_left_leg.png"},{id:"compass_knuckle",src:"/assets/animations/compass_knuckle.png"},{id:"compass_right_leg",src:"/assets/animations/compass_right_leg.png"}],Interaction.init=function(a){Main.setObjective("Aşağıdaki cetvel ve pergeli kullanarak seçeceğiniz yarıçap uzunluğuna sahip çemberi aşağıdaki “Çiz” düğmesine tıklayarak çiziniz."),Interaction.container=a,Interaction.paper={width:$(a).width(),height:$(a).height()},Interaction.button=document.createElement("input"),Interaction.button.type="button",Interaction.button.value="Çiz",Interaction.button.onclick=Interaction.drawCircle,Interaction.button.className="control_button",$(Interaction.button).css({position:"absolute",top:"30px",left:Interaction.paper.width*.5}),Interaction.container.appendChild(Interaction.button),Interaction.radius=document.createElement("div"),$(Interaction.radius).css({position:"absolute",top:"30px",left:Interaction.paper.width*.35,width:"30px",height:"30px"}),Interaction.container.appendChild(Interaction.radius),Interaction.status=document.createElement("div"),Interaction.status.className="status_true",$(Interaction.status).css({position:"absolute",left:Interaction.paper.width*.05,top:Interaction.paper.height*.6,width:"40%"}),Interaction.container.appendChild(Interaction.status),Interaction.r=null,Interaction.drawRuler(),Interaction.initCompass()},Interaction.pause=!1,Interaction.setRadius=function(a){Interaction.r=a,Interaction.radius.innerHTML=Util.numberTurkishFloating(a/Interaction.br,1)},Interaction.drawCircle=function(){if(Interaction.pause===!0)return;Interaction.status.innerHTML="",Interaction.pause=!0;var a,b,c,d,e,f,g,h;Interaction.drawCircle.x=Interaction.paper.width*.65,Interaction.drawCircle.y=Interaction.paper.height*.55,Interaction.t&&clearInterval(Interaction.t),Interaction.drawCircle.compass&&Interaction.drawCircle.compass.remove(),Interaction.drawCircle.compass=new Compass(Interaction.drawCircle.x,Interaction.drawCircle.y),Interaction.drawCircle.compass.changeDelta(Interaction.r-Interaction.drawCircle.compass.right.bounds.width),Interaction.drawCircle.compass.group.opacity=0,Interaction.drawCircle.compass.group.animate({style:{opacity:1},duration:500}),Interaction.drawCircle.t=setInterval(function(){var a=(new Date).getTime()-Interaction.animationStarted;Interaction.drawCircle._o=a*.22,Interaction.drawCircle._o>=360&&(clearTimeout(Interaction.drawCircle.t),Interaction.drawCircle._o=359.9,Interaction.pause=!1,Interaction.drawCircle.textO=new PointText(new Point(Interaction.drawCircle.x-10,Interaction.drawCircle.y+10)),Interaction.drawCircle.textO.content="O",Interaction.drawCircle.textR=new PointText(new Point(Interaction.drawCircle.x+Interaction.r*.2,Interaction.drawCircle.y+15)),Interaction.drawCircle.textR.content="r = "+Interaction.radius.innerHTML,Interaction.drawCircle.lineR=new Path.Line(new Point(Interaction.drawCircle.x,Interaction.drawCircle.y),new Point(Interaction.drawCircle.x+Interaction.r,Interaction.drawCircle.y)),Interaction.drawCircle.lineR.setStyle(lineStyle),Interaction.status.innerHTML="O merkezli ve "+Interaction.radius.innerHTML+" birim yarıçaplı çember ",Interaction.drawCircle.textO.opacity=0,Interaction.drawCircle.textO.animate({style:{opacity:1},duration:1e3}),Interaction.drawCircle.textR.opacity=0,Interaction.drawCircle.textR.animate({style:{opacity:1},duration:1e3}),Interaction.drawCircle.lineR.opacity=0,Interaction.drawCircle.lineR.animate({style:{opacity:1},duration:1e3}),Interaction.drawCircle.compass.group.opacity=1,Interaction.drawCircle.compass.group.animate({style:{opacity:0},duration:500}));var b=Interaction.drawCircle.x+Interaction.r*Math.cos(Util.degreeToRadians(Interaction.drawCircle._o)),c=Interaction.drawCircle.y+Interaction.r*Math.sin(Util.degreeToRadians(Interaction.drawCircle._o));Interaction.drawCircle.circle&&Interaction.drawCircle.circle.remove();var d=new Point(Interaction.drawCircle.x,Interaction.drawCircle.y),e=Interaction.r,f=Util.degreeToRadians(0),g=Util.degreeToRadians(Interaction.drawCircle._o);Interaction.drawCircle.compass.rotate(-Interaction._o_old+Interaction.drawCircle._o,d);var h=new Point(d.x+Math.cos(f)*e,d.y+Math.sin(f)*e),i=new Point(d.x+Math.cos((f+g)/2)*e,d.y+Math.sin((f+g)/2)*e),j=new Point(d.x+Math.cos(g)*e,d.y+Math.sin(g)*e);Interaction.drawCircle.circle=new Path.Arc(h,i,j),Interaction.drawCircle.circle.setStyle(circleStyle),Interaction.drawCircle.circle.opacity=Interaction.drawCircle._o>200?1:Interaction.drawCircle._o/200,Interaction._o_old=Interaction.drawCircle._o,Interaction.drawCircle.circle.moveBelow(Interaction.drawCircle.compass.group)},1),Interaction.drawCircle.textO&&Interaction.drawCircle.textO.remove(),Interaction.drawCircle.textR&&Interaction.drawCircle.textR.remove(),Interaction.drawCircle.lineR&&Interaction.drawCircle.lineR.remove(),Interaction.drawCircle._o=20,Interaction.animationStarted=(new Date).getTime(),Interaction._o_old=0},Interaction.initCompass=function(){Interaction.compass=new Compass(Interaction.ruler.bounds.x,Interaction.ruler.bounds.y),Interaction.compass.right.class="right_leg",Interaction.drawCompass(Interaction.br*2);var a=new Tool;a.drag=!1,a.onMouseDown=function(a){Interaction.compass.group.bounds.contains(a.point)&&(this.drag=!0)},a.onMouseDrag=function(a){this.drag===!0&&Interaction.pause==0&&Interaction.drawCompass(a.delta.x)},a.onMouseUp=function(){this.drag=!1},a.activate()},Interaction.drawCompass=function(a){if(a==null||a==undefined)a=0;if(Interaction.compass.d+a>Interaction.br*9||Interaction.compass.d+a<Interaction.br)return;Interaction.compass.changeDelta(a),Interaction.setRadius(Interaction.compass.d)},Interaction.drawRuler=function(){var a,b,c,d,e,f;a=Interaction.paper.width*.02,b=Interaction.paper.height*.4,Interaction.ruler=new Raster("ruler"),Interaction.ruler.position=[a+Interaction.ruler.size.width*.5,b+Interaction.ruler.size.height*.5],Interaction.br=Math.floor(Interaction.ruler.size.width*.1);var g=b+d*.6,h=b+d*.4,i=b+d};