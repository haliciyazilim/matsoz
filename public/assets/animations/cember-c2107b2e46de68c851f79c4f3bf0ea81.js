// JavaScript Document
/*Styles*/
var triangleStyle={fill:"#f55","stroke-width":"2px"},textStyle={"font-size":"16px","text-color":"#55f"},edgeStyle={"stroke-width":"2px"},angleStyle={"stroke-width":"2px"},rulerStyle={fill:"#fff"},rulerTextStyle={},rulerLineStyle={},Interaction=function(){};Interaction(),Interaction.init=function(a){Main.setObjective("Aşağıdaki cetvel ve pergeli kullanarak seçeceğiniz yarıçap uzunluğuna sahip çemberi aşağıdaki “Çiz” düğmesine tıklayarak çiziniz."),Interaction.container=a,$(a).css("position","relative"),Interaction.paper=new Raphael(a,$(a).width(),$(a).height()),Interaction.button=document.createElement("input"),Interaction.button.type="button",Interaction.button.value="Çiz",Interaction.button.onclick=Interaction.drawCircle,Interaction.button.className="control_button",$(Interaction.button).css({position:"absolute",top:"30px",left:Interaction.paper.width*.5}),Interaction.container.appendChild(Interaction.button),Interaction.radius=document.createElement("div"),$(Interaction.radius).css({position:"absolute",top:"30px",left:Interaction.paper.width*.35,width:"30px",height:"30px"}),Main.setObjective("start"),Interaction.container.appendChild(Interaction.radius),Interaction.reinit()},Interaction.pause=!1,Interaction.reinit=function(){Interaction.paper.clear(),Interaction.r=null,Interaction.drawRuler(),Interaction.compassLayer=Interaction.paper.rect(0,0,20,20).attr({cursor:"e-resize",fill:"#fff",opacity:1}),Interaction.drawCompass();var a=function(){Main.setObjective("start"),this.ox=this.attr("x")+10,this.mx=this.data("mx")},b=function(a){Main.setObjective("move");var b=-this.mx+(this.ox+a);b>Interaction.br*3&&b<Interaction.rulerSet[0].data("w")-Interaction.br&&(Interaction.compassSet.remove(),Interaction.drawCompass(b))},c=function(){Main.setObjective("up")};Interaction.compassLayer.drag(b,a,c)},Interaction.setRadius=function(a){Interaction.r=a,Interaction.radius.innerHTML=Util.formatNumber(a/Interaction.br,2)},Interaction.drawCircle=function(){if(Interaction.pause===!0)return;Interaction.pause=!0;var a,b,c,d,e,f,g,h;Interaction.drawCircle.x=Interaction.paper.width*.65,Interaction.drawCircle.y=Interaction.paper.height*.55,g=Interaction.rulerSet[0].data("w")*.7,Interaction.t&&clearInterval(Interaction.t),Interaction.drawCircle.compass&&Interaction.drawCircle.compass.remove(),Interaction.drawCircle.compass=Interaction.compass(Interaction.drawCircle.x,Interaction.drawCircle.y,g,Math.acos(Interaction.r/(2*g))),Interaction.drawCircle.textO&&Interaction.drawCircle.textO.remove(),Interaction.drawCircle.textR&&Interaction.drawCircle.textR.remove(),Interaction._o=20,Interaction.animationStarted=(new Date).getTime(),Interaction.t=setInterval(function(){Interaction._o=((new Date).getTime()-Interaction.animationStarted)*.36,Interaction._o>=360&&(clearTimeout(Interaction.t),Interaction.drawCircle.compass.remove(),Interaction.drawCircle.textO=Interaction.paper.text(Interaction.drawCircle.x-10,Interaction.drawCircle.y+10,"O").attr(textStyle),Interaction.drawCircle.textR=Interaction.paper.text(Interaction.drawCircle.x+Interaction.r*.5,Interaction.drawCircle.y+10,"r = "+Interaction.radius.innerHTML),Interaction._o=359.9,Interaction.pause=!1);if(Interaction._o>=180)var a=1,b=1;else if(Interaction._o<180)var a=0,b=1;var c=Interaction.drawCircle.x+Interaction.r*Math.cos(Util.degreeToRadians(Interaction._o)),d=Interaction.drawCircle.y+Interaction.r*Math.sin(Util.degreeToRadians(Interaction._o));Interaction.drawCircle.circle&&Interaction.drawCircle.circle.remove(),Interaction.drawCircle.circle=Interaction.paper.path("M"+Interaction.drawCircle.x+","+Interaction.drawCircle.y+"L"+(Interaction.drawCircle.x+Interaction.r)+","+Interaction.drawCircle.y+"A"+Interaction.r+","+Interaction.r+" 0 "+a+","+b+" "+c+","+d);for(var e=0;e<Interaction.drawCircle.compass.length;e++)Interaction.drawCircle.compass[e].transform("r"+Interaction._o+","+Interaction.drawCircle.x+","+Interaction.drawCircle.y)},1)},Interaction.compass=function(a,b,c,d){var e=Interaction.paper.set();return e.push(Interaction.paper.line(a,b,a+c*Math.cos(d)*.2,b+c*Math.sin(d)*.2)),e.push(Interaction.paper.line(a+c*Math.cos(d)*.2,b+c*Math.sin(d)*.2,a+c*Math.cos(d),b+c*Math.sin(d)).attr("stroke-width",10)),e.push(Interaction.paper.line(a+2*c*Math.cos(d),b,a+c*Math.cos(d),b+c*Math.sin(d)).attr({"stroke-width":10})),e.push(Interaction.paper.circle(a+c*Math.cos(d),b+c*Math.sin(d),c*.1).attr("fill","#fff")),e.push(Interaction.paper.line(a+c*Math.cos(d),b+c*(Math.sin(d)+.1),a+c*Math.cos(d),b+c*(Math.sin(d)+.2)).attr("stroke-width",10)),e},Interaction.drawCompass=function(a){var b,c,d,e,f,g,h,i;if(a==null||a=="undefined")a=Interaction.rulerSet[0].data("w")*.6;Interaction.setRadius(a),b=Interaction.rulerSet[0].data("x"),c=Interaction.rulerSet[0].data("y")+Interaction.rulerSet[0].data("h"),h=Interaction.rulerSet[0].data("w")*.7,i=Math.acos(a/(2*h)),Interaction.compassSet=Interaction.compass(b,c,h,i),Interaction.compassLayer.toFront(),Interaction.compassLayer.attr("x",b+2*h*Math.cos(i)-11),Interaction.compassLayer.attr("y",c),Interaction.compassLayer.data({x:b+2*h*Math.cos(i)-20,y:c,mx:b,my:c})},Interaction.drawRuler=function(){var a,b,c,d,e,f;Interaction.rulerSet=Interaction.paper.set(),a=Interaction.paper.width*.1,b=Interaction.paper.height*.15,c=Interaction.paper.width*.2,Interaction.br=Math.floor(c*.1),d=Interaction.paper.height*.1,Interaction.rulerSet.push(Interaction.paper.rect(a-Interaction.br*.5,b,c,d).attr(rulerStyle).data({x:a,y:b,w:c,h:d}));var g=b+d*.6,h=b+d*.4,i=b+d;for(var j=0;j<10;j++){var k=a+Interaction.br*j;Interaction.rulerSet.push(Interaction.paper.line(k,g,k,i).attr(rulerLineStyle).attr({x:k,y:g})),Interaction.rulerSet.push(Interaction.paper.text(k,h,j).attr(rulerTextStyle).attr({x:k,y:h}))}};