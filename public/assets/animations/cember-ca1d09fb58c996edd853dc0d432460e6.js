// JavaScript Document
/*Styles*/
var textStyle={"font-size":"16px","text-color":"#55f"},lineStyle={strokeColor:"#000",strokeWidth:1},circleStyle={strokeColor:"#000"},angleStyle={"stroke-width":"2px"},Animation={init:function(a){Animation.container=a;var b=$(a).width(),c=$(a).height(),d=b*.5,e=c*.5;p1=new Point(d-100,e);var f=75,g=new Path.Circle(p1,4);g.set_style({fillColor:"#000"});var h=new PointText(new Point(p1.x-15,p1.y+15));h.content="O",h.set_style({strokeColor:"#000",fillColor:"#000"});var i=new Group,j={animate:Item.prototype.animate,angle:0,count:0,dots:[0,30,60,90,120,150,180,210,240,270,300,330],nextDot:0,circleOpacity:0};Animation.onFrame=function(a){var b=p1.x,c=p1.y;if(j.angle>j.nextDot){b+=f*Math.cos(Util.degreeToRadians(j.nextDot)),c+=f*Math.sin(Util.degreeToRadians(j.nextDot));if(j.angle>360)var d=new Path.Circle(new Point(b,c),3);else var d=new Path.Circle(new Point(b,c),3);d.set_style({fillColor:"#000",strokeColor:"#fff",strokeWidth:2}),i.addChild(d),j.nextDot=j.dots.shift()}else if(j.angle==360){for(var e=0;e<36;e++)j.dots[e]=e*10+360;j.nextDot=360}else if(j.angle>720&&j.angle<=1080){var k=Util.degreeToRadians(720),l=Util.degreeToRadian(j.angle);if(j.angle==1080)i.removeChildren(),l=1079,Animation.circle.remove(),Animation.circle=new Path.Circle(p1,f),Animation.circle.set_style({strokeColor:"#000",strokeWidth:1});else{Animation.circle&&Animation.circle.remove();var m=new Point(b+Math.cos(k)*f,c+Math.sin(k)*f),n=new Point(b+Math.cos((k+l)/2)*f,c+Math.sin((k+l)/2)*f),o=new Point(b+Math.cos(l)*f,c+Math.sin(l)*f);Animation.circle=new Path.Arc(m,n,o),Animation.circle.set_style({strokeColor:"#000",strokeWidth:1})}}else if(j.angle==-1)Animation.circle.insertBelow(g),g.insertAbove(Animation.circle),h.insertAbove(Animation.circle),j.circleOpacity==1&&(j.angle=-2);else if(j.angle==-2){var p=new Path.Line(p1,new Point(b+f*Math.cos(-Math.PI*.1),c+f*Math.sin(-Math.PI*.1)));p.set_style({strokeWidth:1,strokeColor:"#000"});var q=new PointText(new Point(p1.x+f*.5,p1.y));q.content="r",$(Animation.container).append('<div id="result" style="position:absolute;top:40px;left:50%;margin-left:30px;line-height:35px;">O : merkez</br>r : yarıçap</br>2 x r = R : çap</div>'),$("div#result",Animation.container).css({opacity:0}),$("div#result",Animation.container).animate({opacity:1},1e3),Animation.onFrame=null}},j.animate({style:{angle:-1},duration:1,delay:8e3}),j.animate({style:{circleOpacity:1},duration:500,delay:8e3}),j.animate({style:{angle:1080},duration:2e3,delay:6e3}),j.animate({style:{angle:720},duration:2e3,delay:3500}),j.animate({style:{angle:360},duration:2e3,delay:1e3})}},Interaction=function(){};Interaction(),Interaction.getFramework=function(){return"paper"},Interaction.images=[{id:"ruler",src:"/assets/animations/ruler.png"},{id:"compass_left_leg",src:"/assets/animations/compass_left_leg.png"},{id:"compass_knuckle",src:"/assets/animations/compass_knuckle.png"},{id:"compass_right_leg",src:"/assets/animations/compass_right_leg.png"}],Interaction.init=function(a){Main.setObjective("Yandaki cetvel ve pergeli kullanarak seçeceğiniz yarıçap uzunluğuna sahip çemberi aşağıdaki “Çiz” butonuna basarak çizdiriniz."),Interaction.container=a,Interaction.paper={width:$(a).width(),height:$(a).height()},Interaction.button=document.createElement("input"),Interaction.button.type="button",Interaction.button.onclick=Interaction.drawCircle,Interaction.button.className="draw_button",$(Interaction.button).css({backgroundImage:"url(/assets/btn_gray_draw_text.png)",position:"absolute",top:"145px",width:"55px",height:"31px",left:"176px"}),Interaction.container.appendChild(Interaction.button),Interaction.radius=document.createElement("div"),$(Interaction.radius).css({position:"absolute",top:Interaction.paper.height*.4,left:Interaction.paper.width*.3,width:"30px",height:"30px",fontSize:"20px"}),Interaction.container.appendChild(Interaction.radius),Interaction.status=document.createElement("div"),Interaction.status.className="status_true",$(Interaction.status).css({position:"absolute",left:Interaction.paper.width*.05,top:Interaction.paper.height*.6,width:"40%"}),Interaction.container.appendChild(Interaction.status),Interaction.pause=!1,Interaction.r=null,Interaction.drawRuler(),Interaction.initCompass()},Interaction.pause=!1,Interaction.setRadius=function(a){$(Interaction.radius).hide(),Interaction.r=a,a/Interaction.br==Math.floor(a/Interaction.br)?Interaction.radius.innerHTML=a/Interaction.br:Interaction.radius.innerHTML=Util.numberTurkishFloating(a/Interaction.br,1),$(Interaction.radius).show()},Interaction.drawCircle=function(){if(Interaction.pause===!0)return;Interaction.status.innerHTML="",Interaction.pause=!0;var a,b,c,d,e,f,g,h;Interaction.drawCircle.x=Interaction.paper.width*.65,Interaction.drawCircle.y=Interaction.paper.height*.55,Interaction.t&&clearInterval(Interaction.t),Interaction.drawCircle.compass&&Interaction.drawCircle.compass.remove(),Interaction.drawCircle.compass=new Compass(Interaction.drawCircle.x,Interaction.drawCircle.y),Interaction.drawCircle.compass.changeDelta(Interaction.r-Interaction.drawCircle.compass.right.bounds.width),Interaction.drawCircle.compass.group.opacity=0,Interaction.drawCircle.compass.group.animate({style:{opacity:1},duration:500}),Interaction.drawCircle.t=setInterval(function(){var a=(new Date).getTime()-Interaction.animationStarted;Interaction.drawCircle._o=a*.22;if(Interaction.drawCircle._o>=360){clearTimeout(Interaction.drawCircle.t),Interaction.drawCircle._o=359.9,Interaction.pause=!1,Interaction.drawCircle.textO=new PointText(new Point(Interaction.drawCircle.x-10,Interaction.drawCircle.y+10)),Interaction.drawCircle.textO.content="O";var b=new Point(Interaction.drawCircle.x+Interaction.r*.2,Interaction.drawCircle.y+15);Interaction.r/Interaction.br>4?b=b.add(+Interaction.r*.2,15):b=b.add(Interaction.r,10),Interaction.drawCircle.textR=new PointText(b),Interaction.drawCircle.textR.content="r = "+Interaction.radius.innerHTML,Interaction.drawCircle.lineR=new Path.Line(new Point(Interaction.drawCircle.x,Interaction.drawCircle.y),new Point(Interaction.drawCircle.x+Interaction.r,Interaction.drawCircle.y)),Interaction.drawCircle.lineR.set_style(lineStyle),$(Interaction.status).hide(),Interaction.status.innerHTML="O merkezli ve "+Interaction.radius.innerHTML+" birim yarıçaplı çember ",$(Interaction.status).show(),Interaction.drawCircle.textO.opacity=0,Interaction.drawCircle.textO.animate({style:{opacity:1},duration:1e3}),Interaction.drawCircle.textR.opacity=0,Interaction.drawCircle.textR.animate({style:{opacity:1},duration:1e3}),Interaction.drawCircle.lineR.opacity=0,Interaction.drawCircle.lineR.animate({style:{opacity:1},duration:1e3}),Interaction.centerPoint=new Path.Circle(new Point(Interaction.drawCircle.x,Interaction.drawCircle.y),2),Interaction.centerPoint.set_style({fillColor:"#000"}),Interaction.centerPoint.opacity=0,Interaction.centerPoint.animate({style:{opacity:1},duration:1e3,delay:100}),Interaction.drawCircle.compass.group.opacity=1,Interaction.drawCircle.compass.group.animate({style:{opacity:0},duration:500})}var c=Interaction.drawCircle.x+Interaction.r*Math.cos(Util.degreeToRadians(Interaction.drawCircle._o)),d=Interaction.drawCircle.y+Interaction.r*Math.sin(Util.degreeToRadians(Interaction.drawCircle._o));Interaction.drawCircle.circle&&Interaction.drawCircle.circle.remove();var e=new Point(Interaction.drawCircle.x,Interaction.drawCircle.y),f=Interaction.r,g=Util.degreeToRadians(0),h=Util.degreeToRadians(Interaction.drawCircle._o);Interaction.drawCircle.compass.rotate(-Interaction._o_old+Interaction.drawCircle._o,e);var i=new Point(e.x+Math.cos(g)*f,e.y+Math.sin(g)*f),j=new Point(e.x+Math.cos((g+h)/2)*f,e.y+Math.sin((g+h)/2)*f),k=new Point(e.x+Math.cos(h)*f,e.y+Math.sin(h)*f);Interaction.drawCircle.circle=new Path.Arc(i,j,k),Interaction.drawCircle.circle.set_style(circleStyle),Interaction.drawCircle.circle.opacity=Interaction.drawCircle._o>200?1:Interaction.drawCircle._o/200,Interaction._o_old=Interaction.drawCircle._o,Interaction.drawCircle.circle.moveBelow(Interaction.drawCircle.compass.group)},1),Interaction.drawCircle.textO&&Interaction.drawCircle.textO.remove(),Interaction.drawCircle.textR&&Interaction.drawCircle.textR.remove(),Interaction.drawCircle.lineR&&Interaction.drawCircle.lineR.remove(),Interaction.centerPoint&&Interaction.centerPoint.remove(),Interaction.drawCircle._o=20,Interaction.animationStarted=(new Date).getTime(),Interaction._o_old=0},Interaction.initCompass=function(){Interaction.compass=new Compass(Interaction.ruler.bounds.x+2,Interaction.ruler.bounds.y),Interaction.compass.right.class="right_leg",Interaction.drawCompass(Interaction.br*3.5);var a=new Tool;a.drag=!1,a.onMouseDown=function(a){Interaction.compass.group.bounds.contains(a.point)&&(this.drag=!0)},a.onMouseDrag=function(a){this.drag===!0&&Interaction.pause==0&&Interaction.drawCompass(a.delta.x)},a.onMouseUp=function(){this.drag=!1},a.activate()},Interaction.drawCompass=function(a){if(a==null||a==undefined)a=0;if(Interaction.compass.d+a>Interaction.br*9||Interaction.compass.d+a<Interaction.br)return;Interaction.compass.changeDelta(a),Interaction.setRadius(Interaction.compass.d)},Interaction.drawRuler=function(){var a,b,c,d,e,f;a=Interaction.paper.width*.02,b=Interaction.paper.height*.4,Interaction.ruler=new Raster("ruler"),Interaction.ruler.position=[Math.floor(a+Interaction.ruler.size.width*.5),Math.floor(b+Interaction.ruler.size.height*.5)+.5],Interaction.br=Math.floor(Interaction.ruler.size.width*.1);var g=b+d*.6,h=b+d*.4,i=b+d};