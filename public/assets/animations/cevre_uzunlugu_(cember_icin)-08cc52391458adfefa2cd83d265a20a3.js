/*Styles*/
var triangleStyle={fill:"#f55","stroke-width":"2px"},textStyle={fontSize:14,strokeColor:"#000",fillColor:"#000"},edgeStyle={strokeWidth:2,strokeColor:"#000",fillColor:"#fff"},angleStyle={"stroke-width":"2px"},rulerStyle={strokeColor:"#000",strokeWidth:2,fillColor:"#EED"},rulerTextStyle={},rulerLineStyle={strokeWidth:2,strokeColor:"#000"},animationEdgeStyle={strokeWidth:2,strokeColor:"#000"},Animation={init:function(a){Animation.container=a;var b=$(a).width(),c=$(a).height(),d=b*.5,e=c*.5,f=75,g=new Point(d+100,e),h=new Point(d+100+f,e),i=new Point(d+100,e+f),j=new Path.Circle(g,4);j.set_style({fillColor:"#000"});var k=new PointText(new Point(g.x-15,g.y+15));k.content="O",k.set_style({strokeColor:"#000",fillColor:"#000"});var l=new PointText(new Point((g.x+h.x)*.5,(g.y+h.y)*.5+10));l.firstPosition=l.position,l.content="r",l.opacity=0,animationHelper=new AnimationHelper({angle:0,radiusOpacity:0}),Animation.onFrame=function(a){if(animationHelper.angle>0&&animationHelper.angle<360)Animation.line1&&Animation.line1.remove(),Animation.line1=new Path.Line(g,h.getRotatedPoint(-animationHelper.angle,g)),Animation.line1.set_style(animationEdgeStyle),l.position=l.firstPosition.getRotatedPoint(-animationHelper.angle,g),animationHelper.radiusOpacity>0&&(l.opacity=1),Animation.arc&&Animation.arc.remove(),Animation.arc=new Path.ArcByAngle(g,f,-animationHelper.angle),Animation.arc.set_style(animationEdgeStyle);else if(animationHelper.angle==360)Animation.line1&&Animation.line1.remove(),Animation.line1=new Path.Line(g,h),Animation.line1.set_style(animationEdgeStyle),l.animate({style:{opacity:0},duration:500}),Animation.arc&&Animation.arc.remove(),Animation.arc=new Path.Circle(g,f),Animation.arc.set_style(animationEdgeStyle);else if(animationHelper.angle>361&&animationHelper.angle<720){Animation.line1&&(Animation.line1.remove(),k.remove(),j.remove());var b=f*2*Math.PI*(animationHelper.angle%360)/360,c=new Point(g.x-b,g.y),d=new Point(i.x-b,i.y);animationHelper.angle<710&&(Animation.arc.remove(),Animation.arc=new Path.ArcByAngle(c,f,-270-animationHelper.angle,-270),Animation.arc.set_style(animationEdgeStyle)),Animation.line2&&Animation.line2.remove(),Animation.line2=new Path.Line(i,d),Animation.line2.set_style(animationEdgeStyle)}else if(animationHelper.angle==720)Animation.arc.remove();else if(animationHelper.angle>730&&animationHelper.angle<1080){var e=1080-animationHelper.angle,b=f*2*Math.PI*e/360,c=new Point(g.x-b,g.y),d=new Point(i.x-b,i.y);animationHelper.angle<1079&&(Animation.arc.remove(),Animation.arc=new Path.ArcByAngle(c,f,-270-e-360,-270),Animation.arc.set_style(animationEdgeStyle)),Animation.line2&&Animation.line2.remove(),Animation.line2=new Path.Line(i,d),Animation.line2.set_style(animationEdgeStyle)}else if(animationHelper.angle==1080){Animation.onFrame=null,Animation.line2.remove(),j=new Path.Circle(g,4),j.set_style({fillColor:"#000"}),Animation.arc.remove(),Animation.arc=new Path.Circle(g,f),Animation.arc.set_style(animationEdgeStyle),k=new PointText(new Point(g.x-15,g.y+15)),k.content="O",k.set_style({strokeColor:"#000",fillColor:"#000"}),l.opacity=1,Animation.line1=new Path.Line(g,h),Animation.line1.set_style(animationEdgeStyle);var m=document.createElement("div");$(Animation.container).append(m),$(m).html("O : Merkez<br/>r = yarıçap<br/>2 x r = R : çap<br/>").css({position:"absolute",top:"50%",left:"50%",marginLeft:"-150px",marginTop:"-50px",lineHeight:"33px",opacity:0}).animate({opacity:1},1e3)}},animationHelper.animate({style:{angle:360,radiusOpacity:1},duration:2e3,delay:500,animationType:"easeInEaseOut"}),animationHelper.animate({style:{angle:720},duration:2e3,delay:3500,animationType:"easeInEaseOut"}),animationHelper.animate({style:{angle:1080},duration:2e3,delay:6500,animationType:"easeInEaseOut"})}},Interaction={};Interaction.getFramework=function(){return"paper"},Interaction.images=[{id:"ruler",src:"/assets/animations/ruler.png"}],Interaction.init=function(a){Main.setObjective('Yandaki çemberin yarıçapını cetvel yardımıyla ölçünüz ve çevresini hesaplayınız. Bulduğunuz sonucu aşağıdaki kutucuğa yazınız ve “Kontrol” düğmesine basınız. <span style="font-weight:bold;">(π = 3 alınız.)</span>'),Interaction.container=a,$(Interaction.container).append('<div id="B" style="position:absolute; top:70%; left:0%; width:100%; "></div>'),Interaction.paper={width:$(a).width(),height:$(a).height()},$("div#B",Interaction.container).html('<div style="text-align:right;padding-right:130px;position:relative;top:-20px;">Çevre&nbsp;=&nbsp;<input type="text" style="width:35px;height:30px;font-size:16px;font-weight:bold;text-align:center;" id="input" maxlength="3" />&nbsp;br</div><div style="text-align:right;"><span id="status" style="position:relative;top:10px;"></span>&emsp;<input type="button" id="control" class="control_button" onclick="Interaction.checkAnswer()" /></div>'),Interaction.status=$("#status").get(0),Interaction.control=$("#control",Interaction.container).get(0),Interaction.input=$("#input",Interaction.container).get(0),Interaction.drawRuler(),Interaction.nextQuestion()},Interaction.generateCircle=function(){var a,b,c;a=Interaction.paper.width*.3,b=Interaction.paper.height*.5;do c=Math.floor(Math.random()*9+2)*Interaction.br;while(Interaction.r==c);Interaction.circleSet=new Group;var d=new Path.Circle(new Point(a,b),1);d.style=edgeStyle;var e=new Path.Circle(new Point(a,b),c+1);e.style=edgeStyle;var f=new Path.Line(new Point(a,b),new Point(a+c,b));f.style=edgeStyle;var g=new PointText(new Point(a-15,b+15));g.content="O",g.style=textStyle;var h=new PointText(new Point(a+c*.5-5,b+15));h.content="r",h.style=textStyle,Interaction.circleSet.addChild(e),Interaction.circleSet.addChild(d),Interaction.circleSet.addChild(f),Interaction.circleSet.addChild(g),Interaction.circleSet.addChild(h),Interaction.circleSet.insertBelow(Interaction.rulerSet),Interaction.r=c,Interaction.input.onkeyup=function(a){a.keyCode==13&&Interaction.checkAnswer()}},Interaction.nextQuestion=function(){Interaction.circleSet&&Interaction.circleSet.remove(),Interaction.control.onclick=Interaction.checkAnswer,Interaction.control.className="control_button",Interaction.input.value="",Interaction.setStatus(""),Interaction.trial=0,Interaction.preventDrag=!1,Interaction.generateCircle();var a=function(){Interaction.preventDrag=!1};Interaction.rulerSet.animate({style:{position:Interaction.rulerSet.firstPosition},duration:300,callback:a}),Interaction.odx=0,Interaction.ody=0},Interaction.checkAnswer=function(){var a=Interaction.input.value,b=2*Interaction.r*3/Interaction.br;if(a==b)Interaction.setStatus("Tebrikler!",!0),Interaction.control.className="next_button",Interaction.control.onclick=Interaction.nextQuestion,Interaction.input.onkeyup=Interaction.nextQuestion;else if(Interaction.trial==0){if(a==""||isNaN(a)){Interaction.setStatus("Lütfen bir sayı giriniz",!1);return}Interaction.setStatus("Yanlış cevap, tekrar deneyiniz",!1),Interaction.trial++}else Interaction.setStatus("Yanlış, doğru cevap: "+b,!1),Interaction.control.onclick=Interaction.nextQuestion,Interaction.control.className="next_button",Interaction.input.onkeyup=Interaction.nextQuestion,Interaction.input.value=b},Interaction.setStatus=function(a,b){$("#status").html(a),b===!0?$("#status").get(0).className="status_true":b===!1?$("#status").get(0).className="status_false":$("#status").get(0).className="status"},Interaction.drawRuler=function(){var a,b,c,d,e,f;a=Interaction.paper.width*.7,b=Interaction.paper.height*.2,d=Interaction.paper.height*.2,c=Interaction.paper.width*.2,Interaction.rulerSet=new Raster("ruler"),Interaction.br=Math.floor(Interaction.rulerSet.bounds.width*.1-1),Interaction.rulerSet.name="rulerSet",Interaction.rulerSet.position=new Point(Math.floor(a),Math.floor(b)+.5),console.log([a,b]);return;var g,h,i};