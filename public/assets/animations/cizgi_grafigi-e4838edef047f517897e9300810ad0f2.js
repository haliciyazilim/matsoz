/*Styles*/
// Your styles go here
/*Styles*/
var Animation=function(){};Animation();var Interaction=function(){};Interaction(),Animation.images=[{id:"car",src:"/assets/animations/cizgi_grafigi/car.jpg"},{id:"kadran",src:"/assets/animations/cizgi_grafigi/kadran.png"},{id:"akrep",src:"/assets/animations/cizgi_grafigi/akrep.png"},{id:"yelkovan",src:"/assets/animations/cizgi_grafigi/yelkovan.png"}],Animation.init=function(a){paperAddOns(),xLabels=["0","1","2","3","4"];var b={xAxisName:"Zaman",xAxisUnit:"Saat",yAxisName:"Yol (km)",xLabels:xLabels,yAxisLimits:[0,40],yAxisStep:10,data:[]},c=new Path.LineGraph(new Point(520,35),180,120,b);$(a).append('<div id="graph_title2"></div>'),$("#graph_title2").css("color","#262626").css("text-align","left").css("position","absolute").css("left","576px").css("top","16px").css("width","180").css("height","100").css("font-size","16px"),$("#graph_title2").append("<div><b>Grafik: </b>Otomobilin zamana göre aldığı yol</div>");var d=new AnimationHelper({line1End:c.getXYCoordinate(0,0),line2End:c.getXYCoordinate(2,2),line3End:c.getXYCoordinate(3,2)}),e,f,g;d.animate({style:{line1End:c.getXYCoordinate(2,2)},duration:4e3,delay:2e3,update:function(){e&&e.remove(),e=new Path.Line(c.getXYCoordinate(0,0),this.line1End),e.strokeColor="#262626",e.strokeWidth=2}}),d.animate({style:{line2End:c.getXYCoordinate(3,2)},duration:2e3,delay:6e3,update:function(){f&&f.remove(),f=new Path.Line(c.getXYCoordinate(2,2),this.line2End),f.strokeColor="#262626",f.strokeWidth=2}}),d.animate({style:{line3End:c.getXYCoordinate(4,3)},duration:2e3,delay:8e3,update:function(){g&&g.remove(),g=new Path.Line(c.getXYCoordinate(3,2),this.line3End),g.strokeColor="#262626",g.strokeWidth=2}});var h=20,i=360,j=new AnimationHelper({x:h});$(a).append('<img src="/assets/animations/cizgi_grafigi/car.jpg" id="car_image"></img>'),$("#car_image").css("position","absolute").css("left",h+"px").css("top","140px").css("z-index","1"),j.animate({style:{x:(i-h)*2/3+h},duration:4e3,delay:2e3,update:function(){$("#car_image").css("left",this.x+"px")}}),j.animate({style:{x:i},duration:2e3,delay:8e3,update:function(){$("#car_image").css("left",this.x+"px")}}),kadran=new Raster("kadran"),kadran.position=new Point(192,48),yelkovan=new Raster("yelkovan"),yelkovan.position=new Point(192,48),akrep=new Raster("akrep"),akrep.position=new Point(192,48),clockHelper=new AnimationHelper({yelkovanAngle:0,akrepAngle:0}),akrep.lastTransformation=akrep.matrix,yelkovan.lastTransformation=yelkovan.matrix,clockHelper.animate({style:{yelkovanAngle:1440,akrepAngle:120},delay:2e3,duration:8e3,update:function(){var a=new Matrix;a.rotate(this.akrepAngle,192,48),a.concatenate(akrep.lastTransformation),akrep.setMatrix(a),a=new Matrix,a.rotate(this.yelkovanAngle,192,48),a.concatenate(yelkovan.lastTransformation),yelkovan.setMatrix(a)},callback:Main.animationFinished})},Interaction.getFramework=function(){return"paper"},Interaction.init=function(a){interactionInit(a)},interactionInit=function(a){var b;paperAddOns();var c=[];for(i=0;i<6;i++)c.push(Math.floor(Math.random()*4)+91);xLabels=["Pazartesi","Salı","Çarşamba","Perşembe","Cuma","Cumartesi"];var d={xAxisName:"Zaman",xAxisUnit:"Gün",yAxisName:"Satış Fiyatı",yAxisUnit:"TL",xLabels:xLabels,yAxisLimits:[90,94],xGridLabelStyle:{justification:"right",fillColor:"black",fontSize:8,rotation:-90},data:c},e=new Path.LineGraph(new Point(80,70),180,160,d);$(a).append('<div id="graph_title"></div>'),$("#graph_title").css("line-height","24px").css("color","#262626").css("position","absolute").css("left","126px").css("top","36px").css("width","330").css("height","100").css("font-size","16px"),$("#graph_title").append("<div><b>Grafik: </b>Altın satış fiyatı</div>"),randomDay=Math.floor(Math.random()*6),correctAnswer=c[randomDay],Main.setObjective("Yandaki grafiğe göre altın satış fiyatı "+xLabels[randomDay]+" günü kaç lira olmuştur?"),$(a).append('<div id="status" class="status_field"></div>'),$("#status").css("position","absolute").css("top","180px").css("left","340px").css("text-align","center"),restart=function(){b&&b.remove(),$("#graph_title").remove(),$("#textInput").remove(),$("#submitButton").remove(),$("#status").remove(),e.remove(),interactionInit(a)},noOfWrongAnswers=0,submit=function(){val=$("#textInput").val();if(!Util.isInteger(val)){$("#status").html('<span class="status_alert">Lütfen kutucuğa bir tamsayı giriniz</span>');return}val==correctAnswer?(b&&b.remove(),b=new Path.Circle(e.getXYCoordinate(randomDay,c[randomDay]-90),6),b.fillColor="red",$("#status").html('<span class="status_true">Tebrikler!</span>'),$("#submitButton").get(0).className="next_button",$("#submitButton").unbind("click"),$("#submitButton").click(restart),submit=restart,$("#textInput").get(0).onkeydown=function(a){if(a.keyCode!=13)return!1}):noOfWrongAnswers==0?($("#status").html('<span class="status_false">Tekrar Deneyiniz!</span>'),$("#textInput").val(""),noOfWrongAnswers=1):(b&&b.remove(),b=new Path.Circle(e.getXYCoordinate(randomDay,c[randomDay]-90),6),b.fillColor="red",$("#status").html('<span class="status_false">Olmadı!</span>'),$("#textInput").val(correctAnswer),$("#submitButton").get(0).className="next_button",$("#submitButton").unbind("click"),$("#submitButton").click(restart),submit=restart,$("#textInput").get(0).onkeydown=function(a){if(a.keyCode!=13)return!1})},$(a).append('<input id="submitButton" type="button" />'),$("#submitButton").css("position","absolute").css("top","130px").css("left","406px"),$("#submitButton").addClass("control_button"),$("#submitButton").click(submit),$(a).append('<input id="textInput" type="textbox" />'),$("#textInput").css("position","absolute").css("top","80px").css("left","416px"),$("#textInput").addClass("number_input_field"),$("#textInput").keypress(function(a){a.keyCode==13&&submit()})},paperAddOns=function(){Path.LineGraph=function(a,b,c,d){var e=new Group,f=0,g=d.xLabels.length,h=(b-20)/(g-1),i=a.x+f,j,k,l,m,n;d.yAxisLimits==null?(j=Math.max.apply(null,d.data),k=Math.min.apply(null,d.data)):(j=d.yAxisLimits[1],k=d.yAxisLimits[0]);var o=d.yAxisStep?d.yAxisStep:1,n=Math.floor((j-k)/o)+1,l=-(c-20)/((j-k)/o),m=a.y+c-f,p={justification:"right",fillColor:"black"},q=d.xGridLabelStyle?d.xGridLabelStyle:p,r=d.yGridLabelStyle?d.yGridLabelStyle:p;for(index=0;index<g;index++)gridLine=new Path.Line(new Point(h*index+i,m+f),new Point(h*index+i,l*(n-1)+m-10)),gridLine.strokeWidth=1,gridLine.strokeColor="gray",e.addChild(gridLine);for(index=0;index<n;index++)gridLine=new Path.Line(new Point(i-f,index*l+m),new Point(h*(g-1)+i+10,index*l+m)),gridLine.strokeWidth=1,gridLine.strokeColor="gray",e.addChild(gridLine);for(index=0;index<g;index++){var s=-3,t=15;q.rotation==90&&(s=2.5,t=5.5);var u=new PointText(new Point(i+index*h+s,m+t+f));u.set_style(q),u.content=d.xLabels[index],q.rotation&&u.rotate(q.rotation),e.addChild(u)}for(index=0;index<n;index++){var u=new PointText(new Point(i-10-f,m+index*l+1));u.set_style(r),u.content=(j-k)/(n-1)*index+k,e.addChild(u)}origin=new Point(a.add([0,c])),xAxis=new Path.OneSidedArrow(origin,origin.add([b+10+f,0]),15,30),xAxis.strokeWidth=4,yAxis=new Path.OneSidedArrow(origin,origin.add([0,-c-10-f]),15,30),yAxis.strokeWidth=4,e.addChild(xAxis),e.addChild(yAxis);var u=new PointText(new Point(i+h*(g-1)+36,m+f-4));u.justification="left",u.fillColor="black",u.content=d.xAxisName,e.addChild(u);if(d.xAxisUnit){var u=new PointText(new Point(i+h*(g-1)+36,m+f+12));u.justification="left",u.fillColor="black",u.content="("+d.xAxisUnit+")",e.addChild(u)}var v=16;d.yAxisUnit&&(v=0);var u=new PointText(new Point(i-f,m+l*(n-1)-52+v));u.justification="center",u.fillColor="black",u.content=d.yAxisName,e.addChild(u);if(d.yAxisUnit){var u=new PointText(new Point(i-f,m+l*(n-1)-36));u.justification="center",u.fillColor="black",u.content="("+d.yAxisUnit+")",e.addChild(u)}index=0;var w=new Path;w.moveTo(new Point(h*index+i,(d.data[index]-k)*l+m));for(index=1;index<d.data.length;index++)w.lineTo(new Point(h*index+i,(d.data[index]-k)*l+m));return w.strokeWidth=2,w.strokeColor="black",e.addChild(w),e.getXYCoordinate=function(a,b){return new Point(h*a+i,l*b+m)},e}};