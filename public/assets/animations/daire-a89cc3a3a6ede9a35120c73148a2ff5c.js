// JavaScript Document
/*Styles*/
var textStyle={"font-size":"16px","text-color":"#55f"},lineStyle={strokeColor:"#000",strokeWidth:1},circleStyle={strokeColor:"#000",fillColor:"rgb(242,221,179)"},angleStyle={"stroke-width":"2px"},Animation={init:function(a){Animation.container=a;var b=$(a).width(),c=$(a).height(),d=b*.5,e=c*.5;p1=new Point(d-100,e);var f=75,g=new Path.Circle(p1,4);g.set_style({fillColor:"#000"});var h=new PointText(new Point(p1.x-15,p1.y+15));h.content="O",h.set_style({strokeColor:"#000",fillColor:"#000"});var i=new Group,j={animate:Item.prototype.animate,angle:0,count:0,dots:[0,30,60,90,120,150,180,210,240,270,300,330],nextDot:0,circleOpacity:0};Animation.onFrame=function(a){var b=p1.x,c=p1.y;if(j.angle>j.nextDot){b+=f*Math.cos(Util.degreeToRadians(j.nextDot)),c+=f*Math.sin(Util.degreeToRadians(j.nextDot));if(j.angle>360)var d=new Path.Circle(new Point(b,c),3);else var d=new Path.Circle(new Point(b,c),3);d.set_style({fillColor:"#000",strokeColor:"#fff",strokeWidth:2}),i.addChild(d),j.nextDot=j.dots.shift()}else if(j.angle==360){for(var e=0;e<36;e++)j.dots[e]=e*10+360;j.nextDot=360}else if(j.angle>720&&j.angle<=1080){var k=Util.degreeToRadians(720),l=Util.degreeToRadian(j.angle);if(j.angle==1080)i.removeChildren(),l=1079,Animation.circle&&Animation.circle.remove(),Animation.circle=new Path.Circle(p1,f),Animation.circle.set_style({strokeColor:"#000",strokeWidth:1});else{Animation.circle&&Animation.circle.remove();var m=new Point(b+Math.cos(k)*f,c+Math.sin(k)*f),n=new Point(b+Math.cos((k+l)/2)*f,c+Math.sin((k+l)/2)*f),o=new Point(b+Math.cos(l)*f,c+Math.sin(l)*f);Animation.circle=new Path.Arc(m,n,o),Animation.circle.set_style({strokeColor:"#000",strokeWidth:1})}}else if(j.angle==-1)Animation.circle.set_style({fillColor:new RgbColor(249/256,190/256,143/256,j.circleOpacity)}),Animation.circle.insertBelow(g),g.insertAbove(Animation.circle),h.insertAbove(Animation.circle),j.circleOpacity==1&&(j.angle=-2);else if(j.angle==-2){var p=new Path.Line(p1,new Point(b+f*Math.cos(-Math.PI*.1),c+f*Math.sin(-Math.PI*.1)));p.set_style({strokeWidth:1,strokeColor:"#000"});var q=new PointText(new Point(p1.x+f*.5,p1.y));q.content="r",$(Animation.container).append('<div id="result" style="position:absolute;top:40px;left:50%;margin-left:30px;line-height:35px;">O : merkez</br>r : yarıçap</br>2 x r = R : çap</div>'),$("div#result",Animation.container).css({opacity:0}),$("div#result",Animation.container).animate({opacity:1},1e3,Main.animationFinished),Animation.onFrame=null}},j.animate({style:{angle:-1},duration:1,delay:8e3}),j.animate({style:{circleOpacity:1},duration:2e3,delay:8e3}),j.animate({style:{angle:1080},duration:2e3,delay:6e3}),j.animate({style:{angle:720},duration:2e3,delay:3500}),j.animate({style:{angle:360},duration:2e3,delay:1e3})}},Interaction={};Interaction.getFramework=function(){return"paper"},Interaction.images=[{id:"ruler",src:"/assets/animations/ruler.png"},{id:"compass_left_leg",src:"/assets/animations/compass_left_leg.png"},{id:"compass_knuckle",src:"/assets/animations/compass_knuckle.png"},{id:"compass_right_leg",src:"/assets/animations/compass_right_leg.png"},{id:"paper",src:"/assets/animations/daire/paper.png"},{id:"scissor",src:"/assets/animations/daire/scissor.png"},{id:"scissor_half",src:"/assets/animations/daire/scissor_half.png"}],Interaction.init=function(a){Main.setObjective("Yandaki cetvel ve pergeli kullanarak seçeceğiniz yarıçap uzunluğuna sahip çemberi aşağıdaki “Çiz” butonuna basarak çizdiriniz. Daha sonra makas resmine tıklayarak kesiniz ve daire elde ediniz."),Interaction.container=a,Interaction.paper={width:$(a).width(),height:$(a).height()},Interaction.button=document.createElement("input"),Interaction.button.type="button",Interaction.button.onclick=Interaction.drawCircle,Interaction.button.className="control_button",$(Interaction.button).css({backgroundImage:"url(/assets/btn_gray_draw_text.png)",position:"absolute",top:"145px",width:"55px",height:"31px",left:"176px"}),$(Interaction.button).hide(),$(Interaction.button).show(),Interaction.container.appendChild(Interaction.button),Interaction.radius=document.createElement("div"),$(Interaction.radius).css({position:"absolute",top:Interaction.paper.height*.4,left:Interaction.paper.width*.3,width:"30px",height:"30px",fontSize:"20px"}),$(Interaction.radius).hide(),$(Interaction.radius).show(),Interaction.container.appendChild(Interaction.radius),Interaction.status=document.createElement("div"),Interaction.status.className="status_true",$(Interaction.status).css({position:"absolute",display:"block",left:"30px",top:Interaction.paper.height*.4,width:"40%"}),$(Interaction.status).hide(),$(Interaction.status).show(),Interaction.container.appendChild(Interaction.status),Interaction.drawCircle.x=Interaction.paper.width*.63,Interaction.drawCircle.y=Interaction.paper.height*.55,Interaction.nextQuestion()},Interaction.nextQuestion=function(){$(Interaction.status).html(""),$(Interaction.radius).show(),Interaction.r=null,Interaction.drawRuler(),Interaction.initCompass(),Interaction.circlePaper=new Raster("paper"),Interaction.circlePaper.position=new Point(Math.floor(Interaction.drawCircle.x)+2.5,Math.floor(Interaction.drawCircle.y)+1.5),Interaction.pause=!1,$(Interaction.button).show(),Interaction.showCircularRegion.circle&&Interaction.showCircularRegion.circle.remove()},Interaction.pause=!1,Interaction.setRadius=function(a){$(Interaction.radius).hide(),Interaction.r=a,a/Interaction.br==Math.floor(a/Interaction.br)?Interaction.radius.innerHTML=a/Interaction.br:Interaction.radius.innerHTML=Util.numberTurkishFloating(a/Interaction.br,1),$(Interaction.radius).show()},Interaction.drawCircle=function(){if(Interaction.pause===!0)return;$(Interaction.radius).hide(),Interaction.status.innerHTML="",$(Interaction.button).hide(),Interaction.compass.remove(),Interaction.ruler.remove(),Interaction.splitCircularRegion.circle&&Interaction.splitCircularRegion.circle.remove(),Interaction.pause=!0;var a,b,c,d,e,f,g,h;Interaction.t&&clearInterval(Interaction.t),Interaction.drawCircle.compass&&Interaction.drawCircle.compass.remove(),Interaction.drawCircle.compass=new Compass(Interaction.drawCircle.x,Interaction.drawCircle.y),Interaction.drawCircle.compass.changeDelta(Interaction.r-Interaction.drawCircle.compass.right.bounds.width),Interaction.drawCircle.compass.group.opacity=0,Interaction.drawCircle.compass.group.animate({style:{opacity:1},duration:500}),Interaction.scissor&&Interaction.scissor.remove(),Interaction.drawCircle.textO&&Interaction.drawCircle.textO.remove(),Interaction.drawCircle.textR&&Interaction.drawCircle.textR.remove(),Interaction.drawCircle.lineR&&Interaction.drawCircle.lineR.remove(),Interaction.drawCircle._o=20,Interaction.animationStarted=(new Date).getTime(),Interaction._o_old=0,Interaction.drawCircle.t=setInterval(function(){var a=(new Date).getTime()-Interaction.animationStarted;Interaction.drawCircle._o=a*.22;if(Interaction.drawCircle._o>=360){clearTimeout(Interaction.drawCircle.t),Interaction.drawCircle._o=359.9,Interaction.pause=!1,Interaction.drawCircle.textO=new PointText(new Point(Interaction.drawCircle.x-10,Interaction.drawCircle.y+10)),Interaction.drawCircle.textO.content="O",Interaction.drawCircle.textR=new PointText(new Point(Interaction.drawCircle.x,Interaction.drawCircle.y)),Interaction.r/Interaction.br>4.3?(Interaction.drawCircle.textR.position=Interaction.drawCircle.textR.position.add(+Interaction.r*.5,15),Interaction.drawCircle.textR.paragraphStyle.justification="center"):Interaction.drawCircle.textR.position=Interaction.drawCircle.textR.position.add(Interaction.r,20),Interaction.drawCircle.textR.content="r = "+Interaction.radius.innerHTML,Interaction.drawCircle.lineR=new Path.Line(new Point(Interaction.drawCircle.x,Interaction.drawCircle.y),new Point(Interaction.drawCircle.x+Interaction.r,Interaction.drawCircle.y)),Interaction.drawCircle.lineR.set_style(lineStyle),Interaction.drawCircle.textO.opacity=0,Interaction.drawCircle.textO.animate({style:{opacity:1},duration:1e3}),Interaction.drawCircle.textR.opacity=0,Interaction.drawCircle.textR.animate({style:{opacity:1},duration:1e3}),Interaction.drawCircle.lineR.opacity=0,Interaction.drawCircle.lineR.animate({style:{opacity:1},duration:1e3}),Interaction.drawCircle.compass.group.opacity=1,Interaction.drawCircle.compass.group.animate({style:{opacity:0},duration:500});var b=new Path.Circle(new Point(Interaction.drawCircle.x,Interaction.drawCircle.y),2);b.set_style({fillColor:"#000"}),b.opacity=0,b.animate({style:{opacity:1},duration:1e3,delay:100}),Interaction.scissor=new Raster("scissor"),Interaction.scissor.position=new Point(Math.floor(Interaction.drawCircle.x+Interaction.br*9+Interaction.scissor.bounds.width*.5)+5,Math.floor(Interaction.drawCircle.y+Interaction.scissor.bounds.height*.5)),$(Interaction.status).html("O merkezli ve "+Interaction.radius.innerHTML+" birim yarıçaplı çember. Daire elde etmek için makasa tıklayınız."),Interaction.scissor.tool=new Tool,Interaction.scissor.tool.onMouseDown=function(a){Interaction.scissor.bounds.contains(a.point)==1&&Interaction.splitCircularRegion()},Interaction.scissor.tool.activate()}var c=Interaction.drawCircle.x+Interaction.r*Math.cos(Util.degreeToRadians(Interaction.drawCircle._o)),d=Interaction.drawCircle.y+Interaction.r*Math.sin(Util.degreeToRadians(Interaction.drawCircle._o));Interaction.drawCircle.circle&&Interaction.drawCircle.circle.remove();var e=new Point(Interaction.drawCircle.x,Interaction.drawCircle.y),f=Interaction.r,g=Util.degreeToRadians(0),h=Util.degreeToRadians(Interaction.drawCircle._o);Interaction.drawCircle.compass.rotate(-Interaction._o_old+Interaction.drawCircle._o,e);var i=new Point(e.x+Math.cos(g)*f,e.y+Math.sin(g)*f),j=new Point(e.x+Math.cos((g+h)/2)*f,e.y+Math.sin((g+h)/2)*f),k=new Point(e.x+Math.cos(h)*f,e.y+Math.sin(h)*f);Interaction.drawCircle.circle=new Path.Arc(i,j,k),Interaction.drawCircle.circle.set_style(circleStyle),Interaction.drawCircle.circle.opacity=Interaction.drawCircle._o>200?1:Interaction.drawCircle._o/200,Interaction._o_old=Interaction.drawCircle._o,Interaction.drawCircle.circle.moveBelow(Interaction.drawCircle.compass.group),Interaction.circlePaper.moveBelow(Interaction.drawCircle.circle)},1)},Interaction.showCircularRegion=function(){Interaction.scissor_half.remove(),Interaction.circlePaper.remove(),$(Interaction.status).hide(),Interaction.status.innerHTML="O merkezli ve "+Interaction.radius.innerHTML+" birim yarıçaplı daire. <br />",$(Interaction.status).show(),Interaction.splitCircularRegion.circle&&Interaction.splitCircularRegion.circle.remove(),flipCircularRegion=function(){var a=(new Date).getTime()-Interaction.showCircularRegion.startTime;a*=.2;if(a>360){clearInterval(Interaction.showCircularRegion.t),$(Interaction.status).hide(),Interaction.status.innerHTML+=' <input type="button" class="repeat_button" style="margin-top:5px;" onclick="Interaction.nextQuestion()">',$(Interaction.status).show(),Interaction.drawCircle.textO=new PointText(new Point(Interaction.drawCircle.x-10,Interaction.drawCircle.y+10)),Interaction.drawCircle.textO.content="O",Interaction.drawCircle.textR=new PointText(new Point(Interaction.drawCircle.x,Interaction.drawCircle.y)),Interaction.r/Interaction.br>4.3?(Interaction.drawCircle.textR.position=Interaction.drawCircle.textR.position.add(+Interaction.r*.5,15),Interaction.drawCircle.textR.paragraphStyle.justification="center"):Interaction.drawCircle.textR.position=Interaction.drawCircle.textR.position.add(Interaction.r,20),Interaction.drawCircle.textR.content="r = "+Interaction.radius.innerHTML,Interaction.drawCircle.lineR=new Path.Line(new Point(Interaction.drawCircle.x,Interaction.drawCircle.y),new Point(Interaction.drawCircle.x+Interaction.r,Interaction.drawCircle.y)),Interaction.drawCircle.lineR.set_style(lineStyle),Interaction.drawCircle.textO.opacity=0,Interaction.drawCircle.textO.animate({style:{opacity:1},duration:1e3}),Interaction.drawCircle.textR.opacity=0,Interaction.drawCircle.textR.animate({style:{opacity:1},duration:1e3}),Interaction.drawCircle.lineR.opacity=0,Interaction.drawCircle.lineR.animate({style:{opacity:1},duration:1e3});return}var b=Interaction.r*Math.cos(Util.degreeToRadian(a));Interaction.showCircularRegion.circle&&Interaction.showCircularRegion.circle.remove(),Interaction.showCircularRegion.circle=new Path.Oval(new Rectangle(new Point(Interaction.drawCircle.x-b,Interaction.drawCircle.y-Interaction.r),new Size(b*2,Interaction.r*2))),a>90&&a<270?Interaction.showCircularRegion.circle.set_style({strokeColor:"#000",fillColor:"#aaa"}):Interaction.showCircularRegion.circle.set_style(circleStyle)},setTimeout(function(){Interaction.drawCircle.circle.remove(),Interaction.showCircularRegion.startTime=(new Date).getTime(),flipCircularRegion(),Interaction.showCircularRegion.t=setInterval(flipCircularRegion,40)},300)},Interaction.splitCircularRegion=function(){Interaction.status.innerHTML="",Interaction.scissor.tool.remove(),Interaction.scissor.remove(),Interaction.drawCircle.textO&&Interaction.drawCircle.textO.remove(),Interaction.drawCircle.textR&&Interaction.drawCircle.textR.remove(),Interaction.drawCircle.lineR&&Interaction.drawCircle.lineR.remove(),Interaction.scissor_half=new Raster("scissor_half"),Interaction.scissor_half.position=[Interaction.drawCircle.x+Interaction.r,Interaction.drawCircle.y],Interaction.splitCircularRegion._o=20,Interaction.splitCircularRegion._o_old=0,Interaction.animationStarted=(new Date).getTime(),Interaction.splitCircularRegion.t=setInterval(function(){var a=(new Date).getTime()-Interaction.animationStarted;Interaction.splitCircularRegion._o=a*.22;if(Interaction.splitCircularRegion._o>360)return clearInterval(Interaction.splitCircularRegion.t),Interaction.showCircularRegion(),!1;Interaction.splitCircularRegion.circle&&Interaction.splitCircularRegion.circle.remove();var b=new Point(Interaction.drawCircle.x,Interaction.drawCircle.y),c=Interaction.r+1,d=Util.degreeToRadians(0),e=Util.degreeToRadians(-Interaction.splitCircularRegion._o);Interaction.scissor_half.rotate(+Interaction.splitCircularRegion._o_old-Interaction.splitCircularRegion._o,b),Interaction.splitCircularRegion._o_old=Interaction.splitCircularRegion._o;var f=new Point(b.x+Math.cos(d)*c,b.y+Math.sin(d)*c),g=new Point(b.x+Math.cos((d+e)/2)*c,b.y+Math.sin((d+e)/2)*c),h=new Point(b.x+Math.cos(e)*c,b.y+Math.sin(e)*c);try{Interaction.splitCircularRegion.circle=new Path.Arc(f,g,h)}catch(i){}Interaction.splitCircularRegion.circle.set_style(circleStyle),Interaction.splitCircularRegion.circle.set_style({strokeColor:"#fff",strokeWidth:2,dashArray:[3,2]}),Interaction.splitCircularRegion.circle.moveBelow(Interaction.scissor_half)},25)},Interaction.initCompass=function(){Interaction.compass=new Compass(Interaction.ruler.bounds.x+9,Interaction.ruler.bounds.y),Interaction.compass.right.class="right_leg",Interaction.drawCompass(Interaction.br*3.5);var a=new Tool;a.drag=!1,a.onMouseDown=function(a){Interaction.compass.group.bounds.contains(a.point)&&(this.drag=!0)},a.onMouseDrag=function(a){this.drag===!0&&Interaction.pause==0&&Interaction.drawCompass(a.delta.x)},a.onMouseUp=function(){this.drag=!1},a.activate(),Interaction.tool=a},Interaction.drawCompass=function(a){if(a==null||a==undefined)a=0;if(Interaction.compass.d+a>Interaction.br*9||Interaction.compass.d+a<Interaction.br)return;Interaction.compass.changeDelta(a),Interaction.setRadius(Interaction.compass.d)},Interaction.drawRuler=function(){var a,b,c,d,e,f;a=30,b=Interaction.paper.height*.4,Interaction.ruler=new Raster("ruler"),Interaction.ruler.position=new Point(Math.floor(a+Interaction.ruler.size.width*.5)-9,Math.floor(b+Interaction.ruler.size.height*.5)+.5),Interaction.br=12;var g=b+d*.6,h=b+d*.4,i=b+d};