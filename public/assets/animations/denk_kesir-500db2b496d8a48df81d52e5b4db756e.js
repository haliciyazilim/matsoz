function animationInit(){var a=Raphael("animation_container"),b=[];b.push(a.image("/assets/animations/denk_kesir/1.png",0,0,512,185).attr({opacity:0})),b.push(a.image("/assets/animations/denk_kesir/2.png",0,0,512,185).attr({opacity:0})),b.push(a.image("/assets/animations/denk_kesir/3.png",0,0,512,185).attr({opacity:0})),b.push(a.image("/assets/animations/denk_kesir/4.png",0,0,512,185).attr({opacity:0}));var c=Raphael.animation({opacity:1},1e3),d=Raphael.animation({opacity:1},1e3);for(i=0;i<b.length;i++)b[i].animate(c.delay(i*2e3))}function interactionInit(){Raphael.fn.fraction=function(a,b,c,d,e){var f=this.set();c2=b+e,c3=a+e*1.5,c&&(pay=this.text(a+e*5/7,b,c),pay.attr({"font-size":e}),f.push(pay)),d&&(payda=this.text(a+e*5/7,c2+e,d),payda.attr({"font-size":e}),f.push(payda));var g="M"+a+" "+c2+"L"+c3+" "+c2;return f.push(this.path(g)),f},Raphael.fn.segmentedUmbrella=function(a,b,c,d){var e=this.set();for(i=0;i<d;i++)e.push(this.path().attr({segment:[a,b,c,360*-i/d-90,360*(-i-1)/d-90]}));return e},Raphael.fn.segmentedCircle=function(a,b,c,d){var e=this.set();for(i=0;i<d;i++)e.push(this.path().attr({segment:[a,b,c,360*i/d-90,360*(i+1)/d-90]}));return e},Raphael.fn.segmentedRectangle=function(a,b,c,d,e,f){var g=this.set();for(i=0;i<e;i++)for(j=0;j<f;j++)g.push(this.rect(a+i*c/e,b+j*d/f,c/e,d/f));return g};var a=Raphael("interaction_container");a.customAttributes.segment=function(a,b,c,d,e){var f=e-d>180,g=(e-d)/360;return d=d%360*Math.PI/180,e=e%360*Math.PI/180,{path:[["M",a,b],["l",c*Math.cos(d),c*Math.sin(d)],["A",c,c,0,+f,1,a+c*Math.cos(e),b+c*Math.sin(e)],["z"]]}};var b=Math.floor(Math.random()*4)+2,c=Math.floor(Math.random()*(b-1))+1,d=Math.floor(Math.random()*2)+2,e,f,g,h;Math.floor(Math.random()*2)==0?(e=c,f=b,g=c*d,h=b*d):(g=c,h=b,e=c*d,f=b*d),a.text(256,50,"Aşağıdaki verilen kesre denk kesir oluşturmak\niçin boşluğa uygun sayıyı yazınız. Daha sonra\n“Kontrol” düğmesine basınız.").attr({"font-size":16}),a.fraction(114,250,e,f,24),missing=Math.floor(Math.random()*2),missing==0?a.fraction(364,250,null,h,24):a.fraction(364,250,g,null,24);var k=Math.floor(Math.random()*3),l,m;switch(k){case 0:l=a.segmentedRectangle(95,125,70,70,b,f/b).attr({fill:"#ccc"});for(i=0;i<e;i++)l[i].attr({fill:"#f55"});m=a.segmentedRectangle(345,125,70,70,b,h/b).attr({fill:"#ccc"});for(i=0;i<g;i++)m[i].attr({fill:"#f55"});break;case 1:l=a.segmentedCircle(130,160,50,f).attr({fill:"#ccc"});for(i=0;i<e;i++)l[i].attr({fill:"#f55"});m=a.segmentedCircle(380,160,50,h).attr({fill:"#ccc"});for(i=0;i<g;i++)m[i].attr({fill:"#f55"});break;case 2:l=a.segmentedRectangle(80,135,100,50,b,f/b).attr({fill:"#ccc"});for(i=0;i<e;i++)l[i].attr({fill:"#f55"});m=a.segmentedRectangle(330,135,100,50,b,h/b).attr({fill:"#ccc"});for(i=0;i<g;i++)m[i].attr({fill:"#f55"})}var n=a.text(200,350,"Tebrikler!").attr({fill:"#5a5",opacity:0,"font-size":24}),o=a.text(200,350,"Tekrar Deneyin!").attr({fill:"#f55",opacity:0,"font-size":24}),p=a.text(200,350,"Olmadı!").attr({fill:"#f55",opacity:0,"font-size":24});m.attr({opacity:0}),$("#interaction_container").append('<input id="textInput" type="textbox" />'),$("#textInput").css("width","27").css("height","25").css("font-size",24).css("font-family","Helvetica Neue").css("position","absolute").css("left","366px"),missing==0?$("#textInput").css("top","230px"):$("#textInput").css("top","290px"),$("#textInput").addClass("input"),$("#textInput").addClass("active"),$("#textInput").change(function(){var a=$(this).val(),b=/^\d+$/;b.test(a)?$("#submitButton").removeAttr("disabled"):$("#submitButton").attr("disabled","disabled")}),$("#textInput").keyup(function(){var a=$(this).val(),b=/^\d+$/;b.test(a)?$("#submitButton").removeAttr("disabled"):$("#submitButton").attr("disabled","disabled")}),$("#interaction_container").append('<input id="submitButton" type="button" value="Kontrol Et" />'),$("#submitButton").css("position","absolute").css("width","140px").css("left","312px").css("top","330px"),$("#submitButton").addClass("input"),$("#submitButton").attr("disabled","disabled");var q=0;$("#submitButton").click(function(){var b;missing==0?b=f/e==h/parseInt($("#textInput").val()):b=f/e==parseInt($("#textInput").val())/g,b?(o.animate({opacity:0},500),n.animate({opacity:1},500),m.animate({opacity:1},500),$("#submitButton").val("Sonraki"),$("#textInput").attr("disabled","disabled"),$("#submitButton").click(function(){a.clear(),$("#textInput").remove(),$("#submitButton").remove(),interactionInit()})):(q++,q<2?($("#textInput").val(""),$("#submitButton").attr("disabled","disabled"),o.animate({opacity:1},500)):($("#textInput").val(g),m.animate({opacity:1},500),o.animate({opacity:0},500),p.animate({opacity:1},500),$("#submitButton").removeAttr("disabled"),$("#submitButton").val("Sonraki"),$("#textInput").attr("disabled","disabled"),$("#submitButton").click(function(){a.clear(),$("#textInput").remove(),$("#submitButton").remove(),interactionInit()})))})}$(document).ready(function(){animationInit(),interactionInit()});