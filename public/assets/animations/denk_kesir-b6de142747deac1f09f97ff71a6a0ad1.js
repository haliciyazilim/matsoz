function animationInit(a){var b=[];b.push(a.image("/assets/animations/denk_kesir/1.png",0,0,512,185).attr({opacity:0})),b.push(a.image("/assets/animations/denk_kesir/2.png",0,0,512,185).attr({opacity:0})),b.push(a.image("/assets/animations/denk_kesir/3.png",0,0,512,185).attr({opacity:0})),b.push(a.image("/assets/animations/denk_kesir/4.png",0,0,512,185).attr({opacity:0}));var c=Raphael.animation({opacity:1},1e3,">"),d=Raphael.animation({opacity:0},1e3,"linear");for(i=0;i<b.length;i++)b[i].animate(c.delay(i*2e3));for(i=0;i<b.length-1;i++)b[i].attr({opacity:1}),b[i].animate(d.delay((i+1)*2e3)),b[i].attr({opacity:0})}function interactionInit(a){a.customAttributes.segment=function(a,b,c,d,e){var f=e-d>180,g=(e-d)/360;return d=d%360*Math.PI/180,e=e%360*Math.PI/180,{path:[["M",a,b],["l",c*Math.cos(d),c*Math.sin(d)],["A",c,c,0,+f,1,a+c*Math.cos(e),b+c*Math.sin(e)],["z"]]}};var b=Math.floor(Math.random()*4)+2,c=Math.floor(Math.random()*(b-1))+1,d=Math.floor(Math.random()*2)+2,e,f,g,h;Math.floor(Math.random()*2)==0?(e=c,f=b,g=c*d,h=b*d):(g=c,h=b,e=c*d,f=b*d),a.fraction(114,165,e,f,24),missing=Math.floor(Math.random()*2),missing==0?a.fraction(364,165,null,h,24):a.fraction(364,165,g,null,24);var j=Math.floor(Math.random()*3),k,l;switch(j){case 0:k=a.segmentedRectangle(95,40,70,70,b,f/b).attr({fill:"#fef8ec"});for(i=0;i<e;i++)k[i].attr({fill:"#f55"});l=a.segmentedRectangle(345,40,70,70,b,h/b).attr({fill:"#fef8ec"});for(i=0;i<g;i++)l[i].attr({fill:"#f55"});break;case 1:k=a.segmentedCircle(130,70,50,f).attr({fill:"#fef8ec"});for(i=0;i<e;i++)k[i].attr({fill:"#f55"});l=a.segmentedCircle(380,70,50,h).attr({fill:"#fef8ec"});for(i=0;i<g;i++)l[i].attr({fill:"#f55"});break;case 2:k=a.segmentedRectangle(80,55,100,50,b,f/b).attr({fill:"#fef8ec"});for(i=0;i<e;i++)k[i].attr({fill:"#f55"});l=a.segmentedRectangle(330,55,100,50,b,h/b).attr({fill:"#fef8ec"});for(i=0;i<g;i++)l[i].attr({fill:"#f55"})}var m=a.text(160,260,"Tebrikler!").attr({fill:"#5a5",opacity:0,"font-size":24}),n=a.text(160,260,"Tekrar Deneyiniz!").attr({fill:"#f55",opacity:0,"font-size":24}),o=a.text(160,260,"Olmadı!").attr({fill:"#f55",opacity:0,"font-size":24}),p=a.text(160,260,"Lütfen kutucuğa bir sayı giriniz").attr({fill:"#f55",opacity:0,"font-size":16});l.attr({opacity:0}),$("#interaction_container").append('<input id="textInput" type="textbox" />'),$("#textInput").css("width","27").css("height","25").css("font-size",24).css("font-family","Helvetica Neue").css("position","absolute").css("left","366px"),missing==0?$("#textInput").css("top","230px"):$("#textInput").css("top","290px"),$("#textInput").addClass("input"),$("#textInput").addClass("active"),$("#interaction_container").append('<input id="submitButton" type="button" value="Kontrol" />'),$("#submitButton").css("position","absolute").css("width","140px").css("left","312px").css("top","330px"),$("#submitButton").addClass("input");var q=0;submit=function(){var b=$("#textInput").val(),c=/^\d+$/;if(!c.test(b)){n.animate({opacity:0},500),o.animate({opacity:0},500),m.animate({opacity:0},500),p.animate({opacity:1},500);return}var d;missing==0?d=f/e==h/parseInt($("#textInput").val()):d=f/e==parseInt($("#textInput").val())/g,d?(p.animate({opacity:0},500),n.animate({opacity:0},500),m.animate({opacity:1},500),l.animate({opacity:1},500),$("#submitButton").val("Sonraki"),$("#submitButton").click(function(){a.clear(),$("#textInput").remove(),$("#submitButton").remove(),interactionInit(a)})):(q++,q<2?($("#textInput").val(""),p.animate({opacity:0},500),n.animate({opacity:1},500)):(missing==0?$("#textInput").val(g):$("#textInput").val(h),l.animate({opacity:1},500),p.animate({opacity:0},500),n.animate({opacity:0},500),o.animate({opacity:1},500),$("#submitButton").val("Sonraki"),$("#submitButton").click(function(){a.clear(),$("#textInput").remove(),$("#submitButton").remove(),interactionInit(a)})))},$("#submitButton").click(submit),$("#textInput").keypress(function(a){a.keyCode==13&&submit()})}var Animation=function(){};Animation();var Interaction=function(){};Interaction(),Interaction.init=function(a){Main.setObjective("Aşağıdaki verilen kesre denk kesir oluşturmak\niçin boşluğa uygun sayıyı yazınız. Daha sonra\n“Kontrol” düğmesine basınız."),animationInit(Raphael("animation_container")),interactionInit(Raphael(a))};