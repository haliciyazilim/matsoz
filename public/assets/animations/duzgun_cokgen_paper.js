// JavaScript Document
/*Styles*/
function Triangle(a,b,c,d,e,f,g,h){this.i=a,this.j=b,this.k=c,this.p1={x:0,y:0},this.p2={x:0,y:0},this.p3={x:0,y:0},this.a1=null,this.a2=null,this.a3=null;var i=Math.min(f,g),j=i/Math.max(a,b,c);this.p1.x=d,this.p1.y=e+i,this.p2.x=this.p1.x+this.i*j,this.p2.y=this.p1.y;var i=Math.acos((this.i*this.i+this.k*this.k-this.j*this.j)/(2*this.i*this.k));this.p3.x=this.p1.x+Math.cos(i)*c*j,this.p3.y=this.p1.y-Math.sin(i)*c*j;var k=new Path.Triangle(this.p1,this.p2,this.p3);return k.strokeColor="black",k.strokeWidth=2,k.scale(Main.scale,[0,0]),k}function pentagon(a,b,c,d){var e=[10,70,150,200,300];return Interaction.paper.equiradialPolygon(a,b,c,d,e)}function regularpentagon(a,b,c,d){return Interaction.paper.regularPolygon(a,b,c,d,5)}function hexagon(a,b,c,d){var e=[10,50,100,150,200,300];return Interaction.paper.equiradialPolygon(a,b,c,d,e)}function regularhexagon(a,b,c,d){return Interaction.paper.regularPolygon(a,b,c,d,6)}var textStyle={"font-size":"16px","font-weight":"bold",fill:"#fff"},edgeStyle={"stroke-width":"2px"},angleStyle={fill:"#DDD"},shapeStyle={fill:"#fff"},dropableShapeHoverStyle={stroke:"#000",fill:"#dd9","stroke-width":2},dropableShapeDefaultStyle={stroke:"#999",fill:"rgb(146,208,80)","stroke-width":1},dropableShapeDroppedTrueStyle={stroke:"#0f0",fill:"#afa"},dropableShapeDroppedFalseStyle={stroke:"#f00",fill:"#f00"},Interaction=function(){};Interaction(),Interaction.getFramework=function(){return"paper"},Interaction.init=function(a){Main.setObjective("Aşağıdaki çokgenlerden düzgün olanları seçiniz."),Interaction.container=a,Interaction.container.top=$(a).offset().top,Interaction.container.left=$(a).offset().left;var b=$(Interaction.container).width(),c=$(Interaction.container).height();Interaction.createDropableShape(b*.8,0,b*.2,c),Interaction.generateRandomShapes(b*.05,c*.2,b*.7,c*.8),Interaction.preventDrag=!1,Interaction.dropableShape.scale(Main.scale,new Point(0,0)),paper.view.draw()},Interaction.generateRandomShapes=function(a,b,c,d){Interaction.shapes=[];var e=c*.2,f=d*.3,g=function(){this.ox=this.position.x,this.oy=this.position.y,this.odx=0,this.ody=0;var a=$(Interaction.container).offset();this.s_left=a.left,this.s_top=a.top,this.inDropableShape=!1;if(this.preventDrag==null||this.preventDrag=="undefined")this.preventDrag=!1;return!0},h=function(a,b,c,d){if(this.preventDrag==1)return;return this.odx+=a,this.ody+=b,this.position=[this.position.x+a,this.position.y+b],Interaction.dropableShape.hitTest([c-this.s_left,d-this.s_top])?(this.inDropableShape=!0,Interaction.dropableShape.style=dropableShapeHoverStyle):(Interaction.dropableShape.style=dropableShapeDefaultStyle,this.inDropableShape=!1),!0},i=function(){if(this.preventDrag==1)return;Interaction.dropableShape.style=dropableShapeDefaultStyle;var a=!1;AnimationManager.translate(this,new Point(this.ox-this.position.x,this.oy-this.position.y),500)};do{var j,k,l,m,n=Interaction.findSpace(c,d);j=n.x+a,k=n.y+b,Interaction.shapeType=Math.floor(Math.random()*6),Interaction.shapeType=0,l=e*.7,m=f*.7;var o,p;Util.rand01()==0?p=!0:p=!1;switch(Interaction.shapeType){case 0:m=l=Math.min(l,m);if(p==0)while(m==l||m>f)m=Math.floor(Math.random()*2)*10+l-20;o=new Path.Rhombus(new Point(j,k),new Size(m,l));break;case 1:var q,r,s;q=r=s=5,p==0&&(Util.rand01()==0?(q=4,r=3):(q=3,r=4)),o=new Path.Bowl(j,k,l,m),o.data={x:j,y:k,w:l,h:m};break;case 2:p==0?o=pentagon(j,k,l,m):o=regularpentagon(j,k,l,m);break;case 3:p==0?o=hexagon(j,k,l,m):o=regularhexagon(j,k,l,m);break;case 4:if(p==1)continue;o=Interaction.paper.rhomboid(j,k+m*.1,l*.2,l*.8,m*.7);break;case 5:if(p==1)continue;o=Interaction.paper.rhombus(j,k+m*.1,l,m*.7)}o.style={fillColor:"#FFF",strokeColor:"#000",strokeWidth:2},o.start=g,o.move=h,o.up=i,o.order=Interaction.shapes.length,Interaction.shapes.push(o)}while(Interaction.shapes.length<15);var t=new Tool;t.onMouseDown=function(a){a.item&&(t.shape=a.item,a.item.start())},t.onMouseDrag=function(a){t.shape.move(a.delta.x,a.delta.y,a.x,a.y)},t.onMouseUp=function(a){t.shape.up(),t.shape=null},t.activate()},Interaction.createDropableShape=function(a,b,c,d){var e,f,g,i,j;j=Math.min(c,d),w=j*.9,h=j*.8,e=a+(c-w)*.5,f=b+(d-h)*.5,Interaction.dropableShape=new Path.Oval(new Rectangle(new Point(e,f),new Size(w,h))),Interaction.dropableShape.style={fillColor:"blue",strokeColor:"red",strokeWidth:5};var k=new Tool;k.onMouseMove=function(a){var b=project.hitTest([a.point.x*Main.scale,a.point.y*Main.scale],{fill:!0,stroke:!0,tolerance:0,center:!0,bounds:!0})}},Interaction.findSpace=function(a,b){var c=Interaction.shapes.length,d={x:Math.floor(c%5)*a*.2,y:Math.floor(c/5)*b*.3};return d},Interaction.setStatus=function(a){Interaction.status.innerHTML=a};