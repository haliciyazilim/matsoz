function __Styles(){planeStyle={fillColor:new RgbColor(.75,.91,.94,.5),strokeColor:"#255b63",strokeWidth:1},clickableAreaStyle={fillColor:new RgbColor(1,1,.6,1),strokeColor:"#255b63",strokeWidth:1},planeSelectedStyle={fillColor:new RgbColor(.15,.36,.39,.7)},typeDivCss={position:"absolute",color:"#c90",border:"2px solid #c90",backgroundColor:"#900",width:"140px",height:"50px",top:"40px",right:"100px",fontWeight:"bold",lineHeight:"46px",textAlign:"center",boxSizing:"border-box"},notExistDivCss={position:"absolute",color:"#cfc",border:"2px outset #afa",backgroundColor:"#363",width:"70px",height:"50px",top:"40px",right:"10px",lineHeight:"46px",textAlign:"center",borderRadius:"25px",boxSizing:"border-box"},notExistDivSelectedCss={toString:function(){return"background-color:#030 !important; border:2px inset #afa !important;"}}}function Plane(a){this.points=a,this.centerPoint=Util.centerOfPoint3s(this.points),this.clickableArea=new ClickableArea(this),this.isPlaneSelected=!1,this.setParent=function(a){return this.parent=a,this.matrix=this.parent.matrix,this.clickableArea.setParent(this),this},this.isParallelTo=function(a){var b=this.getNormal(),c=a.getNormal(),d=b.dot(c),e=b.dot(c);return d==1||e==-1?!0:!1},this.getNormal=function(){var a=this.points[1].subtract(this.points[0]),b=this.points[2].subtract(this.points[0]),c=a.cross(b);return c.normalize()},this.isSelected=function(){return this.isPlaneSelected},this.select=function(a){a||(a=0),Interaction.pause=!0,this.shape.animate({style:{fillColor:planeSelectedStyle.fillColor},duration:a,callback:function(){this.isPlaneSelected=!0,Interaction.pause=!1}})},this.deselect=function(a){a||(a=0),Interaction.pause=!0,this.shape.animate({style:{fillColor:planeStyle.fillColor},duration:a,callback:function(){this.isPlaneSelected=!1,Interaction.pause=!1}})},this.set_style=function(a){this.style=a},this.draw=function(){var a=new Path;for(var b=0;b<this.points.length;b++)a.add(projectPoint(this.points[b],this.matrix));return a.closed=!0,this.style&&a.set_style(this.style),a.class="Plane",a.isPlaneSelected=!1,a.plane=this,a.clickableArea=this.clickableArea.draw(),a.clickableArea.plane=a,this.shape=a,a}}function ClickableArea(a){this.plane=a,this.matrix=this.plane.matrix,this.setParent=function(a){return this.parent=a,this.matrix=this.parent.matrix,this},this.draw=function(){var a=new Path,b=projectPoint(this.plane.centerPoint,this.matrix);for(var c=0;c<=this.plane.points.length;c++){var d=projectPoint(this.plane.points[c%this.plane.points.length],this.matrix),e=b.findPointTo(d,20,!0);a.add(Math.floor(e.x)+.5,Math.floor(e.y)+.5)}return a.closed=!0,a.class="ClickableArea",a.set_style(clickableAreaStyle),this.shape=a,a}}function Cube(a,b){this.centerPoint=a;var c=a.x,d=a.y,e=b*5;a=[],a[0]=new Point3(-b*.5,-b*.5,+b*.5),a[1]=new Point3(-b*.5,+b*.5,+b*.5),a[2]=new Point3(+b*.5,+b*.5,+b*.5),a[3]=new Point3(+b*.5,-b*.5,+b*.5),a[4]=new Point3(-b*.5,-b*.5,-b*.5),a[5]=new Point3(-b*.5,+b*.5,-b*.5),a[6]=new Point3(+b*.5,+b*.5,-b*.5),a[7]=new Point3(+b*.5,-b*.5,-b*.5),this.matrix=Util.createProjectionMatrixForObjectAt(c,d),this.planes=[],this.planes.push((new Plane([a[0],a[1],a[2],a[3]])).setParent(this)),this.planes.push((new Plane([a[4],a[5],a[6],a[7]])).setParent(this)),this.planes.push((new Plane([a[0],a[1],a[5],a[4]])).setParent(this)),this.planes.push((new Plane([a[3],a[2],a[6],a[7]])).setParent(this)),this.planes.push((new Plane([a[0],a[3],a[7],a[4]])).setParent(this)),this.planes.push((new Plane([a[1],a[2],a[6],a[5]])).setParent(this)),$(this.planes).each(function(a,b){this.set_style(planeStyle)}),this.draw=function(){var a=[];this.planes.sort(Plane.compare);for(var b=0;b<this.planes.length;b++)a.push(this.planes[b].draw());return a.class="Cube",a}}function projectPoint(a,b){if(a==undefined)throw"p is not defined";if(b==undefined)throw"matrix is not defined";return Util.project([a.x,a.y,a.z],b)}var Animation={init:function(a){Animation.container=a}},Interaction={getFramework:function(){return"paper"},_types:{PARALLEL:"Paralel Düzlemler",INTERSECTING:"Kesişen Düzlemler"},init:function(a){Interaction.container=a,Main.setObjective("Yandaki geometrik cisimlerin istenen paralel ya da kesişen düzlem ikilisine fare ile tıklayarak gösteriniz. Olmayanlar için “Yok” düğmesine tıklayınız."),Interaction.paper={width:$(a).width(),height:$(a).height()},Interaction.appendStatus({bottom:"40px",right:"40px"}),Interaction.appendButton({bottom:"80px",right:"40px"}),Interaction.typeDiv=document.createElement("div"),$(a).append(Interaction.typeDiv),$(Interaction.typeDiv).attr("id","typeDiv").css(typeDivCss),Interaction.notExistDiv=document.createElement("div"),$(a).append(Interaction.notExistDiv),$(Interaction.notExistDiv).attr({id:"notExistDiv",__selected:"false"}).css(notExistDivCss).html("Yok").click(function(){$(this).attr("__selected")=="false"?($(this).attr("__selected","true"),$(this).addClass("selected"),Interaction.deselectPlanes()):($(this).attr("__selected","false"),$(this).removeClass("selected"))}),Interaction.notExistDiv.deselect=function(){$(Interaction.notExistDiv).attr("__selected","false"),$(Interaction.notExistDiv).removeClass("selected")},Interaction.notExistDiv.isSelected=function(){return $(Interaction.notExistDiv).attr("__selected")=="true"?!0:!1},$(a).append("<style>#notExistDiv.selected { "+notExistDivSelectedCss.toString()+" }</style>"),Interaction.setRandomGenerator(8),Interaction.prepareNextQuestion()},nextQuestion:function(a){Interaction.createTool(),Main.interactionProject.activeLayer.removeChildren(),Interaction.shapeType=a,Interaction.qType=Util.rand01()==0?Interaction._types.INTERSECTING:Interaction._types.PARALLEL,$(Interaction.typeDiv).html(Interaction.qType);switch(a){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:}var b=new Cube(new Point(150,150),130);Interaction.shape=b.draw(),Interaction.shapeType=0},preCheck:function(){},isAnswerCorrect:function(a){switch(Interaction.shapeType){case 0:case 1:case 2:case 3:case 5:if(Interaction.notExistDiv.isSelected())return!1;var b=Interaction.getSelectedPlanes();if(Interaction.qType==Interaction._types.INTERSECTING)return!b[0].isParallelTo(b[1]);if(Interaction.qType==Interaction._types.PARALLEL)return b[0].isParallelTo(b[1]);break;case 4:case 6:case 7:}},onCorrectAnswer:function(){},onWrongAnswer:function(){},onFail:function(){},getParallelPlanePairs:function(){function b(c){c.class=="Plane"?a.push({plane:c.plane,hasParallel:!1}):$(c.children).each(function(a,c){b(this)})}var a=[];b(Main.interactionProject.activeLayer);var c=[];for(var d=0;d<a.length;d++)for(var e=0;e<a.length;e++){if(d==e||a[d].hasParallel==1||a[e].hasParallel==1)continue;a[d].plane.isParallelTo(a[e].plane)&&(a[d].hasParallel=!0,a[e].hasParallel=!0,c.push([a[d].plane,a[e].plane]))}return c},getSelectedPlanes:function(){function b(c){c.class=="ClickableArea"&&c.plane.isSelected()==1?a.push(c.plane.plane):$(c.children).each(function(a,c){b(this)})}var a=[];return b(Main.interactionProject.activeLayer),a},deselectPlanes:function(){function a(b){b.class=="ClickableArea"?(b.plane.set_style(planeStyle),b.plane.isPlaneSelected=!1):$(b.children).each(function(b,c){a(this)})}Interaction.tool.count=0,a(Main.interactionProject.activeLayer)},createTool:function(){Interaction.tool=new Tool,Interaction.tool.count=0,Interaction.tool.onMouseDown=function(a){$(Main.interactionProject.activeLayer.getItemsByClass("ClickableArea")).each(function(b,c){this.bounds.contains(a.point)&&(a.item=this)}),a.item.plane.plane.isSelected()==0?this.count<2&&(a.item.plane.plane.select(),this.count++,Interaction.notExistDiv.deselect()):(a.item.plane.plane.deselect(),this.count--)},Interaction.tool.activate()}};Plane.compare=function(a,b){var c=a.centerPoint,d=b.centerPoint;return c.z>d.z?-1:c.z<d.z?1:c.y<d.y?1:c.y>d.y?-1:c.x>d.x?1:c.x<d.x?-1:0};