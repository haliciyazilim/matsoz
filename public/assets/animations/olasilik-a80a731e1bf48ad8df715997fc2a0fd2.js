// JavaScript Document
/*Styles*/
var textStyle={"font-size":"16px"},edgeStyle={strokeColor:"#000",strokeWidth:2,fillColor:"#ff0",cursor:"move"},angleStyle={fill:"#DDD"},Animation={images:[{id:"piechart",src:"/assets/animations/olasilik/pie_chart.png"},{id:"point",src:"/assets/animations/olasilik/point.png"},{id:"arrow",src:"/assets/animations/olasilik/arrow.png"}],showResult:function(){$(Animation.container).append('<div id="result"><div style="width:150px;line-height:50px;">Yeşil Gelme Olasılığı = </div><div style="width:130px;line-height:25px;text-align:center;"><div>Yeşil Gelme Sayısı</div><div style="height:1px;border-top:2px solid #000;"></div><div>Dönme Sayısı</div></div><div style="width:20px;line-height:50px;">&nbsp;=&nbsp;</div><div style="width:35px;line-height:25px;text-align:center;"><div>186</div><div style="height:1px;border-top:2px solid #000;"></div><div>500</div></div><div style="width:40px;line-height:50px;text-align:left">&nbsp;=&nbsp;%37</div></div>'),$("div#result",Animation.container).css({position:"absolute",overflow:"hidden",top:"70%",height:"50px",width:"420px",left:"40%",opacity:0}),$("div#result > div",Animation.container).css({"float":"left"}),$("div#result",Animation.container).animate({opacity:1},1e3),Animation.onFrame=undefined},init:function(a){Animation.container=a;var b=$(a).width(),c=$(a).height(),d=b*.5,e=c*.5;$(a).append('<div id="olasilik_table_container"><table id="olasilik_table"><tr><th>Dönme Sayısı</th><th>Beyaz Gelme Sayısı</th><th>Yeşil Gelme Sayısı</th></tr><tr id="1"><td id="1">&emsp;</td><td id="2">&emsp;</td><td id="3">&emsp;</td></tr><tr id="2"><td id="1">&emsp;</td><td id="2">&emsp;</td><td id="3">&emsp;</td></tr><tr id="3"><td id="1">&emsp;</td><td id="2">&emsp;</td><td id="3">&emsp;</td></tr></table></div>'),Animation.table=$("table#olasilik_table",a).get(0),$("div#olasilik_table_container",a).css({position:"absolute",width:"300px",height:"150px",top:"20px",left:"50%"}),$("table#olasilik_table td,table#olasilik_table th",a).css({border:"1px solid #000",borderCollapse:"hidden",height:"23px",textAlign:"center",verticalAlign:"middle"});var f=new Point(d-150,e),g=new Raster("piechart");g.position=f,Animation.arrow=new Raster("arrow"),Animation.arrow.position=f.add(10,0),Animation.arrow.set_style({strokeWidth:6,strokeColor:"#f00",fillColor:"#f00"}),Animation.arrowPoint=new Raster("point"),Animation.arrowPoint.position=f,Animation.arrowPoint.set_style({strokeColor:"#000",fillColor:"#000"}),animationHelper={angle:0,oldAngle:0,firstStop:0,secondStop:0,thirdStart:0,thirdStop:0,tr11:0,tr12:0,tr13:0,tr21:0,tr22:0,tr23:0,tr31:0,tr32:0,tr33:0},Animation.onFrame=function(a){var b=animationHelper.angle-animationHelper.oldAngle;Animation.arrow.rotate(-b,f),animationHelper.oldAngle=animationHelper.angle,animationHelper.firstStop==1?($("tr#1 td#1",Animation.table).html(animationHelper.tr11),$("tr#1 td#2",Animation.table).html(animationHelper.tr12),$("tr#1 td#3",Animation.table).html(animationHelper.tr13),animationHelper.firstStop=0):animationHelper.secondStop==1?($("tr#1 td#1",Animation.table).html(animationHelper.tr11),$("tr#1 td#2",Animation.table).html(animationHelper.tr12),$("tr#1 td#3",Animation.table).html(animationHelper.tr13),animationHelper.secondStop=0):animationHelper.thirdStop==1?(animationHelper.thirdStart=0,animationHelper.thirdStop=0,Animation.showResult()):animationHelper.thirdStart>0&&($("tr#1 td#1",Animation.table).html(Math.floor(animationHelper.tr11)),$("tr#1 td#2",Animation.table).html(Math.floor(animationHelper.tr12)),$("tr#1 td#3",Animation.table).html(Math.floor(animationHelper.tr13)),animationHelper.tr21>0&&($("tr#2 td#1",Animation.table).html(Math.floor(animationHelper.tr21)),$("tr#2 td#2",Animation.table).html(Math.floor(animationHelper.tr22)),$("tr#2 td#3",Animation.table).html(Math.floor(animationHelper.tr23))),animationHelper.tr31>0&&($("tr#3 td#1",Animation.table).html(Math.floor(animationHelper.tr31)),$("tr#3 td#2",Animation.table).html(Math.floor(animationHelper.tr32)),$("tr#3 td#3",Animation.table).html(Math.floor(animationHelper.tr33))))},animationHelper.animate=Item.prototype.animate,animationHelper.animate({style:{angle:6e3,thirdStart:100,thirdStop:1},duration:4500,delay:4e3,animationType:"easeInEaseOut"}),animationHelper.animate({style:{tr31:500,tr32:314,tr33:186},duration:1500,delay:6500,animationType:"easeInEaseOut"}),animationHelper.animate({style:{tr21:100,tr22:63,tr23:37},duration:1500,delay:5e3,animationType:"easeInEaseOut"}),animationHelper.animate({style:{tr11:50,tr12:36,tr13:14,animationType:"easeInEaseOut"},duration:1e3,delay:4e3}),animationHelper.animate({style:{angle:1030,tr11:2,tr12:1,tr13:1,secondStop:1},duration:1e3,delay:2500,animationType:"easeInEaseOut"}),animationHelper.animate({style:{angle:480,tr11:1,tr12:0,tr13:1,firstStop:1},duration:1e3,delay:500,animationType:"easeInEaseOut"})}},Interaction={};Interaction.images=[{id:"tura",src:"/assets/animations/olasilik/tura.png"},{id:"yazi",src:"/assets/animations/olasilik/yazi.png"},{id:"hand",src:"/assets/animations/olasilik/hand.png"}],Interaction.getFramework=function(){return"paper"},Interaction.init=function(a){Main.setObjective("Aşağıdaki madeni parayı yandaki resme fare ile tıklayarak istediğiniz kadar atarak tura geliş olasılığını izleyiniz."),Interaction.container=a;var b=$(a).width(),c=$(a).height();Interaction.position=[b*.2,c*.5],Interaction.probability={tura:0,total:0,div:document.createElement("div")},Interaction.probability.div.innerHTML='<div id="numberoftura" style="width:50px;height:30px;padding:0;border:1px solid #000;margin:auto;"></div><div style="width:60px;height:1px;padding:0;border-top:2px solid #000;margin:auto;margin-top:5px;"></div><div id="total" style="width:50px;height:30px;padding:0;border:1px solid #000;margin:auto;margin-top:5px;"></div>',$(Interaction.probability.div).css({position:"absolute",top:c*.5-105,right:"30px",textAlign:"center",lineHeight:"30px"}),$(a).append(Interaction.probability.div),$(a).append('<div style="position:absolute;right:95px;top:25%;">Tura gelme olasılığı = </div>'),Interaction.side=new Raster(Util.rand01==1?"tura":"yazi"),Interaction.side.position=Interaction.position,Interaction.hand=new Raster("hand"),Interaction.hand.position=[b*.6-20,c*.6+10],Interaction.bindTool()},Interaction.setStatus=function(a){Interaction.status.innerHTML=a},Interaction.nextQuestion=function(){Interaction.tool.remove(),Interaction.side.remove(),Interaction.probability.total++,Util.rand01()==1?(Interaction.sideName="tura",Interaction.switchName="yazi",Interaction.probability.tura++):(Interaction.sideName="yazi",Interaction.switchName="tura"),Interaction.angle=0,Interaction.angle_old=0,Interaction.startTime=(new Date).getTime();var a={angle:0};a.animate=Item.prototype.animate,a.animate({style:{angle:Math.PI*10},duration:3e3,animationType:"easeOut",callback:function(){Interaction.updateProbability()}}),Interaction.onFrame=function(){Interaction.side&&Interaction.side.remove();var b=Math.floor(Util.radianToDegree(a.angle))%360;b<90?Interaction.side=new Raster(Interaction.sideName):b<270?Interaction.side=new Raster(Interaction.switchName):Interaction.side=new Raster(Interaction.sideName);var c=Math.abs(Interaction.side.height*Math.cos(a.angle));c>0&&c<1&&(c=1);var d=Interaction.side.width;Interaction.side.position=Interaction.position,Interaction.side.size=new Size(c,d),Interaction.angle_old=Interaction.angle}},Interaction.updateProbability=function(){$("#numberoftura").html(Interaction.probability.tura),$("#total").html(Interaction.probability.total),Interaction.bindTool()},Interaction.bindTool=function(){var a=new Tool;a.onMouseDown=function(a){Interaction.hand.bounds.contains(a.point)&&Interaction.nextQuestion()},a.activate(),Interaction.tool=a};