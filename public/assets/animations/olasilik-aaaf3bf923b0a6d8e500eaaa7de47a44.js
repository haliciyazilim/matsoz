// JavaScript Document
/*Styles*/
var textStyle={"font-size":"16px"},edgeStyle={strokeColor:"#000",strokeWidth:2,fillColor:"#ff0",cursor:"move"},angleStyle={fill:"#DDD"},Animation={},Interaction={};Interaction.images=[{id:"tura",src:"/assets/animations/olasilik/tura.png"},{id:"yazi",src:"/assets/animations/olasilik/yazi.png"},{id:"hand",src:"/assets/animations/olasilik/hand.png"}],Interaction.getFramework=function(){return"paper"},Interaction.init=function(a){Main.setObjective("Aşağıdaki madeni parayı yandaki resme fare ile tıklayarak istediğiniz kadar atarak tura geliş olasılığını izleyiniz."),Interaction.container=a;var b=$(a).width(),c=$(a).height();Interaction.position=[b*.2,c*.5],Interaction.probability={tura:0,total:0,div:document.createElement("div")},Interaction.probability.div.innerHTML='<div id="numberoftura" style="width:50px;height:30px;padding:0;border:1px solid #000;margin:auto;"></div><div style="width:60px;height:1px;padding:0;border-top:2px solid #000;margin:auto;margin-top:5px;"></div><div id="total" style="width:50px;height:30px;padding:0;border:1px solid #000;margin:auto;margin-top:5px;"></div>',$(Interaction.probability.div).css({position:"absolute",top:c*.5-105,right:"30px",textAlign:"center",lineHeight:"30px"}),$(a).append(Interaction.probability.div),$(a).append('<div style="position:absolute;right:95px;top:25%;">Tura gelme olasılığı = </div>'),Interaction.side=new Raster(Util.rand01==1?"tura":"yazi"),Interaction.side.position=Interaction.position,Interaction.hand=new Raster("hand"),Interaction.hand.position=[b*.6-20,c*.6+10],Interaction.bindTool()},Interaction.setStatus=function(a){Interaction.status.innerHTML=a},Interaction.nextQuestion=function(){Interaction.tool.remove(),Interaction.side.remove(),Interaction.probability.total++,Util.rand01()==1?(Interaction.sideName="tura",Interaction.switchName="yazi",Interaction.probability.tura++):(Interaction.sideName="yazi",Interaction.switchName="tura"),Interaction.angle=0,Interaction.angle_old=0,Interaction.startTime=(new Date).getTime();var a={angle:0};a.animate=Item.prototype.animate,a.animate({style:{angle:Math.PI*10},duration:3e3,animationType:"easeOut",callback:function(){Interaction.updateProbability()}}),Interaction.onFrame=function(){Interaction.side&&Interaction.side.remove();var b=Math.floor(Util.radianToDegree(a.angle))%360;b<90?Interaction.side=new Raster(Interaction.sideName):b<270?Interaction.side=new Raster(Interaction.switchName):Interaction.side=new Raster(Interaction.sideName);var c=Math.abs(Interaction.side.height*Math.cos(a.angle));c>0&&c<1&&(c=1);var d=Interaction.side.width;Interaction.side.position=Interaction.position,Interaction.side.size=new Size(c,d),Interaction.angle_old=Interaction.angle}},Interaction.updateProbability=function(){$("#numberoftura").html(Interaction.probability.tura),$("#total").html(Interaction.probability.total),Interaction.bindTool()},Interaction.bindTool=function(){var a=new Tool;a.onMouseDown=function(a){Interaction.hand.bounds.contains(a.point)&&Interaction.nextQuestion()},a.activate(),Interaction.tool=a};