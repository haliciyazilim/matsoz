/*
	Matematik Sözlüğü - Ondalık Kesirleri Karşılaştırma
	
	Halıcı Yazılım
	Abdullah Karacabey
	27.07.2012

*/
function __Styles(){}var Animation={init:function(a){Animation.container=a}},Interaction={getFramework:function(){return"paper"},init:function(a){Interaction.container=a,Main.setObjective(""),Interaction.paper={width:$(a).width(),height:$(a).height()},sayi1=0,sayi2=0,sayi3=0,$(a).append("<div id='soru'>"),$("#soru").css("width","414px").css("height","45px").css("position","absolute").css("left","0").css("top","0").css("right","0").css("bottom","0").css("margin","auto"),$(a).append("<div id='cevap'>"),$("#cevap").css("width","414px").css("height","45px").css("position","absolute").css("left","0").css("right","0").css("bottom","100px").css("margin","auto").css("opacity","0"),sayi1=sayiUretim(),sayi2=sayiUretim(),sayi3=sayiUretim(),soru=new liste(sayi1,sayi2,sayi3,"soru"),soru.doldur();var b=[sayi1,sayi2,sayi3];b.sort(),cevap=new liste(b[0],b[1],b[2],"cevap"),cevap.doldur(),Interaction.appendButton({bottom:"40px",right:"48px"}),Interaction.appendStatus({bottom:"50px",right:"200px"}),Interaction.prepareNextQuestion()},nextQuestion:function(a){$("#cevap").animate({opacity:"0"},1e3),$("#soru").delay(800).animate({top:"0px"},1e3),sayi1=sayiUretim(),sayi2=sayiUretim(),sayi3=sayiUretim(),$("#soru #siralanacakSayi1").html(sayi1),$("#soru #siralanacakSayi2").html(sayi2),$("#soru #siralanacakSayi3").html(sayi3)},preCheck:function(){},isAnswerCorrect:function(a){siraliListe=[sayi1,sayi2,sayi3],siraliListe.sort(),console.log(siraliListe),$("#cevap #siralanacakSayi1").html(siraliListe[0]),$("#cevap #siralanacakSayi2").html(siraliListe[1]),$("#cevap #siralanacakSayi3").html(siraliListe[2]);var b=$("#soru .sayilar:first").html();console.log("ilk: "+b);var c=$("#soru .sayilar:last").html();console.log("sonuncu: "+c);if(b==siraliListe[0]&&c==siraliListe[2])return!0},onCorrectAnswer:function(){},onWrongAnswer:function(){},onFail:function(){Interaction.setStatus("Yanlış cevap, doğrusu yukarıdadır.",!1),$("#soru").animate({top:"-100px"},1e3),$("#cevap").delay(800).animate({opacity:"1"},1e3)}};liste=function(a,b,c,d){this.div="#"+d,this.e1=a,this.e2=b,this.e3=c,this.doldur=function(){this.div=="#soru"&&$(function(){$("#siralama").sortable({items:"li:not(.ui-state-disabled)",placeholder:"ui-state-highlight",opactiy:.6,cursor:"move",axis:"x",zIndex:5,tolerance:"pointer"}),$("#siralama").sortable({cancel:".ui-state-disabled"}),$("#siralama").disableSelection(),$("#siralama").sortable("refreshPositions")}),$(this.div,container).append("<ul id='siralama'>"),$(this.div+" #siralama",container).append("<li id='siralanacakSayi1' class='sayilar'>"),$(this.div+" #siralama #siralanacakSayi1").html(this.e1),$(this.div+" #siralama",container).append("<li id='kucuk1' class='isaretler'>"),$(this.div+" #kucuk1").css("left","100px"),$(this.div+" #siralama",container).append("<li id='siralanacakSayi2' class='sayilar'>"),$(this.div+" #siralama #siralanacakSayi2").html(this.e2),$(this.div+" #siralama",container).append("<li id='kucuk2' class='isaretler'>"),$(this.div+" #kucuk2").css("left","232px"),$(this.div+" #siralama",container).append("<li id='siralanacakSayi3' class='sayilar'>"),$(this.div+" #siralama #siralanacakSayi3").html(this.e3),$(this.div+" #siralama").css("list-style-type","none").css("width","414px").css("padding","0").css("margin-top","10px"),$(this.div+" #siralama li").css("float","left").css("margin","0 40px 0 10px").css("height","30px").css("line-height","30px"),$(this.div+" #siralama .sayilar").addClass("ui-state-default").css("text-align","center").css("font-size","20px").css("width","80px").css("cursor","pointer"),$(this.div+" #siralama .isaretler",container).append("<img id='kucuk' src='/assets/animations/yuzdeleri_karsilastirma/sol_ok.png' />"),$(this.div+" .isaretler").addClass("ui-state-disabled").css("position","absolute").css("top","0").css("bottom","0").css("margin","auto"),$(this.div+" .ui-state-highlight").css("width","80px").css("line-height","30px").css("height","30px")}};var sayiUretim=function(){var a=Math.floor(Math.random()*3+1);console.log("deger: "+a);var b=Math.floor(Math.random()*3+1);console.log("deger: "+b);switch(a){case 1:var c=Math.random()*9+1;return format(c,{places:b});case 2:var c=Math.random()*99+1;return format(c,{places:b});case 3:var c=Math.random()*999+1;return format(c,{places:b})}},format=function(a,b){b.point=b.point||".",b.group=b.group||" ",b.places=b.places||0,b.suffix=b.suffix||"",b.prefix=b.prefix||"",regex=/(\d+)(\d{3})/,result=(isNaN(a)?0:Math.abs(a)).toFixed(b.places)+"";for(result=result.replace(".",b.point);regex.test(result)&&b.group;result=result.replace(regex,"$1"+b.group+"$2"));return(a<0?"-":"")+b.prefix+result+b.suffix};