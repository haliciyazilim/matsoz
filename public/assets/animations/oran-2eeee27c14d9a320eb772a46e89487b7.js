/**
 * Oran
 * 
 * Halıcı Yazılım
 * Abdullah Karacabey
 * 11.07.2012
 * 
 * 
 */
function SadeceRakam(a,b){var c=a.charCode==undefined?a.keyCode:a.charCode;return/^[0-9]+$/.test(String.fromCharCode(c))||c==0||c==13||isPassKey(c,b)?!0:!1}function isPassKey(a,b){if(b!=null)for(var c=0;c<b.length;c++)if(b[c]==String.fromCharCode(a))return!0;return!1}function SadeceRakamBlur(a,b){var c=a.target?a.target:a.srcElement,d=c.value;d=d.replace(/^\s+|\s+$/g,""),b&&(d=d.replace(/\s{2,}/g," ")),c.value=d}var dogruCevapGosterimRengi="green",kareIlkStrokeColor="black",kareIlkFillColor="white",kareBoyaliStrokeColor="black",kareBoyaliFillColor="red",divSonrakiYaziRenk="white",divSonrakiFillRenk="#4682b4",bilyeRengi1="blue",bilyeRengi2="red",Animation=function(){};Animation();var Interaction=function(){};Interaction(),Interaction.getFramework=function(){return"paper"},Animation.init=function(a){function b(){var b=0;for(var c=0;c<5;c++){var d="gul"+c,e=c*40+50+"px";$(a).append("<img class='cicekler' id='"+d+"' src='/assets/animations/oran/gul.png' />"),$("#"+d).css("position","absolute"),c>=4?($("#"+d).css("top","130px"),$("#"+d).css("left","60px")):c>=2&&c<4?(e=b*40+50+"px",$("#"+d).css("top","70px"),$("#"+d).css("left",e),b++):($("#"+d).css("top","0px"),$("#"+d).css("left",e))}}function c(){var b=0;for(var c=0;c<4;c++){var d="lale"+c,e=c*40+660+"px";$(a).append("<img class='cicekler' id='"+d+"' src='/assets/animations/oran/lale.png' />"),$("#"+d).css("position","absolute"),c>=4?($("#"+d).css("top","105px"),$("#"+d).css("left","625px")):c>=2&&c<4?(e=b*40+660+"px",$("#"+d).css("top","100px"),$("#"+d).css("left",e),b++):($("#"+d).css("top","20px"),$("#"+d).css("left",e))}}function d(){var b=Array();b[0]="Güllerin lalere oranı",b[1]="Lalelerin güllere oranı",b[2]="Güllerin tüm çiçeklere oranı",b[3]="Lalelerin tüm çiçeklere oranı";var c=[5,4,5,4],d=[4,5,9,9],e=0;for(var f=0;f<4;f++){var g="cerceve"+f,h="soru"+f,i="pay"+f,j="payda"+f;if(f>1)var k=(f-2)*70+40,l="420px",m="180px";else var k=f*70+40,l="170px",m="140px";$(a).append("<div id='"+g+"' class='ornekCerceve'>"),$("#"+g,a).append("<div class='soru' id='"+h+"'>"),$("#"+g,a).append("<div class='girdiler'>"),$("#"+g+" .girdiler",a).append("<div id='"+i+"'>"),$("#"+g+" .girdiler",a).append("<div class='kesir'>"),$("#"+g+" .girdiler",a).append("<div id='"+j+"'>"),$(".ornekCerceve").css("width","210px").css("height","90px").css("font-size","14px"),$("#"+g).css("position","absolute").css("top",k).css("left",l).css("margin","auto").hide(),$(".ornekCerceve .soru").css("height","60px").css("float","left").css("line-height","60px"),$("#"+h).css("width",m).html(b[f]),$("#"+g+" .girdiler").css("width","30px").css("float","left").css("height","60px").css("font-weight","bold"),$("#"+i).css("width","30px").css("height","30px").css("font-size","16px").css("text-align","center").css("line-height","30px").html(c[f]),$("#"+g+" .kesir").css("margin","auto").css("width","30px").css("height","1px").css("padding",0).css("border-top","2px solid"),$("#"+j).css("width","30px").css("height","30px").css("font-size","16px").css("text-align","center").css("line-height","30px").html(d[f])}}function e(a,b){for(i=0;i<5;i++)$("#"+a+i).delay(b+i*500).fadeIn(500)}b(),c(),d(),$(".cicekler").hide(),e("gul",1e3),e("lale",3500),e("cerceve",5500)},Interaction.init=function(a){function m(){function a(){var a=maviBilye,b=Math.floor(a/3)==0?1:Math.floor(a/3+1),c=Math.floor(a%3),d=3;for(j=0;j<b&&j<6;j++){if(j==b-1)d=c;else var d=3;for(i=0;i<d&&i<10;i++){var e=new Path.Circle(i*25+30,j*25+30,10),f=[["white",0],["blue",.3]],g=new Gradient(f),h=e.bounds.topLeft,l=e.bounds.bottomRight,m=new GradientColor(g,h,l);e.fillColor=m,k.addChild(e)}}}function b(){var a=c,b=Math.floor(a/3)==0?1:Math.floor(a/3+1),d=Math.floor(a%3),e=3;for(j=0;j<b&&j<6;j++){if(j==b-1)e=d;else var e=3;for(i=0;i<e&&i<10;i++){var f=new Path.Circle(i*25+500,j*25+30,10),g=[["white",0],["red",.3]],h=new Gradient(g),k=f.bounds.topLeft,m=f.bounds.bottomRight,n=new GradientColor(h,k,m);f.fillColor=n,l.addChild(f)}}}maviBilye=Math.floor(Math.random()*18+1),c=Math.floor(Math.random()*18+1),console.log("mavi Bilye: "+maviBilye+" kırmızı bilye "+c),h[1]="<span class='yazi1'>Mavi</span> bilyelerin <span class='yazi2'>kırmızı</span> bilyelere oranı",h[2]="<span class='yazi2'>Kırmızı</span> bilyelerin <span class='yazi1'>mavi</span> bilyelere oranı",h[3]="<span class='yazi1'>Mavi</span> bilyelerin tüm bilyelere oranı",h[4]="<span class='yazi2'>Kırmızı</span> bilyelerin tüm bilyelere oranı",d=Math.floor(Math.random()*4+1),e=h[d],console.log("soru: "+e),f,g;switch(d){case 1:f=maviBilye,g=c;break;case 2:f=c,g=maviBilye;break;case 3:f=maviBilye,g=maviBilye+c;break;case 4:f=c,g=maviBilye+c}a(),b()}function q(){n==undefined||n==""||o==""||o==undefined?($("#geriBildirimText").attr("class","status_alert").html("Bütün kutucukları doldurunuz."),$("input").keydown(function(){$("#geriBildirimText").html("")})):(p++,girdiIslem=n/o,cevapIslem=f/g,girdiIslem==cevapIslem?($("#geriBildirimText").attr("class","status_true").html("Tebrikler"),$("#btnKontrol").hide(),$("#sonraki").show()):p<2&&girdiIslem!=cevapIslem?(console.log("yanlış ve ikiden az"),$("#geriBildirimText").attr("class","status_false").html("Tekrar deneyin")):p>=2&&girdiIslem!=cevapIslem&&(console.log("yanlış ve ikiden çok"),$("#geriBildirimText").attr("class","status_false").html("Yanlış.<br />Doğru Cevap:"),$("#cerceveCevap").show(),$("#btnKontrol").hide(),$("#sonraki").show())),console.log("tik: "+p)}Main.setObjective("Yandaki bilyeler için istenen oranları bulunuz.");var b,c,d,e,f,g,h=new Array,k=new Group,l=new Group;m(),$(a).append("<div id='cerceve'>"),$("#cerceve",a).append("<div class='soru'>"),$("#cerceve",a).append("<div class='girdiler'>"),$("#cerceve .girdiler",a).append("<input class='girdiPay' type='text' maxlength=3  onkeypress='return SadeceRakam(event)'>"),$("#cerceve .girdiler",a).append("<div class='kesir'>"),$("#cerceve .girdiler",a).append("<input class='girdiPayda' type='text' maxlength=3  onkeypress='return SadeceRakam(event)'>"),$("#cerceve").css("width","310px").css("height","90px").css("position","absolute").css("top","20px").css("left","0").css("right","0").css("margin","auto").css("font-size","16px"),$(a).append("<div id='cerceveCevap'>"),$("#cerceveCevap",a).append("<div class='soru'>"),$("#cerceveCevap",a).append("<div class='girdiler'>"),$("#cerceveCevap .girdiler",a).append("<div id='girdiPay'>"),$("#cerceveCevap .girdiler",a).append("<div class='kesir'>"),$("#cerceveCevap .girdiler",a).append("<div id='girdiPayda'>"),$("#cerceveCevap").css("width","310px").css("height","90px").css("position","absolute").css("top","160px").css("left","0").css("right","0").css("margin","auto").css("font-size","16px").hide(),$("#cerceve .soru, #cerceveCevap .soru").css("width","250px").css("height","90px").css("float","left").css("line-height","90px").html(e),$(".yazi1").css("color","blue"),$(".yazi2").css("color","red"),$("#cerceve .girdiler, #cerceveCevap .girdiler").css("width","60px").css("float","left").css("height","120px"),$("#cerceveCevap #girdiPay").css("width","60px").css("height","40px").css("font-size","20px").css("text-align","center").css("line-height","40px").css("margin-top","5px").html(f),$("#cerceveCevap #girdiPayda").css("width","60px").css("height","40px").css("font-size","20px").css("text-align","center").css("line-height","40px").html(g),$("input").css("margin-left","11px").css("margin-bottom","5px").css("margin-top","8px").addClass("input").addClass("number_input_field"),$("#cerceve .kesir, #cerceveCevap .kesir").css("margin","auto").css("width","50px").css("height","1px").css("padding",0).css("border-top","2px solid"),$(a).append("<div class='status_field' id='geriBildirim'>"),$("#geriBildirim",a).append("<div id='geriBildirimText'>"),$("#geriBildirim").css("position","absolute").css("right","0").css("left","0").css("bottom","120px").css("height","50px").css("width","300px","!important").css("margin","auto"),$(a).append("<button class='control_button'id='btnKontrol'>Kontrol</button>"),$(a).append("<style>.control_button{position:absolute; top:230px; right:25px;  }</style>"),$(a).append("<div id='sonraki'>"),$("#sonraki",a).append("<div id='dikdortgen'>"),$("#dikdortgen",a).append("<div id='yazi'>Sonraki</div>"),$("#sonraki",a).append("<div id='ucgen'>"),$(a).append("<style>#sonraki{position:absolute; top:230px; right:110px; height: 30px;cursor:pointer;color:"+divSonrakiYaziRenk+";</style>"),$(a).append("<style> #dikdortgen{position:absolute; margin:auto; bottom: 0px; right:0px; top:0px; left:0px; width:70px; height:30px; background:"+divSonrakiFillRenk+"}</style>"),$(a).append("<style>#ucgen{position:absolute; top:0px; left:70px; width:0, height:0; border-left: 30px solid "+divSonrakiFillRenk+";border-top: 15px solid transparent;border-bottom: 15px solid transparent;}</style>"),$("#yazi").css("width","50px").css("position","absolute").css("height","13px").css("top","0").css("bottom","0").css("left","0").css("right","0").css("margin","auto"),$("#sonraki").hide(),$(".yazi1").live("yeniSoru",function(){$(this).css("color","blue")}),$(".yazi2").live("yeniSoru",function(){$(this).css("color","red")}),$("#btnKontrol").click(function(){q()}),$("#sonraki").click(function(){k.removeChildren(),l.removeChildren(),m(),$("input").val(""),n="",o="",console.log("inputlar: "+n+" ,"+o),$(".soru").html(e),$("#cerceveCevap #girdiPay").html(f),$("#cerceveCevap #girdiPayda").html(g),$(".yazi1").trigger("yeniSoru"),$(".yazi2").trigger("yeniSoru"),$(".sayi").trigger("yeniSayi"),$("#cerceveCevap").hide(),$("#sonraki").hide(),$("#geriBildirimText").html(""),$("#btnKontrol").show(),p=0});var n,o;$(".girdiPay").keyup(function(a){$("#geriBildirimText").html(""),n=$(this).val(),a.keyCode==13&&(console.log("Key"+a.keyCode),q()),console.log("girdiPay: "+n+"girdiPayda: "+o)}),$(".girdiPayda").keyup(function(a){$("#geriBildirimText").html(""),o=$(this).val(),a.keyCode==13&&(console.log("Key"+a.keyCode),q()),console.log("girdiPay: "+n+"girdiPayda: "+o)});var p=0};