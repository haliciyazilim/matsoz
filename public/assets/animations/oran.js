/**
 * Oran
 * 
 * Halıcı Yazılım
 * Abdullah Karacabey
 * 11.07.2012
 * 
 * 
 */
function soruOlustur(){function a(){$(".mavi_bilye").remove();var a=maviBilye,b=Math.floor(a/3)==0?1:Math.floor(a/3+1),c=Math.floor(a%3),d=3,e=0;for(j=0;j<b&&j<6;j++){e++;if(j==b-1)d=c;else var d=3;for(i=0;i<d&&i<10;i++){e++;var f="#maviBilye"+e;$(Interaction.container).append("<img class='mavi_bilye'  id='maviBilye"+e+"' src='/assets/animations/oran/bilye_mavi.png' />"),$(f).css("position","absolute").css("top",j*25+30).css("left",i*25+30)}}}function b(){$(".kirmizi_bilye").remove();var a=kirmiziBilye,b=Math.floor(a/3)==0?1:Math.floor(a/3+1),c=Math.floor(a%3),d=3,e=0;for(j=0;j<b&&j<6;j++){e++;if(j==b-1)d=c;else var d=3;for(i=0;i<d&&i<10;i++){e++;var f="#kirmiziBilye"+e;$(Interaction.container).append("<img class='kirmizi_bilye'  id='kirmiziBilye"+e+"' src='/assets/animations/oran/bilye_kirmizi.png' />"),$(f).css("position","absolute").css("top",j*25+30).css("left",i*25+500)}}}maviBilye=Math.floor(Math.random()*18+1),kirmiziBilye=Math.floor(Math.random()*18+1),sorular[1]="<span class='yazi1'>Mavi</span> bilyelerin <span class='yazi2'>kırmızı</span> bilyelere oranı",sorular[2]="<span class='yazi2'>Kırmızı</span> bilyelerin <span class='yazi1'>mavi</span> bilyelere oranı",sorular[3]="<span class='yazi1'>Mavi</span> bilyelerin tüm bilyelere oranı",sorular[4]="<span class='yazi2'>Kırmızı</span> bilyelerin tüm bilyelere oranı",soruSecimi=Math.floor(Math.random()*4+1),soru=sorular[soruSecimi],cevapPay,cevapPayda;switch(soruSecimi){case 1:cevapPay=maviBilye,cevapPayda=kirmiziBilye;break;case 2:cevapPay=kirmiziBilye,cevapPayda=maviBilye;break;case 3:cevapPay=maviBilye,cevapPayda=maviBilye+kirmiziBilye;break;case 4:cevapPay=kirmiziBilye,cevapPayda=maviBilye+kirmiziBilye}a(),b()}function SadeceRakam(a,b){var c=a.charCode==undefined?a.keyCode:a.charCode;return/^[0-9]+$/.test(String.fromCharCode(c))||c==0||c==13||isPassKey(c,b)?!0:!1}function isPassKey(a,b){if(b!=null)for(var c=0;c<b.length;c++)if(b[c]==String.fromCharCode(a))return!0;return!1}function SadeceRakamBlur(a,b){var c=a.target?a.target:a.srcElement,d=c.value;d=d.replace(/^\s+|\s+$/g,""),b&&(d=d.replace(/\s{2,}/g," ")),c.value=d}var dogruCevapGosterimRengi="green",kareIlkStrokeColor="black",kareIlkFillColor="white",kareBoyaliStrokeColor="black",kareBoyaliFillColor="red",divSonrakiYaziRenk="white",divSonrakiFillRenk="#4682b4",bilyeRengi1="blue",bilyeRengi2="red",Animation={init:function(a){function b(){var b=0;for(var c=0;c<5;c++){var d="gul"+c,e=c*50+50+"px";$(a).append("<img class='cicekler' id='"+d+"' src='/assets/animations/oran/cicek_gul.png' />"),$("#"+d).css("position","absolute"),c>=4?($("#"+d).css("top","130px"),$("#"+d).css("left","70px")):c>=2&&c<4?(e=b*50+50+"px",$("#"+d).css("top","70px"),$("#"+d).css("left",e),b++):($("#"+d).css("top","10px"),$("#"+d).css("left",e))}}function c(){var b=0;for(var c=0;c<4;c++){var d="lale"+c,e=c*40+660+"px";$(a).append("<img class='cicekler' id='"+d+"' src='/assets/animations/oran/cicek_lale.png' />"),$("#"+d).css("position","absolute"),c>=4?($("#"+d).css("top","105px"),$("#"+d).css("left","625px")):c>=2&&c<4?(e=b*40+660+"px",$("#"+d).css("top","100px"),$("#"+d).css("left",e),b++):($("#"+d).css("top","20px"),$("#"+d).css("left",e))}}function d(){var b=Array();b[0]="Güllerin lalelere oranı",b[1]="Lalelerin güllere oranı",b[2]="Güllerin tüm çiçeklere oranı",b[3]="Lalelerin tüm çiçeklere oranı";var c=[5,4,5,4],d=[4,5,9,9],e=0;for(var f=0;f<4;f++){var g="cerceve"+f,h="soru"+f,i="pay"+f,j="payda"+f;if(f>1)var k=(f-2)*70+40,l="400px",m="200px";else var k=f*70+40,l="170px",m="160px";$(a).append("<div id='"+g+"' class='ornekCerceve'>"),$("#"+g,a).append("<div class='soruOrnek' id='"+h+"'>"),$("#"+g,a).append("<div class='girdiler'>"),$("#"+g+" .girdiler",a).append("<div id='"+i+"'>"),$("#"+g+" .girdiler",a).append("<div class='kesir'>"),$("#"+g+" .girdiler",a).append("<div id='"+j+"'>"),$(".ornekCerceve").css("width","240px").css("height","90px").css("font-size","14px"),$("#"+g).css("position","absolute").css("top",k).css("left",l).css("margin","auto").hide(),$(".ornekCerceve .soruOrnek").css("height","60px").css("float","left").css("line-height","60px"),$("#"+h).css("width",m).html(b[f]),$("#"+g+" .girdiler").css("width","30px").css("float","left").css("height","60px").css("font-weight","bold"),$("#"+i).css("width","30px").css("height","30px").css("font-size","16px").css("text-align","center").css("line-height","30px").html(c[f]),$("#"+g+" .kesir").css("margin","auto").css("width","30px").css("height","1px").css("padding",0).css("border-top","2px solid"),$("#"+j).css("width","30px").css("height","30px").css("font-size","16px").css("text-align","center").css("line-height","30px").html(d[f])}}function e(a,b){for(i=0;i<5;i++)$("#"+a+i).delay(b+i*500).fadeIn(500)}b(),c(),d(),$(".cicekler").hide(),e("gul",1e3),e("lale",3500),e("cerceve",5500),Main.animationFinished(8e3)}},Interaction={getFramework:function(){return"paper"},init:function(a){function c(){}Interaction.container=a,Interaction.paper={width:$(a).width(),height:$(a).height()},Main.setObjective("Yandaki bilyeler için istenen oranları bulunuz."),mavibilye="",kirmiziBilye="",soruSecimi="",soru="",cevapPay="",cevapPayda="",sorular=new Array,maviBilyeGrubu=new Group,kirmiziBilyeGrubu=new Group,girdiPay=Interaction.appendInput({width:"30px",height:"30px",position:"relative"},!0,!1),girdiPayda=Interaction.appendInput({width:"30px",height:"30px",position:"relative"},!0,!1),$(a).append("<div id='cerceve'>"),$("#cerceve",a).append("<div class='soru'>"),$("#cerceve",a).append("<div class='girdiler'>"),$("#cerceve .girdiler",a).append(girdiPay),$("#cerceve .girdiler",a).append("<div class='kesir'>"),$("#cerceve .girdiler",a).append(girdiPayda),$("#cerceve .girdiler input:first-child").attr("class","girdiPay"),$("#cerceve .girdiler input:last-child").attr("class","girdiPayda"),$("#cerceve").css("width","340px").css("height","90px").css("position","absolute").css("top","20px").css("left","0").css("right","0").css("margin","auto").css("font-size","16px"),$(a).append("<div id='cerceveCevap'>"),$("#cerceveCevap",a).append("<div class='soru'>"),$("#cerceveCevap",a).append("<div class='girdiler'>"),$("#cerceveCevap .girdiler",a).append("<div id='girdiPay'>"),$("#cerceveCevap .girdiler",a).append("<div class='kesir'>"),$("#cerceveCevap .girdiler",a).append("<div id='girdiPayda'>"),$("#cerceveCevap").css("width","340px").css("height","90px").css("position","absolute").css("top","160px").css("left","0").css("right","0").css("margin","auto").css("font-size","16px").hide(),$("#cerceve .soru, #cerceveCevap .soru").css("width","270px").css("height","90px").css("float","left").css("line-height","90px").html(soru),$(".yazi1").css("color","blue"),$(".yazi2").css("color","red"),$("#cerceve .girdiler, #cerceveCevap .girdiler").css("width","60px").css("float","left").css("height","120px"),$("#cerceveCevap #girdiPay").css("width","60px").css("height","40px").css("font-size","20px").css("text-align","center").css("line-height","40px").css("margin-top","5px").html(cevapPay),$("#cerceveCevap #girdiPayda").css("width","60px").css("height","40px").css("font-size","20px").css("text-align","center").css("line-height","40px").html(cevapPayda),$("input").css("margin-left","11px").css("margin-bottom","5px").css("margin-top","8px").addClass("input").addClass("number_input_field"),$("#cerceve .kesir, #cerceveCevap .kesir").css("margin","auto").css("width","50px").css("height","1px").css("padding",0).css("border-top","2px solid");var b=0;Interaction.appendButton({top:"230px",right:"25px"}),Interaction.appendStatus({bottom:"120px",right:"0px",left:"0px",width:"300px",margin:"auto",textAlign:"center"}),Interaction.prepareNextQuestion()},nextQuestion:function(){maviBilyeGrubu.removeChildren(),kirmiziBilyeGrubu.removeChildren(),soruOlustur(),$("input").val(""),girdiPay.value="",girdiPayda.value="",$(".soru").html(soru),$("#cerceveCevap #girdiPay").html(cevapPay),$("#cerceveCevap #girdiPayda").html(cevapPayda),$(".yazi1").trigger("yeniSoru"),$(".yazi2").trigger("yeniSoru"),$(".sayi").trigger("yeniSayi"),$("#cerceveCevap").hide(),$("#sonraki").hide(),$("#geriBildirimText").html(""),$("#btnKontrol").show(),tiklama=0},preCheck:function(){},isAnswerCorrect:function(a){tiklama++,girdiIslem=a[0]/a[1],cevapIslem=cevapPay/cevapPayda;if(girdiIslem==cevapIslem)return!0;tiklama<2&&girdiIslem!=cevapIslem?$("#geriBildirimText").attr("class","status_false").html("Tekrar deneyin"):tiklama>=2&&girdiIslem!=cevapIslem&&($("#geriBildirimText").attr("class","status_false").html("Yanlış.<br />Doğru Cevap:"),$("#cerceveCevap").show(),$("#btnKontrol").hide(),$("#sonraki").show())},onCorrectAnswer:function(){Interaction.setStatus("Tebrikler",!0)},onWrongAnswer:function(){Interaction.setStatus("Tekrar deneyiniz.",!1)},onFail:function(){Interaction.setStatus("Yanlış.<br />Doğru Cevap:",!1)}};