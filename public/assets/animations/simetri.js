// JavaScript Document
// styles
var textStyle={fontSize:16,strokeColor:"#fff",strokeWidth:0,fillColor:"#fff"},edgeStyle={"stroke-width":"2px"},angleStyle={fill:"#DDD"},inputBoxAnswerColor="green",inputBoxColor="black",Animation=function(){};Animation();var Interaction=function(){};Interaction(),Interaction.getFramework=function(){return"paper"},Animation.init=function(a){Animation.container=a},Interaction.init=function(a){function O(a){var b=new Array,c=new Array;for(j=0;j<a.length;j++)c[j]=a[j];for(i=0;i<a.length-1;i++)a[i]==a[i+1]&&(c[i]=-1);for(i=0,index=0;i<c.length;i++)c[i]!=-1&&(b[index]=c[i],index+=1);return b}function P(a){var c=new Array,d=new Array;for(j=0;j<a.length;j++)d[j]=a[j];for(i=0;i<a.length-2;i++){var e=new Point,f=new Point,g=new Point;e.x=b[a[i]].position.x,e.y=b[a[i]].position.y,f.x=b[a[i+1]].position.x,f.y=b[a[i+1]].position.y,g.x=b[a[i+2]].position.x,g.y=b[a[i+2]].position.y;if(e.y==f.y&&e.y==g.y||e.x==f.x&&e.x==g.x||(f.y-e.y)/(f.x-e.x)==(g.y-e.y)/(g.x-e.x))d[i+1]=-1}for(i=0,index=0;i<d.length;i++)d[i]!=-1&&(c[index]=d[i],index+=1);return c}Interaction.container=a,Main.setObjective("Yandaki şekillerin simetrilerini oluşturmak için, çizeceğiniz doğru parçasının başlangıç ve bitiş noktalarını fare ile belirleyiniz. Daha sonra kontrol ediniz.");var b=[],c=new Path.Rectangle(new Point(50.5,10.5),new Size(400,250));c.strokeColor="black";var d=new Path.Line(new Point(250,10),new Point(250,260));d.strokeColor="grey",d.strokeWidth=2,d.dashArray=[3,2];for(i=0;i<13;i++)for(j=0;j<8;j++){var e=new Path.Circle(new Point(70+i*30,30+j*30),3);e.strokeColor="black",e.fillColor="black",e.class="circle",e.id2=i*8+j,e.id2<48&&(e.class="non-click",e.fillColor="grey",e.strokeColor="grey"),b.push(e)}var f=new Array,g=Math.floor(Math.random()*4)+48,h=Math.floor(Math.random()*4)+52,k=Math.floor(Math.random()*4)+24,l=Math.floor(Math.random()*3),m=k+l*8,n=Math.floor(Math.random()*4),o=Math.floor(Math.random()*3),p=n+o*8,q=Math.floor(Math.random()*4)+4,r=Math.floor(Math.random()*3),s=q+r*8,t=Math.floor(Math.random()*4)+28,u=Math.floor(Math.random()*3),v=t+u*8;f.push(g),f.push(m),f.push(p),f.push(s),f.push(v),f.push(h);var w=new Array,x=new Array,y=new Group,z=new Group;for(i=0;i<5;i++){var A=new Path.Line(new Point(b[f[i]].position.x,b[f[i]].position.y),new Point(b[f[i+1]].position.x,b[f[i+1]].position.y));w.push(b[f[i]].id2),i==4&&w.push(b[f[i+1]].id2);var B=f[i],C=B%8,D=Math.floor(B/8),E=f[i+1],F=E%8,G=Math.floor(E/8),H=104-(D+1)*8+C,I=104-(G+1)*8+F,J=new Path.Line(new Point(b[H].position.x,b[H].position.y),new Point(b[I].position.x,b[I].position.y));x.push(b[H].id2),i==4&&x.push(b[I].id2),J.strokeColor="red",J.strokeWidth=3,z.addChild(J),J.opacity=0,A.strokeColor="green",A.strokeWidth=4,y.addChild(A)}var K=new Array,L,M=0,N=new Tool;N.setHitTestOptions({fill:!0,stroke:!0,segments:!0,tolerance:7,"class":"circle"}),N.onMouseDown=function(a){a.item&&(M==0?(L=new Path,L.strokeColor="orange",L.strokeWidth=4,L.add(a.item.position),K.push(a.item.id2),M=1):(L.add(a.item.position),K.push(a.item.id2)))},N.activate(),$(a).append('<button id="checkBtn" class="control_button">Kontrol</button>'),$("#checkBtn").css("position","absolute").css("bottom","20px").css("right","20px"),$(a).append('<button id="nextBtn" class="next_button">Sonraki</button>'),$("#nextBtn").css("position","absolute").css("bottom","20px").css("right","20px"),$("#nextBtn").hide(),$(a).append('<div id="statuss"></div>'),$("#statuss").css("position","absolute").css("left","160px").css("top","264px").css("width","200px").css("height","20px").css("text-align","center"),submit=function(){var a=0,b=0;K=O(K),K=P(K),x=P(x);for(i=0;i<6;i++)K[i]==x[i]&&(a+=1);for(i=0;i<6;i++)K[i]==x[5-i]&&(b+=1);if(a==6||b==6)$("#statuss").get(0).className="status_true",$("#statuss").html("Tebrikler!"),$("#checkBtn").hide(),$("#nextBtn").show();else{$("#statuss").get(0).className="status_false",$("#statuss").html("Olmadı! Doğru cevap yukarıda gösterilmiştir.");if(K.length<x.length)for(i=K.length;i<x.length;i++)K[i]=-1;var c=x.length;for(i=0;i<5;i++)z.children[i].opacity=1;$("#checkBtn").hide(),$("#nextBtn").show()}},$("#checkBtn").click(submit),$("#nextBtn").click(function(){project.activeLayer.removeChildren();var b=$("#interaction_canvas");$(Interaction.container).html(""),$(Interaction.container).html(b),Interaction.init(a)})};