// JavaScript Document
/*Styles*/
function Triangle(a,b,c,d){this.i=a,this.j=b,this.k=c,this.p1={x:10,y:0},this.p2={x:0,y:0},this.p3={x:0,y:0},this.a1=null,this.a2=null,this.a3=null;var e=200,f=(e-40)/Math.max(a,b,c),g=new Raphael(d,e+50,e);this.p1.x=60,this.p1.y=e-20,this.p2.x=this.p1.x+this.i*f,this.p2.y=this.p1.y;var e=Math.acos((this.i*this.i+this.k*this.k-this.j*this.j)/(2*this.i*this.k));this.p3.x=this.p1.x+Math.cos(e)*c*f,this.p3.y=this.p1.y-Math.sin(e)*c*f,g.triangle(this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y).attr(triangleStyle),g.text(this.p1.x-10,this.p1.y+10,TestGenerator.letters.shift()).attr(textStyle),g.text(this.p2.x+10,this.p2.y+10,TestGenerator.letters.shift()).attr(textStyle),g.text(this.p3.x+10,this.p3.y-10,TestGenerator.letters.shift()).attr(textStyle),this.drawEdgeText=function(a,b,c,d){var e,f;e=a.x+c*Math.sin(b),f=a.y+c*Math.cos(b),this.paper.text(e,f,d).attr(textStyle)},this.calculateAngles=function(){this.a1=Math.acos((this.i*this.i+this.k*this.k-this.j*this.j)/(2*this.i*this.k)),this.a2=Math.acos((this.i*this.i+this.j*this.j-this.k*this.k)/(2*this.i*this.j)),this.a3=Math.acos((this.k*this.k+this.j*this.j-this.i*this.i)/(2*this.k*this.j)),this._a1=Math.floor(Util.radianToDegree(this.a1)),this._a2=Math.round(Util.radianToDegree(this.a2)),this._a3=Math.floor(Util.radianToDegree(this.a3))},this.drawAngle=function(a,b,c,d,e){function f(a,b,c){var d,e,f;return f=Util.findAngle(a.x,a.y,b.x,b.y),d=a.x+Math.cos(f)*c,e=a.y-Math.sin(f)*c,{x:d,y:e}}var g,h,i,j,k,l;l=30;var m,n;m=f(a,b,l),g=m.x,h=m.y,n=f(a,c,l),i=n.x,j=n.y;var o=d>Math.PI?1:0,p=d>0?0:1,q=Util.findAngle(a.x,a.y,b.x,b.y),r=Util.findAngle(a.x,a.y,c.x,c.y),s=Math.abs(q-r)*.5+(Math.abs(q)>Math.abs(r)?r:q);if(e==90){var t,u;m=f(a,b,l/2),g=m.x,h=m.y,n=f(a,c,l/2),i=n.x,j=n.y,t=a.x+Math.sqrt(2)*l/2*Math.cos(s),u=a.y-Math.sqrt(2)*l/2*Math.sin(s),this.paper.line(g,h,t,u).attr(edgeStyle),this.paper.line(i,j,t,u).attr(edgeStyle),this.paper.circle((a.x+t)*.5,(a.y+u)*.5,1).attr("fill","#CCC"),l/=1.5}else k=Util.findDistance(a.x,a.y,g,h),this.paper.path("M"+a.x+","+a.y+" L"+g+","+h+" A"+k+","+k+" 0 "+o+","+p+" "+i+","+j+"  z").attr(angleStyle);var v,w;v=a.x+1.6*l*Math.cos(s),w=a.y-1.6*l*Math.sin(s),this.paper.text(v,w,""+e+"°").attr(textStyle)},this.showAngle=function(a){switch(a){case"A":this.drawAngle(this.p1,this.p2,this.p3,this.a1,this._a1);break;case"B":this.drawAngle(this.p2,this.p3,this.p1,this.a2,this._a2);break;case"C":this.drawAngle(this.p3,this.p1,this.p2,this.a3,this._a3);break;default:throw"invalid argument. valid arguments: [ A , B , C ]"}},this.showEdge=function(a){var b=10;switch(a){case"a":var c=Util.findAngle(this.p1.x,this.p1.y,this.p2.x,this.p2.y);this.drawEdgeText({x:(this.p1.x+this.p2.x)*.5,y:(this.p1.y+this.p2.y)*.5},c,b,this.i);break;case"b":var c=Util.findAngle(this.p2.x,this.p2.y,this.p3.x,this.p3.y);this.drawEdgeText({x:(this.p2.x+this.p3.x)*.5,y:(this.p2.y+this.p3.y)*.5},c,b,this.j);break;case"c":var c=Util.findAngle(this.p3.x,this.p3.y,this.p1.x,this.p1.y);this.drawEdgeText({x:(this.p3.x+this.p1.x)*.5,y:(this.p3.y+this.p1.y)*.5},c,b,this.k);break;default:throw"invalid argument. valid arguments: [ a , b , c ]"}},this.calculateAngles(),this.paper=g}function _degree(a){var b=Util.radianToDegree(a);return b=Math.floor(b*10),b%10==5?Math.floor(Util.radianToDegree(a))+.5:Math.round(Util.radianToDegree(a))}var triangleStyle={fill:"#f55","stroke-width":"2px"},textStyle={"font-size":"16px","text-color":"#55f"},edgeStyle={"stroke-width":"2px"},angleStyle={"stroke-width":"2px"},Interaction=function(){};Interaction(),Interaction.init=function(a){Main.setObjective("Üçgenleri açılarına ve kenarlarına göre soldaki ve sağdaki gruplarda yer alan uygun kutucukları tıklayarak sınıflandırınız."),a.innerHTML+='<div><div id="L" style="width:25%;padding-left:10px" class="tg"></div><div id="C" style="width:50%" class="tg"></div><div id="R" style="width:25%;padding-right:10px" class="tg"></div></div>',$("div.tg",a).css({"float":"left",height:"200px",boxSizing:"border-box",fontSize:"12px"}),$(a).append("<style>ul{list-style:none;padding:0;padding-top:50px;margin:0;}</style>"),$(a).append("<style> ul li{height:35px;line-height:35px;background-color:rgb(214,227,188);padding-left:5px;margin-top:5px;border:1px solid #000;font-weight:bold;cursor:pointer;}</style>"),$(a).append("<style> ul li.A{background-color:rgb(214,227,188);}</style>"),$(a).append("<style> ul li.E{background-color:rgb(228,184,183);}</style>"),$(a).append("<style> ul li.shadow{background-color:#DDD !important;}</style>"),$(a).append("<style> ul li.A_selected{background-color:rgb(118,146,59) !important;color:#FFF !important;}</style>"),$(a).append("<style> ul li.E_selected{background-color:rgb(147,54,52) !important;color:#FFF !important;}</style>"),TestGenerator($("div#C",a).get(0)),$("div#L",a).html('<ul><li class="A" id="A0" onclick="TestGenerator.checkAnswer(this)">Dar Açılı Üçgen</li><li class="A" id="A1" onclick="TestGenerator.checkAnswer(this)">Geniş Açılı Üçgen</li><li class="A" id="A2" onclick="TestGenerator.checkAnswer(this)">Dik Açılı Üçgen</li></ul>'),$("div#R",a).html('<ul><li class="E" id="E0" onclick="TestGenerator.checkAnswer(this)">Çeşitkenar Üçgen</li><li class="E" id="E1" onclick="TestGenerator.checkAnswer(this)">İkizkenar Üçgen</li><li class="E" id="E2" onclick="TestGenerator.checkAnswer(this)">Eşkenar Üçgen</li></ul>'),$(a).append('<div id="status"></div>'),$("#status").css({textAlign:"center"}),TestGenerator($("div#C",a).get(0))};var TestGenerator=function(a){TestGenerator.container=a,TestGenerator.nextQuestion()};TestGenerator.shadow=function(a){$(a).addClass("shadow")},TestGenerator.removeShadow=function(a){$(a).removeClass("shadow")},TestGenerator.removeAnswer=function(a){a.className.indexOf("A")>-1&&($(".A").removeClass("A_selected"),$(".E").each(function(){TestGenerator.removeShadow(this)}),TestGenerator.selectedA=null),a.className.indexOf("E")>-1&&($(".E").removeClass("E_selected"),$(".A").each(function(){TestGenerator.removeShadow(this)}),TestGenerator.selectedE=null)},TestGenerator.checkAnswer=function(a){if(TestGenerator.stopCheckAnswer==1)return;if(a.className.indexOf("A_selected")>-1||a.className.indexOf("E_selected")>-1){TestGenerator.removeAnswer(a);return}a.className.indexOf("A")==0&&($(".A").removeClass("A_selected"),$(a).addClass("A_selected"),$(".E").each(function(){TestGenerator.removeShadow(this)}),TestGenerator.selectedA=a.id),a.className.indexOf("E")==0&&($(".E").removeClass("E_selected"),$(a).addClass("E_selected"),$(".A").each(function(){TestGenerator.removeShadow(this)}),TestGenerator.selectedE=a.id);switch(a.id){case"A1":TestGenerator.shadow($("#E2").get(0));break;case"A2":TestGenerator.shadow($("#E2").get(0));break;case"E2":TestGenerator.shadow($("#A2").get(0)),TestGenerator.shadow($("#A1").get(0))}if(TestGenerator.selectedA!=null&&TestGenerator.selectedE!=null){TestGenerator.stopCheckAnswer=!0;var b=""+TestGenerator.selectedA.charAt(1)+TestGenerator.selectedE.charAt(1),c=!1;b==TestGenerator.state&&(c=!0);if(c==1)$("#status").html('<span class="status_true">Tebrikler!&emsp;</span><input type="button" class="control_button" value="Sonraki" onclick="TestGenerator.nextQuestion();"/>');else if(TestGenerator.trial>0){TestGenerator.stopCheckAnswer=!0,$(".tg ul li").removeClass("A_selected"),$(".tg ul li").removeClass("E_selected"),$(".tg ul li").each(function(){TestGenerator.removeShadow(this)}),$("#A"+TestGenerator.state.charAt(0)).addClass("A_selected"),$("#E"+TestGenerator.state.charAt(1)).addClass("E_selected");var d='<span class="status_false">Doğru cevap <span style="font-weight:bold">'+$("#A"+TestGenerator.state.charAt(0)).html()+", "+$("#E"+TestGenerator.state.charAt(1)).html()+"</span> olmalıydı.&emsp;</span>";$("#status").html(d+'<input type="button" class="control_button" value="Sonraki" onclick="TestGenerator.nextQuestion();"/>')}else TestGenerator.stopCheckAnswer=!0,$("#status").html('<span class="status_false">Yanlış cevap&emsp;</span><input type="button" class="control_button" value="Tekrar Deneyiniz" onclick="TestGenerator.tryAgain();"/>')}},TestGenerator.tryAgain=function(){$(".tg ul li").removeClass("A_selected"),$(".tg ul li").removeClass("E_selected"),$(".tg ul li").each(function(){TestGenerator.removeShadow(this)}),TestGenerator.trial++,TestGenerator.selectedA=null,TestGenerator.selectedE=null,$("#status").html(""),TestGenerator.stopCheckAnswer=!1},TestGenerator.nextQuestion=function(){TestGenerator.letters=Math.random()>.5?["A","B","C"]:["B","C","A"],$("#status").html(""),$(".tg ul li").removeClass("A_selected"),$(".tg ul li").removeClass("E_selected"),$(".tg ul li").each(function(){TestGenerator.removeShadow(this)});var a,b,c=TestGenerator.container;$(c).html(""),a=Math.floor(Math.random()*3),b=Math.floor(Math.random()*(a>0?2:3)),TestGenerator.state=""+a+b,TestGenerator.selectedA=null,TestGenerator.selectedE=null,TestGenerator.trial=0,TestGenerator.stopCheckAnswer=!1,console.log(TestGenerator.state);switch(TestGenerator.state){case"00":var a,d,e;a=Math.floor(Math.random()*5)+10,d=a;while(d==a)d=Math.floor(Math.random()*5)+10;e=Math.floor(Math.sqrt(a*a+d*d)-2),Math.random()*4>2&&(d=(a+=d-=a)-d),Math.random()*4>2&&(e=(a+=e-=a)-e),Math.random()*4>2&&(d=(e+=d-=e)-d);var f=new Triangle(a,d,e,c);a%2==0?(f.showEdge("a"),f.showEdge("b")):(f.showEdge("c"),f.showEdge("b")),a%2==0?(f.showAngle("A"),f.showAngle("B")):(f.showAngle("C"),f.showAngle("B"));break;case"01":var a,e;a=Math.floor(Math.random()*10)+5,e=2*a;while(e>Math.sqrt(2)*a||e==a)e=Math.floor(Math.random()*a)+5;var f=new Triangle(a,a,e,c);a%2==0?(f.showEdge("a"),f.showEdge("b"),f.showAngle("B")):(f.showAngle("C"),f.showAngle("A"));break;case"02":var a;a=Math.floor(Math.random()*10)+5;var f=new Triangle(a,a,a,c);a%3==0?(f.showAngle("C"),f.showAngle("B")):a%3==1?(f.showAngle("C"),f.showAngle("A")):(f.showAngle("B"),f.showAngle("A"));break;case"10":var a,d,e;a=Math.floor(Math.random()*5)+10,d=a;while(d==a)d=Math.floor(Math.random()*5)+10;e=Math.floor(Math.sqrt(a*a+d*d)+2),Math.random()*4>2&&(d=(a+=d-=a)-d),Math.random()*4>2&&(e=(a+=e-=a)-e),Math.random()*4>2&&(d=(e+=d-=e)-d);var f=new Triangle(a,d,e,c);a%2==0?(f.showEdge("a"),f.showEdge("b")):(f.showEdge("c"),f.showEdge("b")),a%2==0?(f.showAngle("A"),f.showAngle("B")):(f.showAngle("C"),f.showAngle("B"));break;case"11":var a,e;a=Math.floor(Math.random()*5)+5,e=a;while(e==a||e<Math.sqrt(2)*a)e=Math.floor(Math.random()*2+Math.sqrt(2)*a+1);console.log([a,e]);if(a%2==0){var f=new Triangle(a,a,e,c);f.showEdge("a"),f.showEdge("b"),f.showAngle("B")}else{var f=new Triangle(e,a,a,c);f.showAngle("C"),f.showAngle("A")}break;case"20":var a,d,e;a=Math.floor(Math.random()*10)+5,d=a;while(d==a)d=Math.floor(Math.random()*5)+10;e=Math.sqrt(a*a+d*d);if(a%2==0){var f=new Triangle(a,d,e,c);f.showAngle("B"),f.showEdge("a"),f.showEdge("b")}else{var f=new Triangle(e,d,a,c);f.showAngle("B"),f.showAngle("A"),f.showEdge("c")}break;case"21":var a,d,e;a=Math.floor(Math.random()*10)+5,d=a,e=Math.sqrt(a*a+d*d);if(a%2==0){var f=new Triangle(a,d,e,c);f.showAngle("B"),f.showEdge("a"),f.showEdge("b")}else{var f=new Triangle(e,d,a,c);f.showAngle("C"),f.showEdge("c"),f.showEdge("b")}}};