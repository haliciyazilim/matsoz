// JavaScript Document
function Triangle(a,b,c,d){this.i=a,this.j=b,this.k=c,this.p1={x:10,y:0},this.p2={x:0,y:0},this.p3={x:0,y:0};var e=200,f=(e-40)/Math.max(a,b,c),g=new Raphael(d,e+50,e);this.p1.x=60,this.p1.y=e-20,this.p2.x=this.p1.x+this.i*f,this.p2.y=this.p1.y;var e=Math.acos((this.i*this.i+this.k*this.k-this.j*this.j)/(2*this.i*this.k));this.p3.x=this.p1.x+Math.cos(e)*c*f,this.p3.y=this.p1.y-Math.sin(e)*c*f,g.triangle(this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y).attr(edgeStyle),this.drawEdgeText=function(a,b,c,d){var e,f;e=a.x+c*Math.sin(b),f=a.y+c*Math.cos(b),this.paper.text(e,f,d).attr(textStyle)},this.drawAngle=function(a,b,c,d){function e(a,b,c){var d,e,f;return f=FindAngle(a.x,a.y,b.x,b.y),d=a.x+Math.cos(f)*c,e=a.y-Math.sin(f)*c,{x:d,y:e}}var f,g,h,i,j,k;k=15;var l,m;l=e(a,b,k),f=l.x,g=l.y,m=e(a,c,k),h=m.x,i=m.y;var n=d>Math.PI?1:0,o=d>0?0:1,p=FindAngle(a.x,a.y,b.x,b.y),q=FindAngle(a.x,a.y,c.x,c.y),r=Math.abs(p-q)*.5+(Math.abs(p)>Math.abs(q)?q:p);if(_degree(d)==90){var s,t;s=a.x+Math.sqrt(2)*k*Math.cos(r),t=a.y-Math.sqrt(2)*k*Math.sin(r),this.paper.line(f,g,s,t).attr(edgeStyle),this.paper.line(h,i,s,t).attr(edgeStyle),this.paper.circle((a.x+s)*.5,(a.y+t)*.5,1).attr("fill","#CCC")}else j=FindDistance(a.x,a.y,f,g),this.paper.path("M"+a.x+","+a.y+" L"+f+","+g+" A"+j+","+j+" 0 "+n+","+o+" "+h+","+i+"  z").attr(angleStyle);var u,v;u=a.x+2.4*k*Math.cos(r),v=a.y-2.4*k*Math.sin(r),this.paper.text(u,v,""+_degree(d)+"°").attr(textStyle)},this.showAngle=function(a){switch(a){case"A":var b=Math.acos((this.i*this.i+this.k*this.k-this.j*this.j)/(2*this.i*this.k));this.drawAngle(this.p1,this.p2,this.p3,b);break;case"B":var b=Math.acos((this.i*this.i+this.j*this.j-this.k*this.k)/(2*this.i*this.j));this.drawAngle(this.p2,this.p3,this.p1,b);break;case"C":var b=Math.acos((this.k*this.k+this.j*this.j-this.i*this.i)/(2*this.k*this.j));this.drawAngle(this.p3,this.p1,this.p2,b);break;default:throw"invalid argument. valid arguments: [ A , B , C ]"}},this.showEdge=function(a){var b=10;switch(a){case"a":var c=FindAngle(this.p1.x,this.p1.y,this.p2.x,this.p2.y);this.drawEdgeText({x:(this.p1.x+this.p2.x)*.5,y:(this.p1.y+this.p2.y)*.5},c,b,this.i);break;case"b":var c=FindAngle(this.p2.x,this.p2.y,this.p3.x,this.p3.y);this.drawEdgeText({x:(this.p2.x+this.p3.x)*.5,y:(this.p2.y+this.p3.y)*.5},c,b,this.j);break;case"c":var c=FindAngle(this.p3.x,this.p3.y,this.p1.x,this.p1.y);this.drawEdgeText({x:(this.p3.x+this.p1.x)*.5,y:(this.p3.y+this.p1.y)*.5},c,b,this.k);break;default:throw"invalid argument. valid arguments: [ a , b , c ]"}},this.paper=g}function animationInit(){}function interactionInit(a){var b=document.createElement("div");b.innerHTML="Üçgenleri açılarına ve kenarlarına göre soldaki ve sağdaki gruplarda yer alan uygun kutucukları tıklayarak sınıflandırınız.",b.className="objective",a.appendChild(b),a.innerHTML+='<div><div id="L" style="width:25%" class="tg"></div><div id="C" style="width:50%" class="tg"></div><div id="R" style="width:25%" class="tg"></div></div>',$("div.tg",a).css({"float":"left",height:"200px",boxSizing:"border-box",fontSize:"12px"}),$(a).append("<style>#"+a.id+" ul{list-style:none;padding:0;padding-top:50px;margin:0;}</style>"),$(a).append("<style>#"+a.id+" ul li{height:35px;line-height:35px;background-color:rgb(214,227,188);padding-left:5px;margin-top:5px;border:1px solid #000;font-weight:bold;cursor:pointer;}</style>"),$(a).append("<style>#"+a.id+" ul li.A{background-color:rgb(214,227,188);}</style>"),$(a).append("<style>#"+a.id+" ul li.E{background-color:rgb(228,184,183);}</style>"),$(a).append("<style>#"+a.id+" ul li.shadow{background-color:#DDD !important;}</style>"),$(a).append("<style>#"+a.id+" ul li.A_selected{background-color:rgb(118,146,59) !important;color:#FFF !important;}</style>"),$(a).append("<style>#"+a.id+" ul li.E_selected{background-color:rgb(147,54,52) !important;color:#FFF !important;}</style>"),TestGenerator($("div#C",a).get(0)),$("div#L",a).html('<ul><li class="A" id="A0" onclick="TestGenerator.CheckAnswer(this)">Dar Açılı Üçgen</li><li class="A" id="A1" onclick="TestGenerator.CheckAnswer(this)">Geniş Açılı Üçgen</li><li class="A" id="A2" onclick="TestGenerator.CheckAnswer(this)">Dik Açılı Üçgen</li></ul>'),$("div#R",a).html('<ul><li class="E" id="E0" onclick="TestGenerator.CheckAnswer(this)">Çeşitkenar Üçgen</li><li class="E" id="E1" onclick="TestGenerator.CheckAnswer(this)">İkizkenar Üçgen</li><li class="E" id="E2" onclick="TestGenerator.CheckAnswer(this)">Eşkenar Üçgen</li></ul>'),$(a).append('<div id="status"></div>'),$("#status").css({textAlign:"center"})}function FindDistance(a,b,c,d){var e=a-c,f=b-d;return Math.sqrt(e*e+f*f)}function FindAngle(a,b,c,d){return b==d?a>c?Math.PI:0:a==c?b>d?Math.PI/2:3*Math.PI/2:(angle=-Math.atan((d-b)/(c-a)),c<a?angle+=Math.PI:d>b&&(angle+=2*Math.PI),angle)}function _degree(a){var b=a*(180/Math.PI);return b=Math.floor(b*10),b%10==5?Math.floor(a*(180/Math.PI))+.5:Math.round(a*(180/Math.PI))}Raphael.fn.triangle=function(a,b,c,d,e,f){var g=this.set();return g.push(this.line(a,b,c,d)),g.push(this.line(c,d,e,f)),g.push(this.line(e,f,a,b)),g},Raphael.fn.line=function(a,b,c,d){return this.path("M"+a+","+b+"L"+c+","+d)};var textStyle={"font-size":"16px"},edgeStyle={"stroke-width":"2px"},angleStyle={fill:"#DDD"},TestGenerator=function(a){TestGenerator.container=a,TestGenerator.NextQuestion()};TestGenerator.Shadow=function(a){$(a).addClass("shadow")},TestGenerator.RemoveShadow=function(a){$(a).removeClass("shadow")},TestGenerator.CheckAnswer=function(a){if(TestGenerator.stopCheckAnswer==1)return;a.className.indexOf("A")>-1&&($(".A").removeClass("A_selected"),$(a).addClass("A_selected"),$(".E").each(function(){TestGenerator.RemoveShadow(this)}),TestGenerator.selectedA=a.id),a.className.indexOf("E")>-1&&($(".E").removeClass("E_selected"),$(a).addClass("E_selected"),$(".A").each(function(){TestGenerator.RemoveShadow(this)}),TestGenerator.selectedE=a.id);switch(a.id){case"A1":TestGenerator.Shadow($("#E2").get(0));break;case"A2":TestGenerator.Shadow($("#E2").get(0));break;case"E2":TestGenerator.Shadow($("#A2").get(0)),TestGenerator.Shadow($("#A1").get(0))}if(TestGenerator.selectedA!=null&&TestGenerator.selectedE!=null){TestGenerator.stopCheckAnswer=!0;var b=""+TestGenerator.selectedA.charAt(1)+TestGenerator.selectedE.charAt(1),c=!1;b==TestGenerator.state&&(c=!0);if(c==1)$("#status").html('<span style="color:red">Tebrikler!&emsp;</span><input type="button" value="Sonraki" onclick="TestGenerator.NextQuestion();"/>');else if(TestGenerator.trial>0){TestGenerator.stopCheckAnswer=!0,$(".tg ul li").removeClass("A_selected"),$(".tg ul li").removeClass("E_selected"),$(".tg ul li").each(function(){TestGenerator.RemoveShadow(this)}),$("#A"+TestGenerator.state.charAt(0)).addClass("A_selected"),$("#E"+TestGenerator.state.charAt(1)).addClass("E_selected");var d="Dogru cevap: "+$("#A"+TestGenerator.state.charAt(0)).html()+" "+$("#E"+TestGenerator.state.charAt(1)).html()+" olmalıydı.&emsp;";$("#status").html(d+'<input type="button" value="Sonraki" onclick="TestGenerator.NextQuestion();"/>')}else TestGenerator.stopCheckAnswer=!0,$("#status").html('Yanlış cevap&emsp;<input type="button" value="Tekrar Deneyiniz" onclick="TestGenerator.TryAgain();"/>')}},TestGenerator.TryAgain=function(){$(".tg ul li").removeClass("A_selected"),$(".tg ul li").removeClass("E_selected"),$(".tg ul li").each(function(){TestGenerator.RemoveShadow(this)}),TestGenerator.trial++,TestGenerator.selectedA=null,TestGenerator.selectedE=null,$("#status").html(""),TestGenerator.stopCheckAnswer=!1},TestGenerator.NextQuestion=function(){$("#status").html(""),$(".tg ul li").removeClass("A_selected"),$(".tg ul li").removeClass("E_selected"),$(".tg ul li").each(function(){TestGenerator.RemoveShadow(this)});var a,b,c=TestGenerator.container;$(c).html(""),a=Math.floor(Math.random()*3),b=Math.floor(Math.random()*(a>0?2:3)),TestGenerator.state=""+a+b,TestGenerator.selectedA=null,TestGenerator.selectedE=null,TestGenerator.trial=0,TestGenerator.stopCheckAnswer=!1,console.log(TestGenerator.state);switch(TestGenerator.state){case"00":var a,d,e;a=Math.floor(Math.random()*5)+10,d=a;while(d==a)d=Math.floor(Math.random()*5)+10;e=Math.floor(Math.sqrt(a*a+d*d)-2),Math.random()*4>2&&(d=(a+=d-=a)-d),Math.random()*4>2&&(e=(a+=e-=a)-e),Math.random()*4>2&&(d=(e+=d-=e)-d);var f=new Triangle(a,d,e,c);a%2==0?(f.showEdge("a"),f.showEdge("b")):(f.showEdge("c"),f.showEdge("b")),a%2==0?(f.showAngle("A"),f.showAngle("B")):(f.showAngle("C"),f.showAngle("B"));break;case"01":var a,e;a=Math.floor(Math.random()*10)+5,e=2*a;while(e>Math.sqrt(2)*a||e==a)e=Math.floor(Math.random()*a)+5;var f=new Triangle(a,a,e,c);a%2==0?(f.showEdge("a"),f.showEdge("b"),f.showAngle("B")):(f.showAngle("C"),f.showAngle("A"));break;case"02":var a;a=Math.floor(Math.random()*10)+5;var f=new Triangle(a,a,a,c);a%3==0?(f.showAngle("C"),f.showAngle("B")):a%3==1?(f.showAngle("C"),f.showAngle("A")):(f.showAngle("B"),f.showAngle("A"));break;case"10":var a,d,e;a=Math.floor(Math.random()*5)+10,d=a;while(d==a)d=Math.floor(Math.random()*5)+10;e=Math.floor(Math.sqrt(a*a+d*d)+2),Math.random()*4>2&&(d=(a+=d-=a)-d),Math.random()*4>2&&(e=(a+=e-=a)-e),Math.random()*4>2&&(d=(e+=d-=e)-d);var f=new Triangle(a,d,e,c);a%2==0?(f.showEdge("a"),f.showEdge("b")):(f.showEdge("c"),f.showEdge("b")),a%2==0?(f.showAngle("A"),f.showAngle("B")):(f.showAngle("C"),f.showAngle("B"));break;case"11":var a,e;a=Math.floor(Math.random()*10)+5,e=a;while(e==a||e<Math.sqrt(2)*a)e=Math.floor(Math.random()*2+Math.sqrt(2)*a+1);console.log([a,e]);if(a%2==0){var f=new Triangle(a,a,e,c);f.showEdge("a"),f.showEdge("b"),f.showAngle("B")}else{var f=new Triangle(e,a,a,c);f.showAngle("C"),f.showAngle("A")}break;case"20":var a,d,e;a=Math.floor(Math.random()*10)+5,d=a;while(d==a)d=Math.floor(Math.random()*5)+10;e=Math.sqrt(a*a+d*d);if(a%2==0){var f=new Triangle(a,d,e,c);f.showAngle("B"),f.showEdge("b")}else{var f=new Triangle(e,d,a,c);f.showAngle("B"),f.showAngle("A"),f.showEdge("c")}break;case"21":var a,d,e;a=Math.floor(Math.random()*10)+5,d=a,e=Math.sqrt(a*a+d*d);if(a%2==0){var f=new Triangle(a,d,e,c);f.showAngle("B"),f.showEdge("a"),f.showEdge("b")}else{var f=new Triangle(e,d,a,c);f.showAngle("C"),f.showEdge("c"),f.showEdge("b")}}},$(document).ready(function(){interactionInit(document.getElementById("interaction_container"))});