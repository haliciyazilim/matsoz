// JavaScript Document
var shapeStyle={strokeColor:"#000",strokeWidth:2},Animation={init:function(a){}},Interaction={getFramework:function(){return"paper"},init:function(a){Interaction.container=a,Interaction.paper={width:$(a).width(),height:$(a).height()},Interaction.shapeCount=0,Interaction.nextQuestion(),Interaction.createTool()},nextQuestion:function(){project.activeLayer.removeChildren();var a=Interaction.paper.width*.5-100,b=Interaction.paper.height*.5-100,c=200,d=200;console.log(a,b);var e=4;Interaction.shapeCount=Interaction.shapeCount%e;if(Interaction.shuffledArray==null||Interaction.shuffledArray==undefined)Interaction.shuffledArray=Util.getShuffledArray(e);Interaction.shapeType=Interaction.shuffledArray[Interaction.shapeCount],console.log(Interaction.shapeType);switch(Interaction.shapeType){case 0:case 1:case 2:case 3:Interaction.shape=new Path.EquiradialPolygon(new Point(a,b),new Size(c,d),[100,160,200])}Interaction.shape.setStyle(shapeStyle)},createTool:function(){var a=10,b=new Tool;b.onMouseDown=function(b){if(Interaction.shape==null||Interaction.shape==undefined)return;for(var c=0;c<Interaction.shape.vertexArray.length;c++)a>Interaction.shape.vertexArray[c].getDistance(b.point)&&Interaction.drawHeightLine(c)},b.activate()},drawHeightLine:function(a){Interaction.heightLine&&Interaction.heightLine.remove();switch(Interaction.shape.vertexArray.length){case 3:var b=Interaction.shape.vertexArray[a],c=b.projectToLine(Interaction.shape.vertexArray[(a+1)%3],Interaction.shape.vertexArray[(a+2)%3]);Interaction.heightLine=(new Path.Line(b,c)).setStyle({strokeColor:"#f00",strokeWidth:2})}}};