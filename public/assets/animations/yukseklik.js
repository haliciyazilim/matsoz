// JavaScript Document
function __Styles(){shapeStyle={strokeColor:"#255b63",strokeWidth:2},dashedLineStyle={strokeColor:"#333",strokeWidth:1,dashArray:[3,2]},heightLineStyle={strokeColor:"#f00",strokeWidth:2},textStyle={fontSize:13},hCircleStyle={fillColor:"#FFFFFF",strokeColor:"#FF0000"}}var Animation={images:[{id:"wall",src:"/assets/animations/yukseklik/wall.png"},{id:"redline",src:"/assets/animations/yukseklik/redline.png"},{id:"height",src:"/assets/animations/yukseklik/height.png"}],init:function(a){Animation.container=a;var b=$(a).width(),c=$(a).height(),d=new Point(b*.5+.5,c*.5),e=new Raster("wall"),f=new Raster("redline"),g=new Raster("height");e.position=d,f.position=d,g.position=d,e.opacity=0,f.opacity=0,g.opacity=0,e.animate({style:{opacity:1},duration:1e3,delay:100}),f.animate({style:{opacity:1},duration:1e3,delay:1200}),g.animate({style:{opacity:1},duration:1e3,delay:2300,callback:Main.animationFinished})}},Interaction={getFramework:function(){return"paper"},init:function(a){Main.setObjective("Yandaki geometrik şeklin köşelerinden herhangi birine basınız. Belirlediğiniz noktaya göre yüksekliğin bulunuşunu inceleyiniz."),Interaction.container=a,Interaction.paper={width:$(a).width(),height:$(a).height()},Interaction.shapeCount=0,Interaction.nextButton=document.createElement("input"),Interaction.nextButton.setAttribute("type","button"),$(a).append(Interaction.nextButton),$(Interaction.nextButton).attr({"class":"next_button"}).css({position:"absolute",bottom:"10px",right:"10px"}).click(Interaction.nextQuestion),Interaction.nextQuestion(),Interaction.createTool()},nextQuestion:function(){project.activeLayer.removeChildren(),Interaction.shapeCount++,Interaction.drawHeightLine.vertexLetter=!1,Interaction.letters=["E","D","C","B","A"];var a=Interaction.paper.width*.5-100,b=Interaction.paper.height*.5-75,c=200,d=200,e=9;try{phase==undefined&&(phase=0)}catch(f){phase=0}phase==0?phase=Math.floor(Math.random()*60)-30:phase=0,Interaction.shapeCount=Interaction.shapeCount%e;if(Interaction.shuffledArray==null||Interaction.shuffledArray==undefined)Interaction.shuffledArray=Util.getShuffledArray(e);Interaction.shapeType=Interaction.shuffledArray[Interaction.shapeCount];switch(Interaction.shapeType){case 0:Interaction.shape=new Path.EquiradialPolygon(new Point(a,b),new Size(c,d),[45,135,225,315],phase);break;case 1:Interaction.shape=new Path.EquiradialPolygon(new Point(a,b),new Size(c,d),[60,120,240,300],phase);break;case 2:Interaction.shape=new Path.Rhomboid(new Point(a,b),new Size(c*.8,d*.4),c*.2,phase);break;case 3:Interaction.shape=new Path.EquiradialPolygon(new Point(a,b),new Size(c,d),[100,160,240],phase);break;case 4:Interaction.shape=new Path.EquiradialPolygon(new Point(a,b),new Size(c,d),[90,210,340],phase);break;case 5:Interaction.shape=new Path.EquiradialPolygon(new Point(a,b),new Size(c,d),[90,240,300],phase);break;case 6:Interaction.shape=new Path.Trapezoid(new Point(a,b),new Size(c,d*.5),c*.4,c*.2,phase);break;case 7:Interaction.shape=new Path.IsoscelesTrapezoid(new Point(a,b),new Size(c,d*.5),c*.3,phase);break;case 8:Interaction.shape=new Path.Trapezoid(new Point(a,b),new Size(c*.8,d*.5),c*.3,0,phase)}Interaction.shape.set_style(shapeStyle);var g=Interaction.shape.centerPoint.subtract(new Point(Interaction.paper.width*.5,Interaction.paper.height*.5)).multiply(-1,-1);Interaction.shape.translate(g);for(var h=0;h<Interaction.shape.vertexArray.length;h++){Interaction.shape.vertexArray[h]=Interaction.shape.vertexArray[h].add(g);var i=(h+1)%Interaction.shape.vertexArray.length,j=Interaction.shape.vertexArray[h].findPointTo(Interaction.shape.centerPoint,-20).add(-5,5);Interaction.printVertexLetters(j)}Interaction.drawHeightLine(0)},createTool:function(){var a=40,b=new Tool;b.onMouseDown=function(b){if(Interaction.shape==null||Interaction.shape==undefined)return;for(var c=0;c<Interaction.shape.vertexArray.length;c++)a>Interaction.shape.vertexArray[c].getDistance(b.point)&&Interaction.drawHeightLine(c)},b.activate()},drawHeightLine:function(a){Interaction.drawHeightLine.increment==undefined?Interaction.drawHeightLine.increment=0:Interaction.drawHeightLine.increment==0?Interaction.drawHeightLine.increment=1:Interaction.drawHeightLine.increment=0,Interaction.heightLine&&Interaction.heightLine.remove();var b,c,d,e;d=Interaction.shape.vertexArray[a];var f=Interaction.drawHeightLine.increment;switch(Interaction.shape.vertexArray.length){case 4:b=Interaction.shape.vertexArray[(a+f+1)%4],c=Interaction.shape.vertexArray[(a+f+2)%4],e=d.projectToLine(b,c);break;case 3:b=Interaction.shape.vertexArray[(a+1)%3],c=Interaction.shape.vertexArray[(a+2)%3],e=d.projectToLine(b,c)}Interaction.heightLine=new Group,Interaction.heightLine.addChild((new Path.Line(d,e)).set_style(heightLineStyle));var g,h;e.getDistance(b)>e.getDistance(c)?(g=b,h=c):(h=b,g=c);var i=e.findPointTo(g,10),j=e.findPointTo(d,10),k=Util.centerOfPoints([i,j]),l=e.symmetricTo(k),m=(new Path.Line(i,l)).set_style(heightLineStyle),n=(new Path.Line(j,l)).set_style(heightLineStyle),o=(new Path.Circle(k,1)).set_style(heightLineStyle);Interaction.heightLine.addChild(m),Interaction.heightLine.addChild(n),Interaction.heightLine.addChild(o),e.isBetweenTwoLinePoints(b,c)||Interaction.heightLine.addChild((new Path.Line(e,h)).set_style(dashedLineStyle));var p=e.findPointTo(d,-20).add(-5,5);Interaction.drawHeightLine.vertexLetter?Interaction.drawHeightLine.vertexLetter.position=p:Interaction.drawHeightLine.vertexLetter=Interaction.printVertexLetters(p);var q=(new Path.Circle(Util.centerOfPoints([d,e]),12)).set_style(hCircleStyle),r=new PointText(Util.centerOfPoints([d,e]).add(-4,5));r.set_style(textStyle),r.content="h";var s=new Path.Circle(d,4);s.set_style({fillColor:shapeStyle.strokeColor}),Interaction.heightLine.addChild(s),Interaction.heightLine.addChild(q),Interaction.heightLine.addChild(r)},printVertexLetters:function(a){var b=new PointText(a);return b.content=""+Interaction.letters.shift(),b.set_style(textStyle),b}};