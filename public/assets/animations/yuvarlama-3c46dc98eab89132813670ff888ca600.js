/**
 * Yuvarlama
 * kaynak: mat-5-yuvarlama.pdf
 * 
 * Halıcı Yazılım
 * Abdullah Karacabey
 * 09.07.2012
 * 
 * 
 */
function SadeceRakam(a,b){var c=a.charCode==undefined?a.keyCode:a.charCode;return/^[0-9]+$/.test(String.fromCharCode(c))||c==0||c==13||isPassKey(c,b)?!0:!1}function isPassKey(a,b){if(b!=null)for(var c=0;c<b.length;c++)if(b[c]==String.fromCharCode(a))return!0;return!1}function SadeceRakamBlur(a,b){var c=a.target?a.target:a.srcElement,d=c.value;d=d.replace(/^\s+|\s+$/g,""),b&&(d=d.replace(/\s{2,}/g," ")),c.value=d}var dogruCevapGosterimRengi="green",kareIlkStrokeColor="black",kareIlkFillColor="white",kareBoyaliStrokeColor="black",kareBoyaliFillColor="red",divSonrakiYaziRenk="white",divSonrakiFillRenk="#4682b4",Animation=function(){};Animation();var Interaction=function(){};Interaction(),Interaction.getFramework=function(){return"paper"},Animation.init=function(a){var b=new Group,c=new Path.OneSidedArrow(new Point(110,83),new Point(110,0),10,30);c.strokeColor="red";var d=new Path.OneSidedArrow(new Point(170,83),new Point(170,170),10,30);d.strokeColor="red";var e=new Path.Line(new Point(110,83),new Point(170,83));e.strokeColor="red",e.strokeWidth=2,b.addChild(c),b.addChild(e),b.addChild(d),b.opacity=0,b.fillColor="red",b.animate({style:{opacity:1},duration:2e3,delay:4700,callback:function(){}}),$(a).append("<div id='ornekSayilar'>"),$("#ornekSayilar").css("position","absolute").css("left","150px").css("top","0").css("bottom","0").css("width","40px").css("height","180px").css("margin","auto").css("font-size","15px"),$(a).append("<div id='aciklamaYukari'>"),$("#aciklamaYukari").css("position","absolute").css("left","10px").css("top","10px").css("width","100px").css("height","90px").css("margin","auto").hide().css("font-size","15px").html("Basamaktaki sayı 5 ya da 5'ten büyük ise yukarıya yuvarlanır"),$(a).append("<div id='aciklamaAsagi'>"),$("#aciklamaAsagi").css("position","absolute").css("left","200px").css("bottom","10px").css("width","100px").css("height","80px").css("margin","auto").hide().css("font-size","15px").html("Basamaktaki sayı  5'ten küçük ise aşağıya yuvarlanır."),$(a).append("<div id='ornekCumleOnluk'>"),$("#ornekCumleOnluk").css("width","400px").css("height","45px").css("position","absolute").css("top","60px").css("left","260px").css("right","0").css("margin","auto").css("font-size","16px").html("<strong class='sayi' id='ornekSayi1'>1246</strong> <span class='ornekYazi' id='ornekYazi1_1'>en yakın onluğa yuvarlanırsa </span><strong class='sayi' id='ornekSayi2'>1250</strong><span class='ornekYazi' id='ornekYazi1_2'> olur.</span>"),$(a).append("<div id='ornekCumleYuzluk'>"),$("#ornekCumleYuzluk").css("width","400px").css("height","45px").css("position","absolute").css("top","120px").css("left","260px").css("right","0").css("margin","auto").css("font-size","16px").html("<strong class='sayi' id='ornekSayi3'>1246</strong> <span class='ornekYazi' id='ornekYazi2_1'>en yakın yüzlüğe yuvarlanırsa </span><strong class='sayi' id='ornekSayi4'>1200</strong> <span class='ornekYazi' id='ornekYazi2_2'>olur.</span>"),$(".sayi").css("color","#0070c0","!important").css("font-size","20px").hide(),$(".ornekYazi").hide();for(var f=9;f>=0;f--)id="sayi_"+f,$("#ornekSayilar",a).append("<div class='ornekSayi' id='"+id+"'>"),$("#"+id).html(f).hide().css("padding-bottom","3px");for(f=10;f>=0;f--)deger="#sayi_"+(f-1),$(deger).delay(4500-f*500).fadeIn(400);$("#aciklamaYukari").delay(5500).fadeIn(500),$("#aciklamaAsagi").delay(6e3).fadeIn(500),$("#ornekSayi1").delay(7e3).fadeIn(500),$("#ornekYazi1_1").delay(8e3).fadeIn(500),$("#ornekSayi2").delay(9e3).fadeIn(500),$("#ornekYazi1_2").delay(1e4).fadeIn(500),$("#ornekSayi3").delay(7e3).fadeIn(500),$("#ornekYazi2_1").delay(8e3).fadeIn(500),$("#ornekSayi4").delay(9e3).fadeIn(500),$("#ornekYazi2_2").delay(1e4).fadeIn(500)},Interaction.init=function(a){function h(){g++;var a=Math.floor(Math.random()*9e3+1e3);return c=Math.round(a/10)*10,d=Math.round(a/100)*100,b=g%2==0?c:d,e=g%2==0?"onluğa":"yüzlüğe",console.log("sira"+g+"yuvarlak: "+b),console.log("en yakın onluk: "+c),console.log("en yakın yüzlük: "+d),a}function k(){console.log("kontrole girdim."+i+" "+b);if($("#girdi").val()=="")console.log("if girdi boşsa girdim."+i+" "+b),$("#geriBildirimText").attr("class","status_alert").html("Bütün kutucukları doldurunuz."),$("input").keydown(function(){$("#geriBildirimText").html("")});else{j++;if(i==b)console.log("if doğruysa girdim."+i+" "+b),$("#geriBildirimText").attr("class","status_true").html("Tebrikler"),$("#btnKontrol").hide(),$("#sonraki").show();else if(j<2&&i!=b)$("#geriBildirimText").attr("class","status_false").html("Tekrar deneyin");else if(j>2||i!=b)console.log("if doğruysa girdim."+i+" "+b),$("#geriBildirimText").attr("class","status_false").html("Yanlış.<br /> Doğru Cevap:"),$("#cerceveCevap").show(),$("#btnKontrol").hide(),$("#sonraki").show()}}Main.setObjective("Yandaki sayılar için istenilen yuvarlamayı yaparak klavyeden sayıyı yazınız ve kontrol ediniz."),$(a).append("<div id='cerceve'>"),$("#cerceve").css("width","370px").css("height","45px").css("position","absolute").css("top","50px").css("left","0").css("right","0").css("margin","auto").css("font-size","16px"),$(a).append("<div id='cerceveCevap'>"),$("#cerceveCevap").css("width","370px").css("height","45px").css("position","absolute").css("top","180px").css("left","0").css("right","0").css("margin","auto").css("font-size","16px").hide().html("<strong class='sayi'>"+f+"</strong> en yakın "+e+" yuvarlanırsa <strong class='sayi' id='dogruCevap'>"+b+"</strong> olur.");var b,c,d,e,f,g=0;f=h(),$("#cerceve").html("<strong class='sayi'>"+f+"</strong> en yakın "+e+" yuvarlanırsa <input type='text' class='sayi' id='girdi' maxlength=4  onkeypress='return SadeceRakam(event)'> olur."),$("#cerceveCevap").html("<strong class='sayi' id='soruSayisi'>"+f+"</strong> en yakın "+e+" yuvarlanırsa <strong class='sayi' id='dogruCevap'>"+b+"</strong> olur."),$("#dogruCevap").css("color",dogruCevapGosterimRengi),$("input").live("yeniSoru",function(){$(this).css("width","60px").css("height","40px").css("border","solid 1px black").css("bottom","0px").css("left","0px").css("margin","auto").addClass("input").addClass("number_input_field"),$(".sayi").live("yeniSayi",function(){$(this).css("color","#0070c0","!important").css("font-size","20px")}),$(this).keyup(function(a){i=$("#girdi").val(),a.keyCode==13&&(console.log("Key"+a.keyCode),k()),console.log("girdi: "+i)})}),console.log("Sayi: "+f),$(".sayi").css("color","#0070c0","!important").css("font-size","20px"),$("#girdi").css("width","60px").css("height","40px").css("border","solid 1px black").css("bottom","0px").css("left","0px").css("margin","auto").addClass("input").addClass("number_input_field"),$(a).append("<div class='status_field' id='geriBildirim'>"),$("#geriBildirim",a).append("<div id='geriBildirimText'>"),$(a).append("<style>#geriBildirim{  position:absolute; right:0; left:0; bottom:120px;height:50px; width:200px !important; margin:auto}</style>"),$(a).append("<button class='control_button'id='btnKontrol'>Kontrol</button>"),$(a).append("<style>.control_button{position:absolute; top:230px; right:25px;  }</style>"),$(a).append("<div id='sonraki'>"),$("#sonraki",a).append("<div id='dikdortgen'>"),$("#dikdortgen",a).append("<div id='yazi'>Sonraki</div>"),$("#sonraki",a).append("<div id='ucgen'>"),$(a).append("<style>#sonraki{position:absolute; top:230px; right:110px; height: 30px;cursor:pointer;color:"+divSonrakiYaziRenk+";</style>"),$(a).append("<style> #dikdortgen{position:absolute; margin:auto; bottom: 0px; right:0px; top:0px; left:0px; width:70px; height:30px; background:"+divSonrakiFillRenk+"}</style>"),$(a).append("<style>#ucgen{position:absolute; top:0px; left:70px; width:0, height:0; border-left: 30px solid "+divSonrakiFillRenk+";border-top: 15px solid transparent;border-bottom: 15px solid transparent;}</style>"),$("#yazi").css("width","50px").css("position","absolute").css("height","13px").css("top","0").css("bottom","0").css("left","0").css("right","0").css("margin","auto"),$("#sonraki").hide(),$("#btnKontrol").click(function(){k()}),$("#sonraki").click(function(){f=h(),$("#cerceve").html("<strong class='sayi'>"+f+"</strong> en yakın "+e+" yuvarlanırsa <input type='text' class='sayi' id='girdi' maxlength=4  onkeypress='return SadeceRakam(event)'> olur."),$("input").trigger("yeniSoru"),$(".sayi").trigger("yeniSayi"),$("#dogruCevap").html(b),$("#soruSayisi").html(f),$("#cerceveCevap").hide(),$("#sonraki").hide(),$("#geriBildirimText").html(""),$("#btnKontrol").show(),j=0});var i;$("#girdi").keyup(function(a){$("#geriBildirimText").html(""),i=$("#girdi").val(),a.keyCode==13&&(console.log("Key"+a.keyCode),k()),console.log("girdi: "+i)});var j=0};