function __Styles(){hourDivCss={position:"absolute",bottom:"40px",right:"30px",border:"1px solid #ccc",background:"#fff",width:"50px",fontSize:"20px"}}function Clock(a){this.p=a,this.day=!0,this.animating=!1,this.kadran=new Raster("kadran"),this.kadran.position=this.p,this.yelkovan=new Raster("yelkovan"),this.yelkovan.position=this.p,this.akrep=new Raster("akrep"),this.akrep.position=this.p,this.akrep.lastTransformation=this.akrep.matrix,this.yelkovan.lastTransformation=this.yelkovan.matrix,this.akrepStartAngle=0}var Animation={images:[{id:"moon_sun",src:"/assets/animations/zaman/moon_sun.png"},{id:"floor_day",src:"/assets/animations/zaman/floor_day.png"},{id:"floor_night",src:"/assets/animations/zaman/floor_night.png"},{id:"sky_day",src:"/assets/animations/zaman/sky_day.png"},{id:"sky_night",src:"/assets/animations/zaman/sky_night.png"}],init:function(a){Animation.container=a,Animation.centerPoint=(new Point($(a).width()*.5,$(a).height()*.5)).floor(),Animation.sky_day=new Raster("sky_day"),Animation.sky_day.position=Animation.centerPoint,Animation.sky_night=new Raster("sky_night"),Animation.sky_night.position=Animation.centerPoint,Animation.moon_sun=new Raster("moon_sun"),Animation.moon_sun.firstPosition=new Point(379,462),Animation.moon_sun.position=Animation.moon_sun.firstPosition,Animation.floor_day=new Raster("floor_day"),Animation.floor_day.position=Animation.centerPoint,Animation.floor_night=new Raster("floor_night"),Animation.floor_night.position=Animation.centerPoint;var b=document.createElement("div");$(a).append(b),$(b).css(hourDivCss),Animation.hour=b,Animation.setImagesByTime(0,0),AnimationManager.delay(Animation.play,1e3)},play:function(){Animation.isPaused=!1,Animation.h=0,Animation.m=1,Animation.t=setInterval(function(){if(Animation.isPaused==1)return;Animation.m==60&&(Animation.h++,Animation.m=0),Animation.h==24&&(Animation.h=0),Animation.h==0&&Animation.m==0&&(clearInterval(Animation.t),Main.animationFinished()),Animation.setImagesByTime(Animation.h,Animation.m++)},7)},pause:function(){Animation.isPaused=!0},resume:function(){Animation.isPaused=!1},stop:function(){clearInterval(Animation.t)},setImagesByTime:function(a,b){var c=2*Math.PI*(a*60+b)/1440,d=.5*Math.cos(c)+.5;Animation.floor_night.opacity=d,Animation.sky_night.opacity=d;var e=new Matrix;e.setToRotation(Util.radianToDegree(c/2+Math.PI/2),Animation.moon_sun.firstPosition.x,Animation.moon_sun.firstPosition.y),Animation.moon_sun.setMatrix(e),Animation.moon_sun.position=Animation.moon_sun.firstPosition,b=Math.floor(b/10)*10,Animation.hour.innerHTML=((""+a).length<2?"0":"")+a+":"+((""+b).length<2?"0":"")+b}},Interaction={images:[{id:"time_interval","class":"menu_link_images",src:"/assets/animations/zaman/time_interval.png",linkTo:function(){if(Interaction.pause==1)return;Interaction.pause=!0,$(".menu_link_images").slideDown(500),$("#time_interval").slideUp(500,function(){Interaction.pause=!1,Interaction.openPage(Interaction.timeIntervalPage)})}},{id:"calendar","class":"menu_link_images",src:"/assets/animations/zaman/calendar.png",linkTo:function(){if(Interaction.pause==1)return;Interaction.pause=!0,$(".menu_link_images").slideDown(500),$("#calendar").slideUp(500,function(){Interaction.pause=!1,Interaction.openPage(Interaction.calendarPage)})}},{id:"clock","class":"menu_link_images",src:"/assets/animations/zaman/clock.png",linkTo:function(){if(Interaction.pause==1)return;Interaction.pause=!0,$(".menu_link_images").slideDown(500),$("#clock").slideUp(500,function(){Interaction.pause=!1,Interaction.openPage(Interaction.clockPage)})}},{id:"kadran",src:"/assets/animations/zaman/kadran.jpg"},{id:"akrep",src:"/assets/animations/zaman/akrep.png"},{id:"yelkovan",src:"/assets/animations/zaman/yelkovan.png"}],getFramework:function(){return"paper"},init:function(a){Interaction.container=a,Main.setObjective("Yandaki zaman birimlerinden istediğinizi seçiniz."),Interaction.paper={width:$(a).width(),height:$(a).height()},Interaction.centerPoint=new Point(Interaction.paper.width*.5,Interaction.paper.height*.5),$(Interaction.images).each(function(a,b){a<3&&($(Interaction.container).append($("#"+this.id).get(0)),$("#"+this.id).addClass("menu_link_images").css({position:"absolute",bottom:"100px",left:50+200*a+"px",height:"auto"}).click(this.linkTo))}),Interaction.timeIntervalPage={objective:"Yandaki zaman çizelgesini doldurunuz. Belirtilen olayların tarihlerini üstteki kutulara yazınız. Sizin için önemli diğer tarihleri ve olayları da ekleyebilirsiniz.",init:function(){Interaction.appendStatus({bottom:"20px",right:"10px"});var a=new Group,b=Interaction.centerPoint.add(-250,-50),c=b.add(501,0),d=new Path.OneSidedArrow(b.add(0,3),c.add(0,3),10,30),e=new Path.OneSidedArrow(b.add(0,3),c.add(0,3),10,30);d.rotate(180,Interaction.centerPoint.add(0,-47)),a.addChild(d),a.addChild(e),a.set_style({strokeColor:"#e99d9d",fillColor:"#e99d9d"}),Interaction.timeLine=a,Interaction.yearDivs=[],Interaction.eventDivs=[];var f={transform:"rotate(-90deg)","-webkit-transform":"rotate(-90deg)","-ms-transform":"rotate(-90deg)","-moz-transform":"rotate(-90deg)","-o-transform":"rotate(-90deg)",position:"absolute",width:"80px",height:"40px",border:"1px solid #999",overflow:"hidden",resize:"none",fontFamily:"Arial"};for(var g=0;g<7;g++){a.addChild((new Path.Circle(b.add(40+g*70,3),5)).set_style({fillColor:"#9d4f4f"}));var h=document.createElement("textarea");h.setAttribute("type","text"),Interaction.yearDivs.push(h),$(Interaction.container).append(h),$(h).html("").css(f).css({top:"30px",left:45+g*70,fontSize:"30px",backgroundColor:"#a9dbe4",borderColor:"#7aa7ad"}).keydown(function(a){if(a.keyCode==8||a.keyCode==46)return!0;if(a.target.value.length>=4)return!1;if(a.keyCode>=96&&a.keyCode<=105)return!0;if(isNaN(parseInt(String.fromCharCode(a.keyCode),10)))return!1}).change(function(a){a.target.value!=""&&a.target.eventDiv.value==""&&Interaction.setStatus("Lütfen girdiğiniz tarih karşısına olay yazınız.",!1);for(var b=a.target.index-1;b>=0;b--)parseInt(Interaction.yearDivs[b].value,10)>parseInt(a.target.value,10)&&Interaction.setStatus("Lütfen girdiğiniz tarih kronolojik sıraya uysun.",!1);for(var b=a.target.index+1;b<Interaction.yearDivs.length;b++)parseInt(Interaction.yearDivs[b].value,10)<parseInt(a.target.value,10)&&Interaction.setStatus("Lütfen girdiğiniz tarih kronolojik sıraya uysun.",!1)});var i=document.createElement("textarea");i.setAttribute("type","text"),Interaction.eventDivs.push(i),$(Interaction.container).append(i),$(i).html("").css(f).css({top:"150px",left:25+g*70,width:"120px",backgroundColor:"#f3c884",borderColor:"#b9a077"}).change(function(a){a.target.value!=""&&a.target.yearDiv.value==""&&Interaction.setStatus("Lütfen girdiğiniz olay karşısına tarih yazınız.",!1)}),h.eventDiv=i,i.yearDiv=h,h.index=g,i.index=g}$(Interaction.eventDivs[0]).html("Annem ve babam evlendi."),$(Interaction.eventDivs[2]).html("Doğum tarihim."),$(Interaction.eventDivs[4]).html("Okula başladım.")},dispose:function(a){$(Interaction.status).animate({opacity:0},500,$(Interaction.status).remove),$(Interaction.yearDivs).each(function(a,b){$(this).animate({opacity:0},500,this.remove)}),$(Interaction.eventDivs).each(function(a,b){$(this).animate({opacity:0},500,this.remove)}),Interaction.timeLine.animate({style:{opacity:0},duration:500,animationType:"easeOut",callback:function(){this.remove()}}),setTimeout(function(){Interaction.pause=!1,a()},500)}},Interaction.calendarPage={objective:"Takvimde bulunduğunuz ay ve gün belirtilmiştir. Ay ve günü ileri ya da geri değiştirebilirsiniz.",init:function(){var a=document.createElement("div");$(Interaction.container).append(a),$(a).css({position:"absolute",top:"10px",left:"50%",width:"200px",marginLeft:"-150px"});var b=document.createElement("div");$(a).append("<style></style>");var c=document.createElement("div");$(a).append(c),$(c).datepicker({firstDay:1}),Interaction.calendarContainer=a},dispose:function(a){$(Interaction.calendarContainer).animate({opacity:0},500,function(){$(Interaction.calendarContainer).remove()}),setTimeout(function(){Interaction.pause=!1,a()},500)}},Interaction.clockPage={objective:"Yanda verilen saate göre sorulara cevap veriniz.",init:function(){Interaction.clock=new Clock(new Point(100,100)),Interaction.appendButton({bottom:"40px",right:"40px"}),Interaction.appendStatus({bottom:"10px",right:"40px"}),Interaction.flushInputs();var a={position:"static",height:"24px",fontSize:"16px",width:"24px"};Interaction.dayDiv=Util.dom({parent:Interaction.container,tag:"span",css:{position:"absolute",width:"160px",textAlign:"center",marginLeft:"-80px",left:"95px",top:"20px"}});var b=Interaction.appendInput(a,!0,!1),c=Interaction.appendInput(a,!0,!1);$(b).attr("maxlength",2),$(c).attr("maxlength",2);var d=Interaction.appendQuestion('saat <span id="old_hour"></span>:<span id="old_minute"></span> olduğuna göre <br/><span id="hour"></span>&nbsp;saat&nbsp;<span id="minute"></span>&nbsp;dakika sonra saat&nbsp;',{position:"absolute",top:"100px",right:"40px",width:"400px",textAlign:"right",fontSize:"16px",lineHeight:"30px"});$(d).append(b).append("&nbsp;:&nbsp;").append(c).append("&nbsp;olur."),Interaction.prepareNextQuestion()},dispose:function(a){$(Interaction.startButton).animate({opacity:0},500,$(Interaction.startButton).remove),$(Interaction.dayDiv).animate({opacity:0},500,$(Interaction.dayDiv).remove),$(Interaction.button).animate({opacity:0},500,$(Interaction.button).remove),$(Interaction.status).animate({opacity:0},500,$(Interaction.status).remove),$(Interaction.questionDiv).animate({opacity:0},500,$(Interaction.questionDiv).remove),Interaction.clock.remove(500),Interaction.clock=null,setTimeout(function(){Interaction.pause=!1,a()},500)}}},openPage:function(a){function b(){Interaction._openedPage=Interaction._waitingPage,Interaction._openedPage.init(),Main.setObjective(Interaction._waitingPage.objective),Interaction._waitingPage=null}if(a==Interaction._openedPage)return;Interaction._waitingPage=a,Interaction._openedPage?Interaction._openedPage.dispose(b):($(".menu_link_images").each(function(a,b){$(this).animate({width:$(this).width()*.6,bottom:"10px",left:75+70*a+"px",marginLeft:-$(this).width()*.63},1e3)}),setTimeout(b,1e3))},nextQuestion:function(a){Interaction.dayDiv.innerHTML="",Interaction.clock.setTime({h:0,m:0});var b=Util.dom({parent:Interaction.container,tag:"button",css:{position:"absolute",top:"175px",left:"92px",marginLeft:"-26.5px",width:"75px",height:"30px",backgroundImage:"url(/assets/animations/zaman/btn_gray_start.png)",border:0},html:""});Interaction.startButton=b,$(Interaction.questionDiv).css({opacity:0}),$(b).click(function(){if(Interaction.pause==1)return;Interaction.dayDiv.innerHTML="",Interaction.setStatus(""),Interaction.clock.setTime({h:Math.floor(Math.random()*12),m:Math.floor(Math.random()*11+1)*5},undefined,function(){var a=Math.floor(Math.random()*11+1),b=Math.floor(Math.random()*11+1)*5;$(Interaction.questionDiv).css({opacity:1});var c=Interaction.clock.getTime().h;c=Interaction.clock.isAfternoon()===!0?c+12:c,c=c==0?"0":c;var d=""+Interaction.clock.getTime().m;d=d.length==1?"0"+d:d,Interaction.setQuestionParams([{id:"hour",html:a},{id:"minute",html:b},{id:"old_hour",html:c},{id:"old_minute",html:d}]),Interaction.dayDiv.innerHTML=Interaction.clock.getStatus()}),$(this).remove()})},preCheck:function(){if($(Interaction.questionDiv).css("opacity")==0)return Interaction.setStatus("Lütfen başlat düğmesine basınız.","alert"),!1},isAnswerCorrect:function(a){var b=Interaction.clock.getTime().m+parseInt(Interaction.getQuestionParams()[1].html,10),c=Math.floor(b/60);return b%=60,c=(c+Interaction.clock.getTime().h+parseInt(Interaction.getQuestionParams()[0].html,10))%12,c==0&&(c=12),Interaction.correctAnswer={h:c,m:b},Interaction.clock.isAfternoonWithTime({h:parseInt(Interaction.getQuestionParams()[1].html,10),m:parseInt(Interaction.getQuestionParams()[0].html,10)})===!0?(console.log("afternoon","hour: "+c),c==a[0]||c+12==a[0]?!0:!1):(console.log("not afternoon","hour: "+c),c==a[0]?!0:!1)},onCorrectAnswer:function(){},onWrongAnswer:function(){},onFail:function(){var a=(""+Interaction.correctAnswer.m).length<2?"0":"",b=Interaction.correctAnswer.h,c=Interaction.correctAnswer.m;Interaction.clock.isAfternoonWithTime({h:parseInt(Interaction.getQuestionParams()[1].html,10),m:parseInt(Interaction.getQuestionParams()[0].html,10)})===!0&&(b+=12),Interaction.setStatus("Yanlış, doğru cevap "+b+":"+a+c+" olacaktı.",!1),Interaction.dayDiv.innerHTML="",Interaction.clock.setTime(Interaction.correctAnswer,undefined,function(){Interaction.dayDiv.innerHTML=Interaction.clock.getStatus()})}};Clock.prototype.remove=function(a){isNaN(a)?(this.akrep.remove(),this.yelkovan.remove(),this.kadran.remove()):(this.akrep.animate({style:{opacity:0},duration:500,animationType:"easeOut",callback:function(){this.remove()}}),this.yelkovan.animate({style:{opacity:0},duration:500,animationType:"easeOut",callback:function(){this.remove()}}),this.kadran.animate({style:{opacity:0},duration:500,animationType:"easeOut",callback:function(){this.remove()}}))},Clock.prototype.getTime=function(){return this.endTime},Clock.prototype.setTime=function(a,b,c){if(this.animating==1)return;Interaction.pause=!0,this.animating=!0;if(this.endTime)while(a.h<this.endTime.h)a.h+=12;this.endTime=a,this.endTime.h=this.endTime.h,this.endTime.m=this.endTime.m%60,b?(b.h=b.h,b.m=b.m%60):this.startTime?(b=this.startTime,this.startTime=undefined):b={h:0,m:0},this.endTime.h=this.endTime.h%12;var d=360*b.h+6*b.m,e=30*b.h+b.m*.5,f=360*this.endTime.h+6*this.endTime.m,g=30*this.endTime.h+this.endTime.m*.5;g<e&&(g+=360,f+=4320,this.day=this.day===!0?!1:!0),this.akrepStartAngle+=g-e,console.log("yelkovanStartAngle: "+d,"yelkovanEndAngle: "+f,"akrepStartAngle: "+e,"akrepEndAngle: "+g,"this.akrepStartAngle: "+this.akrepStartAngle),this.clockHelper=new AnimationHelper({yelkovanAngle:d,akrepAngle:e,owner:this}),console.log(this.endTime.h,this.endTime.m),this.clockHelper.animate({style:{yelkovanAngle:f,akrepAngle:g},duration:Math.abs(e-g)*10,animationType:"easeInEaseOut",update:function(){var a=new Matrix;a.rotate(this.akrepAngle,this.owner.p.x,this.owner.p.y),a.concatenate(this.owner.akrep.lastTransformation),this.owner.akrep.setMatrix(a),a=new Matrix,a.rotate(this.yelkovanAngle,this.owner.p.x,this.owner.p.y),a.concatenate(this.owner.yelkovan.lastTransformation),this.owner.yelkovan.setMatrix(a)},callback:function(){this.owner.startTime=this.owner.endTime,this.owner.animating=!1,Interaction.pause=!1,c&&c()}})},Clock.prototype.isAfternoonWithTime=function(a){var b=this.akrepStartAngle%720;return b+=a.h*30+a.m*.5,b%=720,console.log("[isAfternoonWithTime] angle: "+b),b<360?!1:!0},Clock.prototype.isAfternoon=function(){var a=this.akrepStartAngle%720;return a<360?!1:!0},Clock.prototype.getStatus=function(){var a=this.akrepStartAngle%720;if(a<=120)return"gece yarısından sonra";if(a>120&&a<360)return"sabah";if(a==360)return"öğle";if(a>360&&a<=510)return"öğleden sonra";if(a>510&&a<=600)return"akşam";if(a>600&&a<720)return"gece"};