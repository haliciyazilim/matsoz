// JavaScript Document
Main.paperInit=function(){Path.Point=function(a){var b=new Path.Circle(a,2);return b.setStyle({fillColor:"#000"}),b},Path.ArcByAngle=function(a,b,c,d){if(d==null||d==undefined)d=0;var e=new Point(a.x+Math.cos(Util.degreeToRadians(d))*b,a.y+Math.sin(Util.degreeToRadians(d))*b),f=new Point(a.x+Math.cos(Util.degreeToRadians(d+c)/2)*b,a.y+Math.sin(Util.degreeToRadians(d+c)/2)*b),g=new Point(a.x+Math.cos(Util.degreeToRadians(c))*b,a.y+Math.sin(Util.degreeToRadians(c))*b);return new Path.Arc(e,f,g)},Path.Triangle=function(a,b,c){var d=new Path;return d.add(c),d.add(a),d.add(b),d.closed=!0,d},Path.Bowl=function(a,b){var c=a.x,d=a.y,e=b.width,f=b.height,g=new Path;return g.add([c,d]),g.add([c+e,d]),g.add([c+e*.8,d+f]),g.add([c+e*.2,d+f]),g.closed=!0,g},Path.Rhomboid=function(a,b,c){var d=a.x,e=a.y,f=b.width,g=b.height,h=new Path;return h.add([d+c,e]),h.add([d+c+f,e]),h.add([d+f,e+g]),h.add([d,e+g]),h.closed=!0,h},Path.Cube=function(a,b){var c=a.x,d=a.y,e=c+b*.3,f=d+b*.3,g=new Path;return g.add([c,f]),g.add([c,f+b]),g.add([c+b,f+b]),g.add([c+b,f]),g.add([c,f]),g.add([e,d]),g.add([e+b,d]),g.add([c+b,f]),g.add([c+b,f+b]),g.add([e+b,d+b]),g.add([e+b,d]),g.add([c+b,f]),g.closed=!0,g},Path.Rhombus=function(a,b){var c=a.x,d=a.y,e=b.width,f=b.height,g=new Path;return g.add([c,d+f*.5]),g.add([c+e*.5,d]),g.add([c+e,d+f*.5]),g.add([c+e*.5,d+f]),g.closed=!0,g},Path.Trapezoid=function(a,b,c){var d=a.x,e=a.y,f=b.width,g=b.height,h=new Path;return h.add([d,e+g]),h.add([d+(f-c)*.5,e]),h.add([d+(f-c)*.5+c,e]),h.add([d+f,e+g]),h.closed=!0,h},Path.RegularPolygon=function(a,b,c,d){var e=[];for(var f=0;f<c;f++)e[f]=360/c*f;return new Path.EquiradialPolygon(a,b,e,d)},Path.EquiradialPolygon=function(a,b,c,d){var e=a.x,f=a.y,g=b.width,h=b.height,i=Math.random()*60;d!=null&&(i=d);var j=Math.min(g,h)*.5,k=e+g*.5,l=f+h*.5,m=[],n=new Path;for(var o=0;o<c.length;o++){var p=Util.degreeToRadians(-i-c[o]),q=k+j*Math.cos(p),r=l+j*Math.sin(p),a=new Point(q,r);n.add([q,r]),m.push(a)}return n.vertexArray=m,n.centerPoint=new Point(k,l),n.closed=!0,n},Path.OneSidedArrow=function(a,b,c,d){c==null&&(c=3),d==null&&d==undefined&&(d=30);var e=new Group,f=new Path.Line(a,b),g=Util.radianToDegree(Math.asin((a.y-b.y)/a.getDistance(b))),h=Util.degreeToRadians(180+g+d),i=Util.degreeToRadians(180+g-d),j=new Path.Line(b,new Point(b.x+c*Math.cos(h),b.y-c*Math.sin(h))),k=new Path.Line(b,new Point(b.x+c*Math.cos(i),b.y-c*Math.sin(i))),l=new Path;return l.add(b),l.add(new Point(b.x+c*Math.cos(h),b.y-c*Math.sin(h))),l.add(new Point(b.x+c*Math.cos(i),b.y-c*Math.sin(i))),l.closed=!0,f.strokeColor="black",l.style={strokeColor:"black",fillColor:"black"},e.addChild(f),e.addChild(l),e.strokeWidth=2,e},Path.Cylinder=function(a,b){var c=a.x,d=a.y,e=b.width,f=b.height,g,h,i,j;g=c+e*.2,i=c+e*.8,h=d-f*.2,j=d-f*.2;var k=new Group,l=new Path;l.add(new Point(c,d)),l.cubicCurveTo(new Point(g,h),new Point(i,j),new Point(c+e,d)),g=c+e*.2,i=c+e*.8,h=d+f*.2,j=d+f*.2,l.cubicCurveTo(new Point(i,j),new Point(g,h),new Point(c,d)),l.lineTo(new Point(c,d+f)),g=c+e*.2,i=c+e*.8,h=d+f+f*.2,j=d+f+f*.2,l.cubicCurveTo(new Point(g,h),new Point(i,j),new Point(c+e,d+f)),l.lineTo(new Point(c+e,d)),g=c+e*.2,i=c+e*.8,h=d+f*.2,j=d+f*.2,l.cubicCurveTo(new Point(i,j),new Point(g,h),new Point(c,d)),l.closed=!0;var m=new Path;return g=c+e*.2,i=c+e*.8,h=d+f-f*.2,j=d+f-f*.2,m.add(new Point(c,d+f)),m.cubicCurveTo(new Point(g,h),new Point(i,j),new Point(c+e,d+f)),m.style={dashArray:[3.2]},k.addChild(m),k.addChild(l),k},Path.Pyramid=function(a,b){var c=new Group,d=new Path,e=new Point(a.x+b.width*0,a.y+b.height*.8),f=new Point(a.x+b.width*.45,a.y+b.height),g=new Point(a.x+b.width,a.y+b.height*.8),h=new Point(a.x+b.width*.5,a.y),i=new Point(a.x+b.width*.55,a.y+b.height*.6);d.add(e),d.add(f),d.add(g),d.add(h),d.closed=!0;var j=new Path.Line(e,i),k=new Path.Line(g,i),l=new Path.Line(h,i);return j.style={dashArray:[3,2]},k.style={dashArray:[3,2]},l.style={dashArray:[3,2]},c.addChild(j),c.addChild(k),c.addChild(l),c.addChild(d),c.addChild(new Path.Line(f,h)),c},Path.Cone=function(a,b){var c=a.x,d=a.y,e=b.width,f=b.height,g=new Point(c,d+f*.9),h=new Point(c+e*.5,d+f*1.1),i=new Point(c+e,d+f*.9),j=new Point(c+e*.5,d),k=new Point(c+e*.5,d+f*.7),l=new Group,m=new Path;m.add(g),m.arcTo(h,i),m.add(j),m.closed=!0;var n=new Path;return n.add(g),n.arcTo(k,i),n.class="dashed",n.style={dashArray:[3,2]},l.addChild(m),l.addChild(n),l},Path.Sphere=function(a,b){var c=a.x,d=a.y,e=new Point(c-b,d),f=new Point(c+b,d);px1=new Point(c,d+b*.2),px2=new Point(c,d-b*.2);var g=new Group,h=new Path.Circle(a,b),i=new Path,j=new Path;return i.add(e),i.arcTo(px1,f),j.add(e),j.arcTo(px2,f),j.style={dashArray:[3,2]},g.addChild(j),g.addChild(h),g.addChild(i),g},Path.SquarePrisim=function(a,b,c){return new Path.RectanglePrisim(a,new Size(b,b),new Size(c,c))},Path.RectanglePrisim=function(a,b,c){var d=a.x,e=a.y,f=new Point(d,e+c.height),g=new Point(d,e+b.height+c.height),h=new Point(d+b.width,e+c.height),i=new Point(d+c.width,e),j=new Point(d+b.width+c.width,e),k=new Point(d+c.width+b.width,e+b.height);p7=new Point(d+c.width,e+b.height),p8=new Point(d+b.width,e+b.height+c.height);var l=new Group,m=new Path;m.add(f),m.add(i),m.add(j),m.add(k),m.add(p8),m.add(g),m.add(f),m.add(h),m.add(p8);var n=new Path.Line(h,j),o=new Path.Line(g,p7),p=new Path.Line(p7,i),q=new Path.Line(p7,k);return o.style={dashArray:[3,2]},q.style={dashArray:[3,2]},p.style={dashArray:[3,2]},o.class="dashed",q.class="dashed",p.class="dashed",o.insertBelow(m),p.insertBelow(m),q.insertBelow(m),l.addChild(o),l.addChild(p),l.addChild(q),l.addChild(m),l.addChild(n),l},Path.TrianglePrisim=function(a,b){var c=a.x,d=a.y,e=b.width,f=b.height,g=.5,h=.3,i=new Group,j=new Point(c,d+f),k=new Point(c+e*(1-g),d+f),l=new Point(c+e*(1-g)*.5,d+f*h),m=new Point(c+e,d+f*(1-h)),n=new Point(c+e*(1-g)*.5+e*g,d),o=new Point(c+e*g,d+f*(1-h)),p=new Path;p.add(k),p.add(j),p.add(l),p.add(k),p.add(m),p.add(n),p.add(l);var q=new Path.Line(j,o),r=new Path.Line(n,o),s=new Path.Line(m,o);return q.style={dashArray:[3,2]},s.style={dashArray:[3,2]},r.style={dashArray:[3,2]},i.addChild(q),i.addChild(r),i.addChild(s),i.addChild(p),i},Path.SegmentedRectangle=function(a,b,c,d,e,f,g,h){var k=new Group,l=new Path,m=0;for(j=0;j<f;j++)for(i=0;i<e;i++)l=Path.Rectangle(new Point(a+i*c/e,b+j*d/f),new Size(c/e,d/f)),l.strokeColor="#000",l.strokeWidth=1,k.addChild(l),m<g&&(l.fillColor=h,m+=1);return k},Path.SegmentedCircle=function(a,b,c,d,e){var f=new Group,g,h=2*Math.PI/d,i=-Math.PI/2,j=i+h,k=0;for(g=0;g<d;g++){var l=new Path,m=new Point(a.x+Math.cos(i)*b,a.y+Math.sin(i)*b),n=new Point(a.x+Math.cos((i+j)/2)*b,a.y+Math.sin((i+j)/2)*b),o=new Point(a.x+Math.cos(j)*b,a.y+Math.sin(j)*b);l.moveTo(a),l.lineTo(m),l.arcTo(n,o),l.lineTo(a),l.closePath(),i+=h,j+=h,l.strokeColor="#000",l.strokeWidth=1,f.addChild(l),k<c&&(l.fillColor=e,k+=1)}return f},Path.Fraction=function(a,b,c,d,e,f){var g=new Group,h=new Path;return c2=b+e,c3=a+e*1.5,c&&(pay=new PointText(a+e*5/7,b),pay.content=c,pay.style=textStyle,g.addChild(pay)),d&&(payda=new PointText(a+e*5/7,c2+e),payda.content=d,payda.style=textStyle,g.addChild(payda)),h.strokeColor="black",h.add(new Point(a,Math.floor(b+e)+.5)),h.add(new Point(a+e*f,Math.floor(b+e)+.5)),g.addChild(h),g},Item.prototype.animate=function(a){if(typeof a!=typeof {}||a instanceof Array)throw"The argument to Item.animate needs be a Hash";AnimationManager.animate(new AnimationManager.Animation(this,a))},Item.prototype.setStyle=function(a){if(typeof a!=typeof {}||a instanceof Array)throw"The argument to Item.setStyle needs be a Hash";for(var b in a)a.hasOwnProperty(b)&&(this.style[b]=a[b]);return this},Point.prototype.getRotatedPoint=function(a,b){return new Point(Math.cos(Util.degreeToRadian(a))*(this.x-b.x)-Math.sin(Util.degreeToRadian(a))*(this.y-b.y)+b.x,Math.sin(Util.degreeToRadian(a))*(this.x-b.x)+Math.cos(Util.degreeToRadian(a))*(this.y-b.y)+b.y)},Point.prototype.showOnCanvas=function(){var a=new Path.Circle(this,3);return a.setStyle({fillColor:"#000"}),this.canvasPoint=a,a},Point.prototype.projectToLine=function(a,b){var c=this.subtract(b),d=a.subtract(b),e=c.dot(d);return d.multiply(e/d.dot(d)).add(b)}};