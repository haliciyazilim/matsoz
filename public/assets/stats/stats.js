var chart1,chart2;$(document).ready(function(){var a=["#33aa33","#cccc33","#ff7733","#ff3333","#666677"];chart1=new Highcharts.Chart({chart:{renderTo:"pie_chart",type:"pie",plotBackgroundColor:"#eff4f9",plotBorderWidth:null,plotShadow:!1},colors:a,title:{text:"Current State"},subtitle:{text:lastStat.date_str},tooltip:{formatter:function(){return"<b>"+this.point.name+"</b>: "+this.y}},plotOptions:{pie:{dataLabels:{enabled:!0,color:"#000000",connectorColor:"#000000",formatter:function(){return"<b>"+this.point.name+"</b>: "+this.y}}}},series:[{type:"pie",name:"Browser share",data:[["Accepted",lastStat.accepted],["Delivered",lastStat.delivered],["Finished",lastStat.finished],["Active",lastStat.started+lastStat.rejected],["Not Yet Started",lastStat.unscheduled]]}]});var b=[],c=[],d=[],e=[],f=[],g=[];for(var h=0;h<stats.length;h++){console.log(i);var i=stats[h];b.push(i.date_str),c.push(i.accepted),d.push(i.delivered),e.push(i.finished),f.push(i.started+i.rejected),g.push(i.unscheduled)}chart2=new Highcharts.Chart({chart:{renderTo:"stacked_area",type:"area"},colors:a,title:{text:"Stats History"},xAxis:{categories:b},yAxis:{title:{text:"Number"}},tooltip:{formatter:function(){return""+this.series.name+": "+Highcharts.numberFormat(this.y,0,",")}},plotOptions:{area:{stacking:"normal",lineColor:"#666666",lineWidth:1,marker:{lineWidth:1,lineColor:"#666666"}}},series:[{name:"Accepted",data:c},{name:"Delivered",data:d},{name:"Finished",data:e},{name:"Active",data:f},{name:"Not Yet Started",data:g}]})});