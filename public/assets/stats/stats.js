var chart1,chart2;$(document).ready(function(){chart1=new Highcharts.Chart({chart:{renderTo:"pie_chart",type:"pie",plotBackgroundColor:"#eff4f9",plotBorderWidth:null,plotShadow:!1},title:{text:"Current State"},subtitle:{text:lastStat.date_str},tooltip:{formatter:function(){return"<b>"+this.point.name+"</b>: "+this.y}},plotOptions:{pie:{dataLabels:{enabled:!0,color:"#000000",connectorColor:"#000000",formatter:function(){return"<b>"+this.point.name+"</b>: "+this.y}}}},series:[{type:"pie",name:"Browser share",data:[["Accepted",lastStat.accepted],["Delivered",lastStat.delivered],["Finished",lastStat.finished],["Active",lastStat.started+lastStat.rejected],["Not Yet Started",lastStat.unscheduled]]}]});var a=[],b=[],c=[],d=[],e=[],f=[];for(var g=0;g<stats.length;g++){console.log(h);var h=stats[g];a.push(h.date_str),b.push(h.accepted),c.push(h.delivered),d.push(h.finished),e.push(h.started+h.rejected),f.push(h.unscheduled)}chart2=new Highcharts.Chart({chart:{renderTo:"stacked_area",type:"area"},title:{text:"Stats History"},xAxis:{categories:a},yAxis:{title:{text:"Number"}},tooltip:{formatter:function(){return""+this.series.name+": "+Highcharts.numberFormat(this.y,0,",")}},plotOptions:{area:{stacking:"normal",lineColor:"#666666",lineWidth:1,marker:{lineWidth:1,lineColor:"#666666"}}},series:[{name:"Accepted",data:b},{name:"Delivered",data:c},{name:"Finished",data:d},{name:"Active",data:e},{name:"Not Yet Started",data:f}]})});