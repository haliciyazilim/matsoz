var chart1,chart2;$(document).ready(function(){var a=["#33aa33","#cccc33","#ff7733","#ff3333","#666677"],b=["#666677","#ff3333","#ff7733","#cccc33","#33aa33"];chart1=new Highcharts.Chart({chart:{renderTo:"pie_chart",type:"pie",plotBackgroundColor:"#eff4f9",plotBorderWidth:null,plotShadow:!1},colors:a,title:{text:"Current State"},subtitle:{text:lastStat.date_str},tooltip:{formatter:function(){return"<b>"+this.point.name+"</b>: "+this.y}},plotOptions:{pie:{dataLabels:{enabled:!0,color:"#000000",connectorColor:"#000000",formatter:function(){return"<b>"+this.point.name+"</b>: "+this.y}}}},series:[{type:"pie",name:"Browser share",data:[["Accepted",lastStat.accepted],["Delivered",lastStat.delivered],["Finished",lastStat.finished],["Active",lastStat.started+lastStat.rejected],["Not Yet Started",lastStat.unscheduled]]}]});var c=[],d=[],e=[],f=[],g=[],h=[];for(var i=0;i<stats.length;i++){console.log(j);var j=stats[i];c.push(j.date_str),d.push(j.accepted),e.push(j.delivered),f.push(j.finished),g.push(j.started+j.rejected),h.push(j.unscheduled)}chart2=new Highcharts.Chart({chart:{renderTo:"stacked_area",type:"area"},colors:b,title:{text:"Stats History"},xAxis:{categories:c},yAxis:{title:{text:"Number"}},tooltip:{formatter:function(){return""+this.series.name+": "+Highcharts.numberFormat(this.y,0,",")}},plotOptions:{area:{stacking:"normal",lineColor:"#666666",lineWidth:1,marker:{lineWidth:1,lineColor:"#666666"}}},series:[{name:"Not Yet Started",data:h},{name:"Active",data:g},{name:"Finished",data:f},{name:"Delivered",data:e},{name:"Accepted",data:d}]})});